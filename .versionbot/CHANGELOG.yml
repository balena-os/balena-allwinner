- commits:
    - subject: Specify full path in repo.yml upstreams
      hash: d32d8dc04885b8ebcbeb21862e0c2a20596dad72
      body: |
        This is required so that versionist can automatically include nested
        changelogs from renovate PRs.
      footer:
        Changelog-entry: Specify full path in repo.yml upstreams
        changelog-entry: Specify full path in repo.yml upstreams
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Add renovate configuration
      hash: 824b15b6b8f28ad9e2d15be66066dd20ce8a4c18
      body: ""
      footer:
        Changelog-entry: Add renovate configuration
        changelog-entry: Add renovate configuration
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.85.10+rev8
  title: "'alexgg/renovate'"
  date: 2022-03-29T13:45:06.420Z
- commits:
    - subject: Update balena-yocto-scripts to v1.17.2
      hash: 1621bd07c70725f464a694f860b426a1f68c1405
      body: |
        Update balena-yocto-scripts from v1.17.0 to v1.17.2
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-yocto-scripts to v1.17.2
        changelog-entry: Update balena-yocto-scripts to v1.17.2
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "prepare-and-start: Remove balena login"
              hash: 67568d3a5eceb45ee65c245baae18fa299366f9e
              body: |
                The login will happen as needed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.17.2
          title: "'prepare-and-start: Remove balena login'"
          date: 2022-02-25T09:19:00.323Z
        - commits:
            - subject: "balena-deploy.inc: Do no deploy device logo to deprecated endpoint"
              hash: 54ad619b8b9c00d7c52cfc90593b22c70233d973
              body: |
                As per https://jel.ly.fish/a533a6bd-1c98-412c-ae60-8427e3f7b005,
                the /device-types/v1 endpoint is deprecated and we can remove
                the logo from the device repos so we can also stop handling it
                from here. Instead, the logo will be used from the hw contracts.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: balena-yocto-scripts-1.17.1
          date: 2022-01-27T07:38:18.417Z
  version: 2.85.10+rev7
  title: "'balena-yocto-scripts: Update to v1.17.2'"
  date: 2022-02-25T10:40:15.826Z
- commits:
    - subject: Update balena-yocto-scripts to v1.17.0
      hash: b742f81c4d9ad3a3ec65be4755bae97d7b61387c
      body: |
        Update balena-yocto-scripts from v1.16.3 to v1.17.0
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-yocto-scripts to v1.17.0
        changelog-entry: Update balena-yocto-scripts to v1.17.0
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "balena-lib: Fix fetching meta-balena base version"
              hash: d5d838339ed23ecd242092bf4214fe2505ccd181
              body: >
                On an ESR branch the VERSION file contains the ESR version, not
                the

                base meta-balena version.


                Replace it with searching down the git tree for the commit before the

                branch.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build-block: Use true/false for ESR variable"
              hash: 24876740b2299d092ea3cd1b54f61a020d12a5ba
              body: |
                Keep the same boolean format as in the rest of the files.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy-block: Label ESR hostapps"
              hash: 1c6561daf9f16e579d55305471274e7793dc3619
              body: >
                ESR hostapps need special labels in order to be recognized. This
                commit

                adds the esr-current, esr-next and esr-sunset labels.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-api: add balena_api_fetch_fleet_tag"
              hash: 2ced90fc432298abf14e00d4ac58cc8eaf003b24
              body: |
                Add a function to retrieve fleet tags.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-api: Set policy on ESR hostapps"
              hash: 6e4d7b3d2ccbd1a5c67d94cc73c4552775ce3b94
              body: >
                ESR hostapps need an esr release-policy in order to be
                recognized.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy: Pass ESR variable when creating apps"
              hash: 2497bfb59ae16810169718e6d383d0bc9d564a04
              body: >
                ESR hostapps need special labels in order to be recognized. This
                allows

                to add those flags when creating the hostapp.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.17.0
          date: 2022-01-20T12:30:21.992Z
        - commits:
            - subject: "balena-deploy: Deploy passing the latest meta-balena version and not
                tag"
              hash: 9d5fa316dbda3d4782e782abaceed41efe3e5a99
              body: >
                The last meta-balena version and tag might not be the same, like
                in the

                case of ESR branches.


                Fixes #249
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-lib: Add balena_lib_get_meta_balena_base_version"
              hash: 25840dc98e138781e78530be0437f3950970f263
              body: >
                Retrieves the last meta-balena version, which may not be the
                same as the

                last meta-balena tag.


                For example, when we branch an ESR release, the meta-balena branch is

                tagged with the ESR name, like 2.83.x, while the last meta-balena version

                will be a proper semver.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.16.4
          date: 2022-01-18T09:50:54.889Z
  version: 2.85.10+rev6
  date: 2022-01-20T14:22:05.510Z
- commits:
    - subject: Update balena-yocto-scripts to v1.16.3
      hash: 283f6dbefa56a2f1a0a09ddf29dac9b304f88932
      body: |
        Update balena-yocto-scripts from v1.16.1 to v1.16.3
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-yocto-scripts to v1.16.3
        changelog-entry: Update balena-yocto-scripts to v1.16.3
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "balena-deploy-block: Check for existing tag only in specific hostapp"
              hash: 8893fd94bc0cc31a7fa7af8a87af68a69fec908d
              body: |
                The same version tag can exist across different hostapps.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.16.3
          date: 2022-01-17T17:18:11.734Z
        - commits:
            - subject: "balena-api: Propagate balena API environment, token and OS
                organization"
              hash: 64c2854c85aafebf80e6a13b725ff610ae25a467
              body: >
                This is required to allow building against cloud instances with

                different names for the balenaOS organization and private device types.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-build.sh: Propagate balena API environment and token"
              hash: 35d39c4a400df0552bfb3d875c8a9d1289ad8d4e
              body: |
                This is required to use the API for private slugs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "prepare-and-start: Propagate balena API environment and token"
              hash: bb7b903e00fc153afea182a330da08a49b72cced
              body: >
                The balena-build.sh script accepts a token in the command line.
                This

                commit modifies the prepare-and-start.sh script to use it if

                available, and also modifies it to take into account the balena

                environment too.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.16.2
          date: 2022-01-15T16:04:34.389Z
  version: 2.85.10+rev5
  date: 2022-01-18T14:52:23.383Z
- commits:
    - subject: Update balena-yocto-scripts to v1.16.1
      hash: f1c1a07766cc8dd91489d3d00925b2e6ea506122
      body: |
        Update balena-yocto-scripts from v1.16.0 to v1.16.1
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-yocto-scripts to v1.16.1
        changelog-entry: Update balena-yocto-scripts to v1.16.1
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "revert_overrides: Add intel-quark to architecture overrides"
              hash: cbcbbc42c10700c77e17d8f9224e35bec90280fe
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.16.1
          date: 2022-01-11T14:37:00.027Z
  version: 2.85.10+rev4
  date: 2022-01-12T19:06:39.560Z
- commits:
    - subject: Update balena-yocto-scripts to v1.16.0
      hash: a73169529c2d8520c2ab52fa5eef64c9d8c22786
      body: |
        Update balena-yocto-scripts from v1.15.8 to v1.16.0
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-yocto-scripts to v1.16.0
        changelog-entry: Update balena-yocto-scripts to v1.16.0
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "balena-deploy: Check for file existence before deploying"
              hash: 36494bf99a08b68a5afac5038d4691a583d01500
              body: >
                When discontinuing a device type, there are no artifacts apart
                from

                device-type.json, so check that the logo is there before deploying.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy-block: Check existence of tag before re-deploying"
              hash: c1a5b20b0ef0d04a30b6bf0bcfacf0a527e931ae
              body: >
                If a release is already tagged with this version, issue a
                warning and

                bail out.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-api: Add function to check the existence of a release tag"
              hash: bdc2146c3ad719f5c7335aeb7b4ee43775a20ac7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy-block: Finalize releases when deployed"
              hash: 1e3768132d87295998bd9a17d0f01121e161e312
              body: >
                For now and until a proper CI/CD workflow is in place, finalize
                releases

                on deployment.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Accept deployments without balena.yml
              hash: 23c1f91993f37a18ade26ceef621e24409be5f74
              body: >
                If no balena.yml file exists, the deployment will go through
                without

                setting a release semver.


                For the time being we are still using a version label in the hostapp.


                This commit will be reverted once we get rid of the version label.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Accept deployments without balena.yml
                changelog-entry: Accept deployments without balena.yml
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_generate_ami: Remove variant from image name"
              hash: 0fe3d6c8d0ebff85248f0bed99750186f05ab686
              body: |
                The OS is now a unified image so there are no variants.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-build.sh: Stop building OS variants"
              hash: 4e65c83e7808e91c99e335609142401e0031ed23
              body: |
                The OS is now a unified image so there are no variants.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build.sh: Remove buildFlavor"
              hash: b66f7ce58f0c12f78941ed34eb311bbd3a96af1c
              body: |
                The OS is now a unified image so there are no build flavours.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build-blocks: Remove variant build option"
              hash: e7fb9fc8354445bcbc05687e1f96aa0e8025ecc9
              body: |
                The OS is now a unified image without variants.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy: Stop using .dev/.prod variant suffixes"
              hash: 65c030b986f62b0faaddba501520662a8ac2777d
              body: >
                The OS has now a unified image that can be configured to be
                development

                or production mode.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy-block: Stop tagging hostapp releases with variant"
              hash: 3fc5efeeef4ae74e499504c1148932539a49c28e
              body: >
                The API will stop using the variant tag but will still use the
                version

                tag.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-lib: Use externalVersion to match contracts"
              hash: 385c5bacfc1452e4b065de55bfdf71727b303fff
              body: >
                The version refers to the actual contract, while the
                externalVersion is

                the one that refers to the balenaOS revision.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build: Deploy hostapp like any other block"
              hash: bfe7f51dc75f335d38fa4dbf824fa887be8d82ee
              body: |
                Use common functions for block deployments
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build-blocks: Separate block build release deployment"
              hash: 70fe00969921bbf6894cc86ecb343eb342c6f2ca
              body: >
                Separating the build and release of blocks allows to use common
                code for

                block release.


                Also, pass a flag to specify whether the block should be deployed as final

                release.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy-block: Use release versioning"
              hash: d1c74d0261f17ebcad9825bc7e0df22142da14a3
              body: >
                Deploy as draft releases by default. Final releases will be
                flagged

                once validation passes.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build: Remove discontinued check"
              hash: 55774ee27f938bbcbb238aa6441680b3d39172c3
              body: >
                Individual deploy functions now bail out for discontinued device
                types,

                there is no need to check for it here.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy: Do not deploy discontinued device types"
              hash: f54251e61c466018072e04c344595b3eba70bf57
              body: >
                Check for discontinued device types before deploying to
                dockerhub or

                to balenaCloud.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy: Discontinued device types use meta-balena version"
              hash: bbecd72c64bf8ff1277a10c03cb39fbf99748e05
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy: Adapt balena_deploy_block to release versioning and use
                it"
              hash: cfc0bc43af1fb60ff3ddd56f08ae781edaa90b68
              body: >
                * Convert balena_deploy_build_block to balena_build_block, and
                deploy
                  with balena_deploy_block
                * Remove balena_deploy_hostapp and replace with balena_deploy_block

                * Modify balena_deploy_hostos to use balena_deploy_block

                * Modify balena_deploy_block to use release versioning


                By deafult image deployments happen as draft versions, and only become

                final when passing validation.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-build-block: Remove image release"
              hash: 443269afbe867cb5c464ca5dd91bf27aa51427bd
              body: >
                Deal with the release separately so we can use common code for
                it.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-api: Use release revision for fetchers"
              hash: f501ac55e327af0db2142a146423e83f459e0c1f
              body: >
                When fetching images for blocks, use a given release revision.


                Also, add token autentication to the API calls that miss it so that they work

                with private device types.


                Finally, fix indentation.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build-block: Remove release version API setter"
              hash: 8e27328a0caec2acc7651dfe64f8dfc5510e48e0
              body: >
                When using the now deprecated release_version field, the API
                would

                reject deployments for an existing release.


                On the new versioning model, deployments increment a revision field so

                there is no need to check for uniqueness.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-api: Remove release version API setter"
              hash: 42486a59654047cf42f19bd999ef0bcd0a279ea5
              body: >
                This functionality has now been deprecated in the balena API is
                favour

                of draft/final release versioning.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-lib: Use release versioning"
              hash: de2c7af440c1ae4d6f84c5440368f92333500389
              body: >
                BalenaCloud has now a release versioning feature that deprecates
                the

                use of release_version.


                Introduce a new balena_lib_release() function that utilises a balena

                contract and the CLI to set the release version.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.16.0
          date: 2021-12-30T15:08:43.225Z
        - commits:
            - subject: "balena-deploy: Set leviathan networkWireless mode based on device
                slug"
              hash: 891fadcbabe422e24245beb720cf7326a5ea1136
              body: >
                These changes are currently made in the Jenkins job, so it's
                preferrable

                to have it done by the packaging scripts.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-yocto-scripts-1.15.10
          date: 2021-12-02T21:08:09.863Z
        - commits:
            - subject: Substitute the worker types for generic device slugs
              hash: 7539caf732975a5b114abc371a5f6df211d12812
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-yocto-scripts-1.15.9
          date: 2021-11-26T19:20:31.029Z
  version: 2.85.10+rev3
  date: 2022-01-03T09:03:13.695Z
- commits:
    - subject: Update balena-yocto-scripts from v1.15.2 to v1.15.8
      hash: 231c130a864e2d04b2db496d420875cccb9e9be8
      body: |
        Update balena-yocto-scripts from 1.15.2 to 1.15.8
      footer:
        Changelog-entry: Update balena-yocto-scripts from v1.15.2 to v1.15.8
        changelog-entry: Update balena-yocto-scripts from v1.15.2 to v1.15.8
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "Dockerfile_yocto-build-env: Install Honister host deps"
              hash: efc069c609431965394912d3ffd34362a1108852
              body: >
                See
                http://docs.yoctoproject.org/next/migration-guides/migration-3.4.html#new-host-dependencies
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: balena-yocto-scripts-1.15.8
          date: 2021-11-03T10:01:44.980Z
        - commits:
            - subject: "jenkins_build.sh: Fix deployment for discontinued device types"
              hash: 84e65e937fef38625277fb8330ebd3179c466d04
              body: >
                Do not deploy dockerhub or hostapp images for discontinued
                device types.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build.sh: Remove PRIVATE_DT as it is unused"
              hash: 35fd54620ff5eb487b1323a1ead5fef9c157e385
              body: >
                The private device types status is checked with the API when
                required.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build.sh: Fix lint warnings"
              hash: 068a4197101a2db4aba60793e01564b67d14f820
              body: |
                Fix some minor lint warnings.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.15.7
          date: 2021-10-25T16:57:03.955Z
        - commits:
            - subject: "balena-generate-ami.sh: wait for boot partition when preloading AMI"
              hash: d2ea170a86810a782eeb241e178d4ad72c4939b0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: balena-yocto-scripts-1.15.6
          date: 2021-10-21T15:04:37.774Z
        - commits:
            - subject: "jenkins_generate_ami.sh: Use a shared directory for preloaded image"
              hash: 9b032f2fddc970db13147b4e637abd1bada1f234
              body: >
                The previous commit moved the preloaded image out of yocto
                cache, which

                made it unreachable from the balena-generate-ami-env container.


                This patch makes mktemp create the file back within yocto cache to ensure

                this is shared yet still each concurrent process can safely have its own copy.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: balena-yocto-scripts-1.15.5
          date: 2021-10-21T04:50:17.146Z
        - commits:
            - subject: "barys: update development image variables"
              hash: 427510332026ca8636dedb6630632a740b481374
              body: |
                Update the DEVELOPMENT_IMAGE references to use OS_DEVELOPMENT
                following the changes to the handling of OS variants.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "barys: update development image variables"
                changelog-entry: "barys: update development image variables"
                Signed-off-by: Mark Corbin mark@balena.io
                signed-off-by: Mark Corbin mark@balena.io
              author: Mark Corbin
              nested: []
          version: balena-yocto-scripts-1.15.4
          date: 2021-10-20T09:40:14.890Z
        - commits:
            - subject: "jenkins_generate_ami.sh: Preload outside of yocto cache"
              hash: fb1763984d76218adc2510da6cb673fbad7197be
              body: >
                Since the file name is hardcoded at this moment, this fails when
                two

                builds are running in parallel (e.g. dev and prod variants during deploy)

                because they try to preload the same file at pretty much the same moment.

                Having a separate copy for each outside of yocto cache should fix the issue.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: balena-yocto-scripts-1.15.3
          date: 2021-10-20T05:12:57.093Z
  version: 2.85.10+rev2
  date: 2021-11-04T16:49:30.715Z
- commits:
    - subject: Update balena-yocto-scripts from v1.14.9 to v1.15.2
      hash: 2d550c5b18879c182e6ffce7049c30c4e62ffc1a
      body: |
        Update balena-yocto-scripts from 1.14.9 to 1.15.2
      footer:
        Changelog-entry: Update balena-yocto-scripts from v1.14.9 to v1.15.2
        changelog-entry: Update balena-yocto-scripts from v1.14.9 to v1.15.2
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested:
        - commits:
            - subject: "balena-generate-ami.sh: correctly mount boot partition when injecting
                SSH key"
              hash: c0f6da3e4fe3f9c51ba8b279986a6f4baffe6d96
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: balena-yocto-scripts-1.15.2
          date: 2021-10-01T14:45:58.407Z
        - commits:
            - subject: Update balena-cli to 12.50.1
              hash: 700ebe6d06385440488a42c42179d19434376209
              body: >
                This is necessary for AMI preloading to work, additionally

                it has been more than a year since the last update, we should keep up.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-cli to 12.50.1
                changelog-entry: Update balena-cli to 12.50.1
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: balena-yocto-scripts-1.15.1
          date: 2021-10-01T10:11:14.438Z
        - commits:
            - subject: "jenkins_generate_ami.sh: Use lib function to get arch from
                config.json"
              hash: fffe9ffb363c9eed783a5055e69847c81eb68bcd
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "balena-generate-ami.sh: Look for boot partition by label rather than
                hardcoding p1"
              hash: 45786e701d05811f96d0aeef20481442bb1d0f1c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "balena-generate-ami.sh: Fail if AMI already exists"
              hash: 9e9a792aed2a659c1ed7327237a61594033b308a
              body: >
                This was only ignored for development purposes, we should not
                replace

                released images.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "balena-generate-ami.sh: sync after writing config.json"
              hash: f0838aaee9751a6fb60558a7646d597b1f99b1c3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "balena-generate-ami.sh: Stick to POSIX-compliant [ instead of [["
              hash: 2c6a97c263a71c63387290fca29ba5b01eba8db4
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "balena-generate-ami.sh: Remove useless statements"
              hash: 9d4ac02f3ad8eadaed79703dbc859c4950449810
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "jenkins_generate_ami.sh: Use architecture as suffix instead of machine
                name"
              hash: 7d2e3911defedc500b3b1ded3268dbe74bb523b0
              body: >
                This removes the necessity for the DT being named generic-*. It
                also means

                all the DTs of the same architecture will preload the same app.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "jenkins_build.sh: pass MACHINE to jenkins_generate_ami.sh"
              hash: 0e33582e2860474e1c6aff5275539b1333aef6b9
              body: >
                This removes the dependency on JOB_NAME from
                jenkins_generate_ami.sh
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "AMI automation: Adjust AMI names to be compatible with AWS API"
              hash: bc91b7036b32aa57c053c115ac87b7f21fa634c8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: ab77
              nested: []
            - subject: "AMI automation: Correct S3 bucket name and key"
              hash: 8864adcb20c1f4cbfd48e422dbae44b885c8ca06
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: ab77
              nested: []
            - subject: "AMI automation: Add a separate container for generaing AMI"
              hash: d7d91ff4c3ea655dfa9a483a020d2d16aa5e0f49
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "AMI automation: shellcheck and resolve violations"
              hash: 6b11dd26bc1229aafed98c5933f23e892811f49f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: ab77
              nested: []
            - subject: "AMI automation: Use staging env by default"
              hash: 21fa55a6f73faf59fe5fc3b1e6e8bc4084e17c01
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Tomás Tormo <tomast@balena.io>
                signed-off-by: Tomás Tormo <tomast@balena.io>
              author: Tomás Tormo
              nested: []
            - subject: "AMI automation: Simplify public ssh addition. Do not use sudo"
              hash: dd96771607f79620a241e4dee99879542643f55f
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Tomás Tormo <tomast@balena.io>
                signed-off-by: Tomás Tormo <tomast@balena.io>
              author: Tomás Tormo
              nested: []
            - subject: "automation: Generate and publish AMI from the raw balenaOS image"
              hash: efe2b5beb5ea6b00fff07372a312c7e0c690654b
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Tomás Tormo <tomast@balena.io>
                signed-off-by: Tomás Tormo <tomast@balena.io>
              author: Tomás Tormo
              nested: []
          version: balena-yocto-scripts-1.15.0
          date: 2021-10-01T04:12:24.310Z
    - subject: Update meta-balena from v2.85.4 to v2.85.10
      hash: 6f2246083b323062ce0340824ef7eb20b6fc740f
      body: |
        Update the meta-balena submodule from 2.85.4 to 2.85.10
      footer:
        Changelog-entry: Update meta-balena from v2.85.4 to v2.85.10
        changelog-entry: Update meta-balena from v2.85.4 to v2.85.10
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
    - subject: Update poky to dunfell-23.0.6
      hash: ef13b9fe2fa9dfa917c43ff97a82048b16c0c71b
      body: ""
      footer:
        Changelog-entry: Update poky to dunfell-23.0.6
        changelog-entry: Update poky to dunfell-23.0.6
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.85.10+rev1
  date: 2021-10-18T14:38:37.950Z
- commits:
    - subject: "meta-balena-allwinner: update local.conf.sample"
      hash: b981ddbb27769988243a74d23431556ef043d7aa
      body: |
        Update the sample configuration file to use OS_DEVELOPMENT instead of
        DEVELOPMENT_IMAGE.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "meta-balena-allwinner: update local.conf.sample"
        changelog-entry: "meta-balena-allwinner: update local.conf.sample"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.85.4+rev2
  date: 2021-10-18T13:37:18.630Z
- commits:
    - subject: "linux-mainline: Remove config check warnings"
      hash: 5ad052f26292c1ffd30841b5345b1759e0db4a88
      body: >
        * Both CONFIG_USB_SERIAL and CONFIG_USB_SERIAL_PL2303 are now built-in

        in the meta-balena kernel class.

        * Add dependencies for CONFIG_DRM_SUN8I_DW_HDMI

        * CONFIG_CONFIGFS_FS is already built-in in defconfig, so cannot force it
          to build a module
      footer:
        Changelog-entry: "linux-mainline: Remove config check warnings"
        changelog-entry: "linux-mainline: Remove config check warnings"
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "packagegroup-balena-connectivity: Add linux-firmware-bcm43362"
      hash: c730c68edc837c449359c72c81b412e51071813b
      body: |
        This meta-balena package replaces the custom brcm43362 removed in the
        previous commit.
      footer:
        Changelog-entry: "packagegroup-balena-connectivity: Add linux-firmware-bcm43362"
        changelog-entry: "packagegroup-balena-connectivity: Add linux-firmware-bcm43362"
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "linux-firmware: Remove custom brcm43362 packaging"
      hash: 8680c9a5ca9a39e266ed5d6145938c2224d567f0
      body: |
        This is now packaged in meta-balena.
      footer:
        Changelog-entry: "linux-firmware: Remove custom brcm43362 packaging"
        changelog-entry: "linux-firmware: Remove custom brcm43362 packaging"
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Update meta-balena from v2.79.7 to v2.85.4
      hash: d284e7c474147c16242950c53c045a74d62d8054
      body: |
        Update meta-balena from 2.79.7 to 2.85.4
      footer:
        Changelog-entry: Update meta-balena from v2.79.7 to v2.85.4
        changelog-entry: Update meta-balena from v2.79.7 to v2.85.4
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "common: conf: create disable-user-ns distro feature"
              hash: 7dde2133a5b1df710255b8b0471385cca1449c1d
              body: >
                When user namespacing was enabled in the kernel by default, a
                separate

                commit [0] was introduced to disable the feature at runtime, to allow

                users/administrators to explicitly choose to enable it, avoiding

                potential security implications.


                However, some applications such as Chromium's sandbox, require either

                SUID or user namespacing to work. Disabling this feature on boards

                that previously enabled it necessitates container modifications and

                potentially breaks previously working applications.


                Create a distro feature to disable user namespacing by default in

                meta-balena, while allowing device types to keep it enabled to maintain

                compatibility with their original behavior.


                https://github.com/balena-os/meta-balena/commit/31c3ae8ad5c7ad45e450349b6972524da120e96c
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.85.4
          date: 2021-09-21T19:37:48.181Z
        - commits:
            - subject: "balena-os-sysctl: Reduce the console default loglevel"
              hash: 626b0e25cbd13ca65a74bbfe09ff9e0828b380bb
              body: >
                This avoids the kernel printing debug messages on the consoles.
                It is

                also the default in other upstream distros like Ubuntu.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-config-vars: Re-run os-sshkeys if config.json is modified"
              hash: 67b7aa5b58a26178411b598415e296fea5628a00
              body: >
                This change allows to pick-up changes to "os.sshKeys" in
                config.json

                without having to reboot.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "systemd: Use drop-in to modify unit files instead of sed"
              hash: b07a78453243d12db59524836c3cc62d355a6f2d
              body: >
                Performing unit modifications in drop-in files is better
                practise.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.85.3
          date: 2021-09-21T11:28:51.115Z
        - commits:
            - subject: Update balena-engine to v19.03.29
              hash: a2ed32e139489afd89e59e0e63a7c676969de3d8
              body: |
                Update balena-engine from 19.03.26 to 19.03.29
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-engine to v19.03.29
                changelog-entry: Update balena-engine to v19.03.29
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested:
                - commits:
                    - subject: "pkg/storagemigration: use graphdriver/copy.DirCopy"
                      hash: ffbb608492405488bff5e31ea62c0249fb416106
                      body: |
                        instead of our own implementation
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Günzler <robertg@balena.io>
                        signed-off-by: Robert Günzler <robertg@balena.io>
                      author: Robert Günzler
                      nested: []
                  version: balena-engine-19.03.29
                  date: 2021-09-14T15:38:47.823Z
                - commits:
                    - subject: Prune Jenkinsfile
                      hash: ea14e503181bbb248a4bed1b86a227d9c214cbfb
                      body: >
                        we are not using it for our CI, and it confuses jenkins
                        set up on the

                        balena-os org
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Günzler <robertg@balena.io>
                        signed-off-by: Robert Günzler <robertg@balena.io>
                      author: Robert Günzler
                      nested: []
                  version: balena-engine-19.03.28
                  date: 2021-09-14T14:54:48.288Z
                - commits:
                    - subject: Backport platform-detection fixes from containerd
                      hash: 9f71253561b1cd2f262ec0d6e81c5fbd09a7a0a1
                      body: >
                        See https://github.com/containerd/containerd/pull/4530

                        and `git log ad25c1a9c34361e4071f508b9a91946b05fce165^..2055e12953bb538228d8d9fe627fa545d7cf82be ./platforms/`

                        in the containerd repo
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Günzler <robertg@balena.io>
                        signed-off-by: Robert Günzler <robertg@balena.io>
                      author: Robert Günzler
                      nested: []
                  version: balena-engine-19.03.27
                  date: 2021-09-01T18:43:57.993Z
          version: meta-balena-2.85.2
          date: 2021-09-17T20:43:01.200Z
        - commits:
            - subject: Fix typo in OS_DEVELOPMENT distro feature
              hash: 7992a7900506eaf0279f93c747dea1520875c817
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests: Remove OS variants"
              hash: 5545c4e15831e16497a737307da69d38f947aa51
              body: >
                The OS is now a single image that can switch between development
                and

                production modes at runtime.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.85.1
          date: 2021-09-17T14:02:11.331Z
        - commits:
            - subject: Replace image variants with development mode
              hash: 0c7c629dcde13de9188f05f6f551f34837ad84ff
              body: >
                The dual image variants are replaced with a runtime
                configuration switch

                for development mode.


                Fixes #2226

                Fixes #1058

                Relates to: balena-io/balena-io#2247
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Replace image variants with development mode
                changelog-entry: Replace image variants with development mode
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-supervisor: Update balena-supervisor to v12.10.10"
              hash: 1aa662a4ab11f32c71d13352eea7e86c0784df33
              body: |
                Update balena-supervisor from 12.10.3 to 12.10.10
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested:
                - commits:
                    - subject: "api-keys: Remove os variant parameter for authentication check"
                      hash: 9e0cbe04c6d1c533c3e66183eca1d3abfb8c381d
                      body: >
                        The current code authenticates unmanaged production
                        devices which makes

                        no sense. Unmanaged devices do not need to authenticate with the API.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Alex Gonzalez <alexg@balena.io>
                        signed-off-by: Alex Gonzalez <alexg@balena.io>
                      author: Alex Gonzalez
                      nested: []
                    - subject: "os-release: Use developmentMode to ascertain OS variant in new
                        releases"
                      hash: 1abd10a12947f05ae328496e98fcbcdc6a834ce1
                      body: >
                        Newer BalenaOS releases have replaced OS variants for a
                        developmentMode

                        configuration setting. This commit uses this variable to set the OS

                        variant in the absence of `VARIANT_ID` from the os-release file.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Alex Gonzalez <alexg@balena.io>
                        signed-off-by: Alex Gonzalez <alexg@balena.io>
                      author: Alex Gonzalez
                      nested: []
                    - subject: "config: Add developmentMode to schema"
                      hash: 4ad7a3ae917c888f267463fd3d5b839439cf40e6
                      body: >
                        Add a `developmentMode` configuration variable to the
                        schema. Do not expose

                        this on the device target state until local key-based authentication is

                        sorted.
                      footer:
                        Relates-to: https://jel.ly.fish/e9525e9e-aa74-478c-b931-52951c679f78
                        relates-to: https://jel.ly.fish/e9525e9e-aa74-478c-b931-52951c679f78
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Alex Gonzalez <alexg@balena.io>
                        signed-off-by: Alex Gonzalez <alexg@balena.io>
                      author: Alex Gonzalez
                      nested: []
                  version: balena-supervisor-12.10.10
                  date: 2021-09-07T13:47:51.206Z
                - commits:
                    - subject: Update URL to balena-proxy-config source code
                      hash: 2bcc3aeb56cce11b21d411ee55492109ebaf259f
                      body: >
                        Use a GitHub permalink that includes the commit in

                        case the file changes and the reference becomes out-of-date.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                  version: balena-supervisor-12.10.9
                  date: 2021-09-02T12:25:21.696Z
                - commits:
                    - subject: Bump path-parse from 1.0.6 to 1.0.7
                      hash: 2e38356bf4f5157483017ea2e6670514cbca49c1
                      body: >
                        Bumps
                        [path-parse](https://github.com/jbgutierrez/path-parse)
                        from 1.0.6 to 1.0.7.

                        - [Release notes](https://github.com/jbgutierrez/path-parse/releases)

                        - [Commits](https://github.com/jbgutierrez/path-parse/commits/v1.0.7)


                        ---

                        updated-dependencies:

                        - dependency-name: path-parse
                          dependency-type: indirect
                        ...
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: dependabot[bot] <support@github.com>
                        signed-off-by: dependabot[bot] <support@github.com>
                      author: dependabot[bot]
                      nested: []
                  version: balena-supervisor-12.10.8
                  date: 2021-09-01T20:50:51.601Z
                - commits:
                    - subject: Bump tar from 4.4.13 to 4.4.19
                      hash: b7cb494602fbd050bb9e31b5e8293a080349562c
                      body: >
                        Bumps [tar](https://github.com/npm/node-tar) from 4.4.13
                        to 4.4.19.

                        - [Release notes](https://github.com/npm/node-tar/releases)

                        - [Changelog](https://github.com/npm/node-tar/blob/main/CHANGELOG.md)

                        - [Commits](https://github.com/npm/node-tar/compare/v4.4.13...v4.4.19)


                        ---

                        updated-dependencies:

                        - dependency-name: tar
                          dependency-type: indirect
                        ...
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: dependabot[bot] <support@github.com>
                        signed-off-by: dependabot[bot] <support@github.com>
                      author: dependabot[bot]
                      nested: []
                  version: balena-supervisor-12.10.7
                  date: 2021-09-01T20:40:01.473Z
                - commits:
                    - subject: Remove "variable list" heading in configuration doc
                      hash: 5205e8ce07375a7bf9ca18f0a28bd73c275acd96
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.10.6
                  date: 2021-09-01T18:06:51.646Z
                - commits:
                    - subject: Clean up configurations.md
                      hash: af51ef8eb54af96cf00657576908f020ac401488
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.10.5
                  date: 2021-08-31T22:51:45.166Z
                - commits:
                    - subject: Include issues with downgrading versions in README
                      hash: 1280ac365618eb4106e9c20dd4e738a22958d0b7
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.10.4
                  date: 2021-08-31T18:51:02.478Z
            - subject: "u-boot: Introduce a compile time osdev-image feature"
              hash: b839f2d91ca1844d96f4d3165ae5e2923489d11d
              body: >
                At runtime we can now enable development features that were
                previously

                configured using the development-image feature. That feature also

                configured U-Boot for OS development.


                Now we have two distinct functionalities:


                * A runtime development configuration variable that configures the

                device to facilitate application development

                * A build time osdev-image feature that configures the OS for BSP and OS

                development


                This allows us to merge the current production/development images into

                a single image.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "os-release: Remove image variants information"
              hash: 4c4dac7e0cc078a9d10c0bb77e4bf702af5f0e55
              body: |
                There are no more image variants.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Replace DEVELOPMENT_IMAGE and image variants with OS_DEVELOPMENT
              hash: fc369799cdab0012cc9c75aaa4a2e54bb6b2656a
              body: >
                The images now can be configured for application development
                mode at runtime.

                This commit introduces a built time option to configure them for BSP or

                other OS development like board bringup.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "images: Remove debug-tweaks settings."
              hash: cb1618b6d17a6c1118ea65d7485bb1bea907e18e
              body: >
                The ssh development configurations are now applied at runtime.
                The only

                feature that has been left out is the postinst logging. Customers that

                need to develop the OS can configure this themselves.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "openssh: Enable runtime development configuration"
              hash: 8bac93b3ed8c54452ea858ffc33a2e46a2e3358d
              body: >
                When a device is configured in development mode, allow password

                authentication and empty passwords, as well as root logins.


                In production mode, disable password authentication to allow only

                SSH access.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-info: Rename from resin-info"
              hash: 7f2abbf9a26c376125d18bd625f639f26d578d12
              body: |
                Replace references to resin for balena.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena: Expose engine socket on development mode"
              hash: 858f3b983e7842a155f0a34d60b6a8f488bacb2e
              body: >
                When configured in development mode expose the engine socket.
                This is

                currently used for local mode development.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "image-balena: Allow passwordless root logins"
              hash: 71aeea3652bf095544b1083023aa5d4e97448597
              body: >
                Even without debug-tweaks, allow passwordless root logins. For
                production

                builds there is no console available so this setting does not change current

                functionality.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'image_balena: Remove "balena" hostname from development images'
              hash: 7b57e9caf4fa82bd05091becfe1b750bca033342
              body: >
                There is no reason not to have development images use the uuid
                as

                hostname in the same way production images do.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "systemd: Runtime enablement of serial console"
              hash: d80092c6ecf67720175b72ccbcbf7da6c907d48f
              body: >
                Adapt the systemd getty services to enable for images configured
                for

                development.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "development-features: Add service for development features runtime
                management"
              hash: 5227ba18d0fe81fabae2b33b3f0cd9f690f85973
              body: >
                This service will adjust the filesystem with development
                features based on

                the `developmentMode` setting on `config.json`.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.85.0
          date: 2021-09-15T09:05:37.493Z
        - commits:
            - subject: "hostapp-update-hooks: Fix blacklisted extlinux.conf file path"
              hash: 096024808224aea2100e2a2a1f95ef75e23493ef
              body: >
                The extlinux.conf file path in meta-balena is currently

                incorrect, let's update it's boot partition path so that

                BalenaHUP won't need to transfer the isolcpus setting to

                the new OS anymore. This is necessary only when updating from older

                OS versions in which the supervisor adds the isolcpus

                setting to the boot partition extlinux.conf file.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.84.7
          date: 2021-09-13T12:01:41.123Z
        - commits:
            - subject: "balena-persistent-logs: add comment and update logging"
              hash: c05ff73df2341ceb182f7bc1acf00d4719a13afd
              body: |
                Add a comment and update the logging.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "balena-persistent-logs: add comment and update logging"
                changelog-entry: "balena-persistent-logs: add comment and update logging"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "meta-balena: rename resin-persistent-logs"
              hash: 2fa5bead70a700eff06ea8d140974ea3925a0c7d
              body: |
                Rename 'resin-persistent-logs' to 'balena-persistent-logs' and
                update all references.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "meta-balena: rename resin-persistent-logs"
                changelog-entry: "meta-balena: rename resin-persistent-logs"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.84.6
          date: 2021-09-11T12:14:21.164Z
        - commits:
            - subject: "tests: led: require led property from device type"
              hash: 0439de2a706cabf2b6b82736fa2959313c653c56
              body: >
                Only run LED test when device type contract specifies support
                for it
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.84.5
          date: 2021-09-10T13:29:21.135Z
        - commits:
            - subject: "tests: Remove reboots from redsocks test cases"
              hash: 53f58ca927075730d9bb9ebe0a98e525f3d8d793
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.84.4
          date: 2021-09-09T20:26:17.261Z
        - commits:
            - subject: "tests: Prevent failure when journalctl has no logs for some boots"
              hash: cab2b5aa7b97afad9006ed3c3701e49a9d76d366
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.84.3
          date: 2021-09-09T11:41:46.786Z
        - commits:
            - subject: "contributing-device-support.md: Updates to board support instructions"
              hash: 56d47e97ab2becea9d7ecd96de397d937f539954
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.84.2
          date: 2021-09-08T13:26:00.933Z
        - commits:
            - subject: "tests: s/BALENA_MACHINE_NAME/BALENA_ARCH"
              hash: 16015b5ba1570777478a585aaea37ed354dacc82
              body: >
                Replace Dockerfile image %%BALENA_MACHINE_NAME%% var with

                %%BALENA_ARCH%% for better compatibility


                Device types lacking matching tags in the balenalib Docker Hub account

                will fail tests when a matching image is not found. Switch to

                BALENA_ARCH instead, to maintain compatibility.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.84.1
          date: 2021-09-05T16:47:16.988Z
        - commits:
            - subject: "balena-engine: Enable storage migration"
              hash: 7d69faa7889e6725a4397511a6178ed2c745acbd
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
            - subject: Update balena-engine to v19.03.26
              hash: a7538159d2015a61dc3effc5e3fe390056d0265b
              body: |
                Update balena-engine from 19.03.24 to 19.03.26
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-engine to v19.03.26
                changelog-entry: Update balena-engine to v19.03.26
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested:
                - commits:
                    - subject: "storagemigration: capture failcleanup logs in logfile"
                      hash: 4f7f543eff08766bc584024afdb57760dfb52130
                      body: >
                        reorder the defer statements in the migrate function to
                        only teardown

                        the logger after the failcleanup function ran. otherwise errors logged

                        there won't show up in the logfile
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Günzler <robertg@balena.io>
                        signed-off-by: Robert Günzler <robertg@balena.io>
                      author: Robert Günzler
                      nested: []
                  version: balena-engine-19.03.26
                  date: 2021-08-31T11:26:15.276Z
                - commits:
                    - subject: "storagemigration: move logic to package"
                      hash: 001835bf61172fdcfdb0416e000852ff05683c71
                      body: >
                        This brings all migration logic into a single call into
                        the

                        storagemigration package, which should make future maintenance easier

                        and fixes the cleanup logic bug, where the old aufs root would never be

                        cleaned up.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Günzler <robertg@balena.io>
                        signed-off-by: Robert Günzler <robertg@balena.io>
                      author: Robert Günzler
                      nested: []
                  version: balena-engine-19.03.25
                  date: 2021-08-20T15:55:35.623Z
          version: meta-balena-2.84.0
          date: 2021-09-03T11:43:21.582Z
        - commits:
            - subject: "tests: remove healthcheck test race condition"
              hash: 4f728271e767e8998f73870c2de23c03a5d12823
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.83.22
          date: 2021-09-02T15:34:27.322Z
        - commits:
            - subject: "tests: Register teardown only when DUT is reachable"
              hash: 2f01b040236f6565195550cdfde91464687f5cf2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.83.21
          date: 2021-09-01T22:56:06.844Z
        - commits:
            - subject: "tests: Use new Archiver implementation & helpers"
              hash: 883ec60492a16b443cb6ce04c12cda8bbf4d028d
              body: |
                The changes are as follows:
                1. Delete custom logic in tests for archiving logs
                2. Make use of the new archiveLogs helper
                3. Make use of the new implementation of the Archiver module
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.83.20
          date: 2021-09-01T19:37:21.036Z
        - commits:
            - subject: "tests: List boots when collecting journal logs in hup suite"
              hash: 8e7b6a157b033db57ff2df75a63b5e054957803f
              body: |
                Some OS versions before HUP do not support the '-b all' flag
                to journalctl. This commit reverts to the original behaviour
                that lists the boots and requests the logs for each boot.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.83.19
          date: 2021-09-01T13:25:10.726Z
        - commits:
            - subject: "balena-supervisor: Update balena-supervisor to v12.10.3"
              hash: 782c9e24b91b5beb1c30c7643015c6fe7f53d2d2
              body: |
                Update balena-supervisor from 12.9.3 to 12.10.3
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested:
                - commits:
                    - subject: Skip restarting services if they are part of conf targets
                      hash: 669866b4c296529bd5392a0c48cd389a6d1f5770
                      body: >
                        Some recent changes to the OS allowed some services to
                        restart

                        automatically when the associated config files are changed.


                        In these cases we want to avoid restarting the same services

                        manually from the supervisor.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                  version: balena-supervisor-12.10.3
                  date: 2021-08-24T18:07:03.099Z
                - commits:
                    - subject: Removed fire emoji prefix for firewall logs.
                      hash: 30c728fae23ee66f3c1612736bb0c300f0b0762d
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: peakyDicers
                      nested: []
                  version: balena-supervisor-12.10.2
                  date: 2021-08-02T21:27:42.412Z
                - commits:
                    - subject: Fix regression with local mode push
                      hash: 6f5f3bc2f3aea1bf5e5772533be80c3bfbb4e3a9
                      body: >
                        PR #1749 introduced a bug when pushing local target
                        state. An update to

                        the [image name normalization](https://github.com/balena-os/balena-supervisor/blob/f1bd4b8d9bcef29e326cbf97eaddd837c2704d19/src/lib/docker-utils.ts#L81)

                        failed to consider the local image name format. This results in mangling

                        of image names in the database, i.e. the image `ubuntu:latest` is stored

                        as `/ubuntu:latest`. This causes an exception to be returned by the

                        dockerode `getImage('/ubuntu:latest').inspect()` call.


                        This sends the supervisor into a crash loop and is shown on the supervisor

                        journal logs as


                        ```

                        getaddrinfo ENOTFOUND images
                            at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:64:26)
                        ```


                        Unfortunately if this happens on a user device, since the mangled image

                        name is already on the database, the easiest way to fix is to remove the

                        supervisor database and let the supervisor recreate it. Deleting the

                        database should be side effect free.
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.10.1
                  date: 2021-08-02T15:55:28.001Z
                - commits:
                    - subject: Remove comparison based on image, release, and service ids
                      hash: b67f94802dd8c2e890121f6ca82eda8dff2c051c
                      body: >
                        Preparing for the new v3 target state, where the
                        supervisor will make environment

                        dependent ids optional and rely on using general UUIDs and user known identifiers

                        for comparison. This PR moves forward in that direction by removing some of those

                        comparisons for v2 target state.


                        - imageId to be replaced with imageName

                        - serviceId to be replace by serviceName

                        - releaseId to be replaced by commit (future release_uuid)


                        This is a backwards compatible change, meaning it doesn't completely get rid of

                        these identifiers (which are still being used by supervisor API and for state

                        patch), but will not depend on those identifiers for calculating steps to target state.
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.10.0
                  date: 2021-07-28T14:00:22.581Z
                - commits:
                    - subject: Use tags to track supervised images in docker
                      hash: f1bd4b8d9bcef29e326cbf97eaddd837c2704d19
                      body: >
                        The image manager module now uses tags instead of docker
                        IDs as the main

                        way to identify docker images on the engine. That is, if the target

                        state image has a name `imageName:tag@digest`, the supervisor will always use

                        the given `imageName` and `tag` (which may be empty) to tag the image on

                        the engine after fetching. This PR also adds checkups to ensure

                        consistency is maintained between the database and the engine.


                        Using tags allows to simplify query and removal operations, since now

                        removing the image now means removing tags matching the image name.


                        Before this change the supervisor relied only on information in the

                        supervisor database, and used that to remove images by docker ID. However, the docker

                        id is not a reliable identifier, since images retain the same id between

                        releases or between services in the same release.


                        List of squashed commits

                        - Remove custom type NormalizedImageInfo

                        - Remove dependency on docker-toolbelt

                        - Use tags to traack supervised images in docker

                        - Ensure tag removal occurs in sequence

                        - Only save database image after download confirmed
                      footer:
                        Relates-to: "#1616 #1579"
                        relates-to: "#1616 #1579"
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.9.6
                  date: 2021-07-26T13:58:29.275Z
                - commits:
                    - subject: Log the delta URL that will be downloaded on update
                      hash: c05c5803f08ddd31eeddb2000cc5f162fb916003
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#1755"
                        closes: "#1755"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.9.5
                  date: 2021-07-22T15:08:58.505Z
                - commits:
                    - subject: Fix db-helper module for tests
                      hash: 357d1baf6188d89b8552fd9068dbea9ac50aa008
                      body: >
                        The previous module was using `rewire` to get the knex
                        instance from the

                        db module but that was leading to issues when running tests using `test:fast`.

                        This provides a fix for the test module that just removes the destroy

                        call entirely (it turns out it is not necessary).
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.9.4
                  date: 2021-07-08T18:48:09.003Z
          version: meta-balena-2.83.18
          date: 2021-08-31T20:45:45.918Z
        - commits:
            - subject: Assign a fixed name to the balena-healthcheck container
              hash: c80932d323ae99a3b3a3a9120a29b5c67196fc44
              body: |
                This avoids confusion when new containers with random names
                appear in the runtime history of the engine.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.83.17
          date: 2021-08-31T16:04:47.503Z
        - commits:
            - subject: "kernel-modules-headers: Copy module.lds"
              hash: 9fca34e0f4faffc0fa049e9341e7392f365bea31
              body: >
                Since kernel v5.10 this file is generated when using
                modules_prepare. As

                the kernel-modules-headers contains pre-built target binaries, we also

                need to include this file in the package.


                This is not a problem when using kernel-source as a modules_prepare is

                always required.
              footer:
                Fixes: "#2289"
                fixes: "#2289"
                Relates-to: "#1822"
                relates-to: "#1822"
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.83.16
          date: 2021-08-31T11:22:51.142Z
        - commits:
            - subject: "kernel-balena: remove global blacklist of btrfs"
              hash: b9d6df84a1acd45df80da8a90ea4ca4dc2940bcf
              body: >
                The kernel-balena class contains a global blacklist of btrfs
                that

                disables this filesystem for all device types, regardless of them

                explicitly enabling it.


                Remove this config to allow devices to enable this filesystem.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.83.15
          date: 2021-08-30T15:47:20.658Z
        - commits:
            - subject: "tests: remove reboot requirement from NTP server test"
              hash: 47deb00854eefc2c8ca4103d934713d26077a7c8
              body: |
                We no longer require a reboot when changing the NTP server
                configuration in config.json. Changes to 'config-json' will
                automatically trigger the 'balena-ntp-config' service which will
                update the NTP sources.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "tests: remove reboot requirement from NTP server test"
                changelog-entry: "tests: remove reboot requirement from NTP server test"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "recipes-connectivity: fix auto-update when config.json changes"
              hash: 85df30628278eeb0d55e731319391d3cf98df9a8
              body: >
                Since adding the 'config-json' systemd target the
                'balena-ntp-config'

                and 'prepare-openvpn' services have stopped running automatically

                when config.json is updated. This is fixed by adding

                'RemainAfterExit=yes' to both service files.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "recipes-connectivity: fix auto-update when config.json
                  changes"
                changelog-entry: "recipes-connectivity: fix auto-update when config.json
                  changes"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.83.14
          date: 2021-08-26T17:54:07.640Z
        - commits:
            - subject: "networkmanager: fix hostname race condition"
              hash: 3f2486bc91994d360086694df9f01bb4b6777284
              body: >
                Fix a race condition that can occur when setting the hostname at

                boot by disabling NetworkManager's ability to modify the hostname.

                The static and transient system hostnames are now managed exclusively

                by the 'balena-hostname' service.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#2244"
                connects-to: "#2244"
                Changelog-entry: "networkmanager: fix hostname race condition"
                changelog-entry: "networkmanager: fix hostname race condition"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.83.13
          date: 2021-08-26T12:17:00.556Z
        - commits:
            - subject: "tests: remove reboot requirement from hostname test"
              hash: 34687ca76515d57a77ba12c0fd44632518181392
              body: >
                We no longer require reboots when changing hostname in
                config.json.

                The contents of '/etc/hostname' and the avahi mDNS broadcast hostname

                are updated automatically without requiring a reboot.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "tests: remove reboot requirement from hostname test"
                changelog-entry: "tests: remove reboot requirement from hostname test"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "hostname: update system hostname when config.json changes"
              hash: f7b3d37502f03ca65d3352a8a8cc3b8a5d612ff4
              body: >
                Automatically update the system hostname when config.json
                changes.


                Changes to 'config.json' will trigger the 'balena-hostname' service

                to update the static and transient hostnames and the 'avahi'

                service to ensure that any hostname changes are broadcast via mDNS.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "hostname: update system hostname when config.json changes"
                changelog-entry: "hostname: update system hostname when config.json changes"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.83.12
          date: 2021-08-25T23:51:01.153Z
        - commits:
            - subject: "linux-firmware: Use wildcards when selecting files to package"
              hash: 16598bcffda7206d9a2ab9d96860cecf7de62756
              body: >
                Firmware files can be compressed with an xz extension or not, so
                use

                wildcards to cover both cases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "linux-firmware: Add firmware compression support"
              hash: 2ee6d2e652772d28c25df94aa400e7ccd9f207de
              body: >
                This commit adds a FIRMWARE_COMPRESSION distro configuration
                that

                performs the compression of linux-firmware files. Only kernel versions

                above 5.3 support loading compressed firmware.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "kernel-balena: Support firmware compression from kernel version 5.3"
              hash: c8faa130b88f11af86619d69a115be96dfbc894a
              body: >
                Kernel version 5.3 supports loading compressed firmware files
                saving

                storage space.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.83.11
          date: 2021-08-24T14:52:41.041Z
        - commits:
            - subject: "kernel-balena: Add function to conditionally configure based on
                version"
              hash: 9787d2879d2f372c19f336c7e08bd0e6fee16ae7
              body: >
                Some kernel configuration are only applicable from specific
                kernel

                versions. This commit adds a function that allows to add a specific

                configuration set only from a given kernel version.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "kernel-balena: Split function to get kernel version from source"
              hash: c349f647db328558f026f1b914bc0246dc33bda5
              body: >
                This allows to re-use this functionality. Note that the
                `KERNEL_VERSION`

                variable is only available after the kernel has been built as it relies

                on get_kernelversion_headers() poky function and utsrelease.h being

                generated. This function parses the Makefile so only needs the source.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "kernel-resin: Add as symlink to kernel-balena"
              hash: 129128574dbf38c46c0cc7121cdf6fd0f38ef64b
              body: |
                This avoids introducing a breaking change.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "kernel-balena: Replace and deprecate kernel-resin"
              hash: 8c0d2ce52d42e72a939d248784d67dc2413c0443
              body: >
                New device types should use kernel-balena instead of
                kernel-resin.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.83.10
          date: 2021-08-18T19:03:21.519Z
        - commits:
            - subject: "recipes-connectivity: improve NTP dispatcher script"
              hash: d060bfa3581f6920fa2e353abaf82d2913d60e67
              body: >
                Change the NetworkManager NTP dispatcher script to update the

                on/offline status of the NTP sources on 'connectivity-change' events

                instead of 'up/down' events.


                Currently 'chronyc onoffline' is run for 'up/down' events on any

                network interface. It makes more sense to run it for

                'connectivity-change' events as we are really interested in whether

                the internet is there or not rather than whether an interface is

                up or down.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "recipes-connectivity: improve NTP dispatcher script"
                changelog-entry: "recipes-connectivity: improve NTP dispatcher script"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.83.9
          date: 2021-08-17T10:37:50.423Z
        - commits:
            - subject: Update balena-engine to v19.03.24
              hash: 1d3d0d0c8ef60710eaa67d68b5f606eb22e6fd28
              body: |
                Update balena-engine from 19.03.23 to 19.03.24
              footer:
                Changelog-entry: Update balena-engine to v19.03.24
                changelog-entry: Update balena-engine to v19.03.24
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested:
                - commits:
                    - subject: prevent slice oob access in concatReadSeekCloser
                      hash: 1e7045ac957db17fe9838602c9339c0b5ae5c282
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Martin Rauscher
                      nested: []
                  version: balena-engine-19.03.24
                  date: 2021-08-12T08:30:08.031Z
          version: meta-balena-2.83.8
          date: 2021-08-17T07:29:06.381Z
        - commits:
            - subject: "grub: don't package or install bindir utils"
              hash: f1835282ecd3b0f9dfc52410d8f1628653e2c1b2
              body: >
                Remove ${bindir} from FILES_grub-common, ensuring grub utilities
                aren't

                installed to /usr/bin, in addition to a previous similar commit that

                removed sbin utils. This frees approximately 5.5M.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.83.7
          date: 2021-08-14T14:48:17.382Z
        - commits:
            - subject: "balena-os-sysctl: disable user namespacing by default"
              hash: 31c3ae8ad5c7ad45e450349b6972524da120e96c
              body: >
                Most major distributions now ship kernels with user namespacing
                enabled

                in the kernel config. Some distributions, such as Arch and Ubuntu,

                default to the upstream behavior of allowing unprivileged user

                namespacing, regardless of potential attack surfaces exposed in the

                kernel.


                Other distributions, such as Debian, are slightly more conservative,

                disabling the feature at runtime behind a sysctl tunable. Debian

                maintains its own patch to add the kernel.unprivileged_userns_clone

                tunable.


                The Debian patch was rejected by upstream over fears of application

                developers not using this feature due to it being generally unavailable

                in systems, as well as fears of bugs going undiscovered.


                RHEL uses a newer tunable introduced upstream to set the max number of

                user namespaces to zero, which accomplishes the same thing, but without

                an out of tree patch.


                Disable user namespacing at runtime using the same method as RHEL, in

                the same manner as the hardened kernels and distributions have chosen.


                https://lwn.net/Articles/673597/

                https://lists.debian.org/debian-kernel/2020/03/msg00237.html
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "common: kernel-resin: enable user namespacing"
              hash: 04d9561760b449024a5b411bd366ded2351cd5cd
              body: >
                Enable CONFIG_USER_NS, a kernel feature used for user
                namespacing, and

                required for docker-in-docker.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.83.6
          date: 2021-08-13T16:30:49.145Z
        - commits:
            - subject: "resin-u-boot.bbclass: Make console silencing change more resilient"
              hash: 6f173d763828d63f70582219aa19333b1e599a57
              body: >
                There is at least a case in a board where the puts function in
                u-boot's

                common/console.c is #ifdef'ed and defined twice. Let's accomodate for

                such cases by correctly looping through more than one function

                definition if present.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.83.5
          date: 2021-08-13T08:16:50.739Z
        - commits:
            - subject: "balena-os: pin linux-firmware to 20210511 from hardknott"
              hash: e7a72c3e82587ffd2388656de71340afdddc9156
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "linux-firmware: upgrade 20190815 -> 20210511"
              hash: 497fa316fec3ef99a14872208abb85f7e932922d
              body: |
                Add recipe from poky hardknott, revision 74dbb08
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.83.4
          date: 2021-08-11T16:09:10.911Z
        - commits:
            - subject: "supervisor: Consolidate supervisor container removal"
              hash: f533be0ee1d6f42801f29426929e5f8b18035b9b
              body: |
                Avoid removing supervisor containers in 3 different places
                and consolidate the steps into start-balena-supervisor.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.83.3
          date: 2021-08-05T18:58:49.620Z
        - commits:
            - subject: "tests: Fix insecure registry error"
              hash: 647d683dbfd0461706e75291c5396752fdc1b2ce
              body: >
                introduced when images including
                8227a61f6bef6d93cc6a5acd0ef93a2012079964

                made it to production.

                We can now use a runtime drop-in unit placed under /run/systemd/ to

                configure the balena-host service, which doesn't require us to remount

                the rootfs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.83.2
          date: 2021-08-05T13:55:32.372Z
        - commits:
            - subject: "linux-firmware: package i915 generations separately"
              hash: e741dcf6f520765c3345c1e64cfc3f31f5b6a604
              body: >
                Package Intel graphics firmware generations separately, allowing
                GPU

                firmware to be installed for specific SoCs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.83.1
          date: 2021-07-31T15:24:38.031Z
        - commits:
            - subject: Add support for rootfs on MD RAID1
              hash: bc1cb47f177b0d04a17c26b00b4ca99cf4638c33
              body: |
                This commit does two things:
                - Build in necessary kernel modules
                - Add the mdadm userspace utility to rootfs and initrd
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.83.0
          date: 2021-07-29T14:10:41.247Z
        - commits:
            - subject: "tests: Symlink /dev/null instead of copying bash to break services"
              hash: eea7514c705b43482dd3656d0c34bb2414c267ee
              body: >
                Triggered by a failue in the VPN test - the bash binary is
                bigger than

                the openvpn binary and on devices with limitted rootfs space the copying

                is not possible. Symlinking /dev/null will break the services as well.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.82.13
          date: 2021-07-29T07:32:26.577Z
        - commits:
            - subject: "common: grub: don't install sbin utils"
              hash: e3bf23c7977c6c0dce9eb0a49172526a7e447522
              body: >
                These utilities aren't used on device. Don't install them to
                save space.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.82.12
          date: 2021-07-24T01:06:12.763Z
        - commits:
            - subject: "tests: Remove journalctl line limit from hup suite"
              hash: 5ce248f0d1b37c6500cdd93c639a89027f1fc7f4
              body: |
                Having the lines limited to 500 meant we were missing
                a lot of logs.

                We also don't need to list boots and can use the 'all'
                arguement to see all logs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests: Enable rollback tests in hup suite"
              hash: 9d1e892324718f2533cae1cf5e09018526d13b20
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests: Update smoke test conditions"
              hash: 64df0c010841b0f00d8025b79ae0f23a6fccdf29
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "tests: Add rollback tests to HUP suite"
              hash: 87e89fcf7b07180f3221602afc7a5b4dd8cd9e48
              body: >
                Adding rollback-health check & rollback-altboot check to the HUP
                suite
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "rollback-altboot: Fix minor typo in log message"
              hash: 1b3405ebf116420de032ccbdac39638a420c4a88
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.82.11
          date: 2021-07-21T20:25:31.196Z
        - commits:
            - subject: "tests: Remove reboot requirement from dnsmasq tests"
              hash: 1ea1985f7ebc56908d018c98211fd52f6fd6701c
              body: >
                We no longer require reboots when changing dnsServers in
                config.json

                and the service should restart on it's own.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.82.10
          date: 2021-07-20T20:09:41.348Z
        - commits:
            - subject: "patch: Make OS test suite compatible with current helpers"
              hash: 5a7dd196686836bd35a95f3f2c5dadf138b2590f
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.82.9
          date: 2021-07-16T22:29:01.729Z
        - commits:
            - subject: "kernel-devsrc: Add upstream recipe from hardknott-3.3.1 for dunfell"
              hash: f1d45613abfb3f0178868a2d09c22368e2f705fb
              body: >
                In recent kernels (i.e. 5.10.31 for Raspberry Pi) the

                arch/arm/kernel/module.lds file got moved. See

                https://github.com/torvalds/linux/commit/

                596b0474d3d9b1242eab713f84d8873f9887d980 for details.


                Hence we use in meta-balena-dunfell the upstream kernel-devsrc from the

                hardknott-3.3.1 Poky release which handles this module.lds move.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.82.8
          date: 2021-07-16T13:13:11.566Z
        - commits:
            - subject: Update balena-engine to v19.03.23
              hash: 5d882694102ce32706de08df3ab435bb0cec176c
              body: >
                Update balena-engine from 19.03.18 to 19.03.23


                Which brings more resilient layer download (allows proper resuming after

                network failures).
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Changelog-entry: Update balena-engine to v19.03.23
                changelog-entry: Update balena-engine to v19.03.23
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested:
                - commits:
                    - subject: Make layer download resuming more resilient
                      hash: 582487f832c59c2f734a780ab0492833f29002c9
                      body: >
                        This commit changes the way we retry layer downloads
                        after failures with

                        the goal of making it more resilient, especially for cases involving

                        large layers and unreliable network connections.


                        These are the changes:


                        * Make sure we also retry after failures in `v2LayerDescriptor.reset()`.
                          This method creates a new HTTP request to resume a failed download,
                          and therefore depends on a working network to succeed.
                        * Wait exponentially longer times between retries (instead of retrying
                          immediately as before). This shall increase of success in case of
                          network issues that take longer to get resolved.
                        * Increase the number of retries to 10.

                        * Reset retry count whenever we successfully download anything at all.
                          The idea is that we want to give up downloading only after a long
                          continuous period of failures. Combined with the exponential back-off
                          strategy and increased number of retries described above, a layer pull
                          will fail only after about 17 minutes.
                        * Add a bit more logging to help with troubleshooting.
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                      author: Leandro Motta Barros
                      nested: []
                  version: balena-engine-19.03.23
                  date: 2021-07-12T13:21:18.693Z
                - commits:
                    - subject: Drop CODEOWNERS
                      hash: e70e1a9fe622563719993626e834c85efc17905c
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Günzler <robertg@balena.io>
                        signed-off-by: Robert Günzler <robertg@balena.io>
                      author: Robert Günzler
                      nested: []
                  version: balena-engine-19.03.22
                  date: 2021-06-30T16:13:18.248Z
                - commits:
                    - subject: Lock destination layers while delta is being processed
                      hash: 0ad4281e11e4d3ef263010787aecd244c0ce333d
                      body: >
                        During fingerpinting of the source image the destination
                        layers are not

                        exepmt from being released (e.g. when `balena image rm <iid>`) is run

                        simultaneously.

                        Similarly when processing the destination layers to generate deltas we

                        only hold one reference at a time, leaving the subsequent layers

                        vulnerable to the same issues.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Günzler <robertg@balena.io>
                        signed-off-by: Robert Günzler <robertg@balena.io>
                      author: Robert Günzler
                      nested: []
                  version: balena-engine-19.03.21
                  date: 2021-06-25T12:17:21.340Z
                - commits:
                    - subject: "pkg/storagemigration: poperly handle errors during state creation"
                      hash: b8170db554ac1d1abb3adcfe1f6265701e9147c5
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Günzler <robertg@balena.io>
                        signed-off-by: Robert Günzler <robertg@balena.io>
                      author: Robert Günzler
                      nested: []
                  version: balena-engine-19.03.20
                  date: 2021-06-17T12:37:04.408Z
                - commits:
                    - subject: "pkg/storagemigration: allow writing logs to separate file"
                      hash: 77536d3866ac706f049a02d2eed44a7df1cb779c
                      body: >
                        This can be used to keep a record of failed migrations.

                        Only runs if BALENA_MIGRATE_OVERLAY_LOGFILE is set to a path on disk.

                        The log file will be deleted if there are no errors.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Günzler <robertg@balena.io>
                        signed-off-by: Robert Günzler <robertg@balena.io>
                      author: Robert Günzler
                      nested: []
                    - subject: "storagemigration: defer commit to next start"
                      hash: bd1628e67136b78ca7e7c83c5569666207d28a84
                      body: >
                        With this change the aufs data is kept around until the
                        next time we

                        start. If we find both an aufs AND an overlay2 storage root, we cleanup

                        the aufs data.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Robert Günzler <robertg@balena.io>
                        signed-off-by: Robert Günzler <robertg@balena.io>
                      author: Robert Günzler
                      nested: []
                  version: balena-engine-19.03.19
                  date: 2021-06-10T15:42:25.482Z
          version: meta-balena-2.82.7
          date: 2021-07-15T19:58:41.996Z
        - commits:
            - subject: "dnsmasq: Restart when config.json changes"
              hash: 76964657321934e2953c02ee8fdba4d22a9fbcdc
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "balena-config-vars: Restart target when config.json changes"
              hash: 51005c7a3178bdc73dcff5f790a693aa70936d06
              body: >
                The config.json watcher service will restart the config.json
                target

                when the file changes. Any services that are PartOf config.json

                target will be restarted as well.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "balena-config-vars: Add config-json.target service"
              hash: cacb87d1b088ab1ab42b24b698e4c03d3803855e
              body: |
                This target service can be used to restart other services
                that have explicitly set themselves as PartOf this target.

                So a service that should be restarted when config.json changes
                can use PartOf=config-json.target to be triggered automatically.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "balena-config-vars: Restore null as valid for dnsServers"
              hash: 22602e4c2fafc0f309add8313c14464ba8cd8d4b
              body: |
                "null" is a valid setting in config.json that should write
                an empty string for dns servers rather than the default 8.8.8.8

                If "servers=null" is written to /run/dnsmasq.servers by
                balena-net-config then dnsmasq will report the following error:

                dnsmasq[4483]: bad address at line 2 of /run/dnsmasq.servers
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.82.6
          date: 2021-07-15T11:17:28.470Z
        - commits:
            - subject: "kernel-headers-test: Update base image to buster"
              hash: 57f6aee369e8ec4ab8b20ae82a03f8b8fd7aebe4
              body: >
                Since we don't have devices using older 3.x kernels we update to
                a newer

                base image so that we don't have problems compiling this test kernel

                module on newer kernels.

                This avoids a compile error on kernel 5.10.31 on arm64

                raspberrypicm4-ioboard for example where it would complain _mcount is

                undefined because the older gcc in the intel-nuc-debian:stretch-20190717

                base image would not create the _mcount symbol when compiling against

                the newer 5.10.31 kernel.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.82.5
          date: 2021-07-15T05:18:57.029Z
        - commits:
            - subject: "tests: Add hup test suite"
              hash: 7223cf082fb40e9c707730c19f640d64187516a7
              body: >
                Add smoke test


                Resolve `latest` to dev variant


                If we want the serial logs of the DUT the image that is flashed needs to

                be the development variant. The `latest` shortcut however always

                resolves to the production image. We manually resolve the version to fix

                this.


                Change image name for consistent docker image pulls
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.82.4
          date: 2021-07-14T15:51:22.288Z
        - commits:
            - subject: Check that the hostapp image fits the inactive partion on HUP
              hash: a0803fcfff0e908f4ed358d0568c4872bbcecade
              body: >
                Currently it is possible to build a docker image that will then
                fail to

                hup due to a lack of space on the inactive partition.


                Add a task to check the docker image space against the available space on

                the root filesystem partition and fail the build if it's too big.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Check that the hostapp image fits the inactive partion on HUP
                changelog-entry: Check that the hostapp image fits the inactive partion on HUP
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "image-balena: Add check for docker image size"
              hash: 9a75a872dfcf0c3d71d4d5584241b65d07bd7103
              body: >
                Currently it is possible to build a docker image that will then
                fail to

                hup due to a lack of space on the inactive partition.


                Add a task to check the docker image space against the available space on

                the root filesystem partition and fail the build if it's too big.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-image: Break down the rootfs image size calculation"
              hash: 8a2b704bd5103ba6419328d0f9cc3d6b667ab5f5
              body: >
                Replace the IMAGE_ROOTFS_SIZE magic number with a calculation
                based on

                the partition sizes on the balena image classes.


                The rootfs size is calculated with the assumption of a total BalenaOS

                size of 700M. This includes boot, state, rootA and rootB partitions. The

                data partition will then grow to occupy the rest of the storage media.


                Device integration layers can override this value if needed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "image_types_balena: Add rootfs size calculation function"
              hash: a4ede069d1ab7cbd2b6830574eb891f8c76a92a9
              body: >
                Instead of hardcoding the requested root filesystem value, let's
                explain

                how the calculation is made with a python function that will adjust based

                on the sizes of other partitions.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.82.3
          date: 2021-07-13T11:18:32.393Z
        - commits:
            - subject: Update balena-supervisor from v12.8.8 to v12.9.3
              hash: 7903a929e48af889b8df14754d84a8e6b0655752
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.8.8 to v12.9.3
                changelog-entry: Update balena-supervisor from v12.8.8 to v12.9.3
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: meta-balena-2.82.2
          date: 2021-07-13T01:37:11.482Z
        - commits:
            - subject: "balena-hostname: add comments and improve logging"
              hash: a7a2bb057e22e2ac4fc4cafaf6ba3b533ca5f464
              body: |
                Add some comments and improve the logging.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "balena-hostname: add comments and improve logging"
                changelog-entry: "balena-hostname: add comments and improve logging"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "meta-balena: rename resin-hostname to balena-hostname"
              hash: 55baa1687ca3c576077b26a31591304911be2581
              body: |
                Rename 'resin-hostname' to 'balena-hostname' and update all
                references.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "meta-balena: rename resin-hostname to balena-hostname"
                changelog-entry: "meta-balena: rename resin-hostname to balena-hostname"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.82.1
          date: 2021-07-12T13:01:41.540Z
        - commits:
            - subject: "networkmanager: Rename references to resin"
              hash: c857ecc07325e643c39d30f68621c2807664e36e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "resin-proxy-config: Rename to balena-proxy-config"
              hash: 9e40219affeae1e5f7d888439654f9e40cef5fc0
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "resin-ntp-config: Rename to balena-ntp-config"
              hash: e534f24dbce8d883c867d52538ab721c423566a2
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "resin-net-config: Rename to balena-net-config"
              hash: a3726f421840e0facc21dde81b00a5e0d70e49ba
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.82.0
          date: 2021-07-10T11:13:11.567Z
        - commits:
            - subject: "balena-engine: Restore previous systemd service settings"
              hash: 0b7dac9461193e6c1afbc046337aeb74ca20e84c
              body: |
                - remove exec-root path from balena engine
                - restore unique fixed-cidr for balena-host engine
                - remove duplicate fixed-cidr flags from both
                - remove experimental from balena-host
                - fix healthdog command substitution

                These were changed by mistake in the previous refactor.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.81.1
          date: 2021-07-09T23:25:52.084Z
        - commits:
            - subject: "recipes-core: add a 'network connectivity wait' service"
              hash: a6781d54c6edced457ad916cac3fec9c70d25a0a
              body: >
                Add a new systemd service to check for full network
                connectivity.

                This service is required because the default NetworkManager (NM)

                connectivity checker doesn't differentiate between the

                CONNECTED_LOCAL, CONNECTED_SITE and CONNECTED_GLOBAL states. This

                service checks for the CONNECTED_GLOBAL state only and can be used

                to delay the start of other services which require full network

                access to be available. This can help to avoid startup problems on

                networks with slow DNS access or that utilise a captive portal.


                The script does an initial oneshot check of the NM state to make sure

                that we don't wait for an event that doesn't come. This check is

                redundant at boot time due to the fact that the service is started

                before NM to ensure that no NM DBus events are missed. The initial

                check is useful in circumstances where you want to run the script

                standalone or post-boot.


                Other services that wish to make use of this service and wait for

                full network connectivity should add the following entries to their

                systemd unit definition:


                Requires=balena-net-connectivity-wait.target

                After=balena-net-connectivity-wait.target
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: "recipes-core: add a 'network connectivity wait' service"
                changelog-entry: "recipes-core: add a 'network connectivity wait' service"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.81.0
          date: 2021-07-06T09:28:12.840Z
        - commits:
            - subject: Remove CODEOWNERS
              hash: da8bfafc94a3815ad62658846d46ec0b4a3edb9b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.80.12
          date: 2021-07-05T12:26:53.005Z
        - commits:
            - subject: get journal logs at the end of the suite
              hash: 5d6089c3c8210db34ed0e23864b0ec25579d43e4
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.80.11
          date: 2021-07-01T11:51:12.849Z
        - commits:
            - subject: "hostapp-update-hooks: Migrate supervisor database"
              hash: cad3e4cc49c4fbc275a5448c38e2da550e596573
              body: |
                forward_supervisor-db will ensure the supervisor database
                is copied to the new location

                fwd_commit_supervisor-db will remove the old supervisor
                database after confirming the new database has been used
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "hostapp-update-hooks: Revert sv database path used by previous hooks"
              hash: ef8aa041e4957ef138608959ae87ca9eea7b0774
              body: |
                This probably should not have been changed during the
                supervisor rename as it applies to a specific OS issue #2070
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.80.10
          date: 2021-06-24T19:51:43.564Z
        - commits:
            - subject: "balena-engine: refactor systemd service"
              hash: 8227a61f6bef6d93cc6a5acd0ef93a2012079964
              body: >
                This makes it easier to overwrite the arguments passed in the
                engine

                unit from drop-in overwrites. See the development image drop-in unit for

                reference.


                Using `systemctl edit --runtime balena.service`, which puts those

                overwrites into `/run/systemd/system/balena.service.d/`, it would be

                possible to modify the runtime behavior of the engine without remounting

                the rootfs to be writeable.


                See https://www.freedesktop.org/software/systemd/man/systemd.unit.html#System%20Unit%20Search%20Path
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.80.9
          date: 2021-06-21T14:04:07.493Z
        - commits:
            - subject: Update balena-supervisor from v12.8.7 to v12.8.8
              hash: 713342af1f30442613a3f8cdf38552d10294a1d5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.8.7 to v12.8.8
                changelog-entry: Update balena-supervisor from v12.8.7 to v12.8.8
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.80.8
          date: 2021-06-21T08:24:21.670Z
        - commits:
            - subject: prevent failed teardown from making test hang
              hash: 47b439dfd12a66171ced7b710502dc143fedb686
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.80.7
          date: 2021-06-18T10:03:31.173Z
        - commits:
            - subject: catch error if image path is corrupted
              hash: 883fb0e8ac2570763d5857e1a3f2e3cc8b6fc8b2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.80.6
          date: 2021-06-17T14:47:58.695Z
        - commits:
            - subject: "update-balena-supervisor: Improve obtaining the supervisor directory
                name"
              hash: 4ed241617668a0d3cc2d505a052bb9cba3178cea
              body: |
                There are better ways of getting the supervisor
                configuration directory name, let's switch to
                them to improve robustness.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
            - subject: Update balena-supervisor from v12.7.0 to v12.8.7
              hash: b935b594c12a2cdd54871bfb064d5cc843442e53
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.7.0 to v12.8.7
                changelog-entry: Update balena-supervisor from v12.7.0 to v12.8.7
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: meta-balena-2.80.5
          date: 2021-06-17T14:36:11.613Z
        - commits:
            - subject: "kernel-headers-test: simplify example module Makefile"
              hash: 88df9d672d45b7d0bf59d4656654091c3bbfd56b
              body: >
                The example kernel module has some unnecessary variables and
                targets.

                Simplify this makefile by passing the kernel source directory to make,

                and using the M variable to build the module.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "kernel-headers-test: simplify example module Makefile"
                changelog-entry: "kernel-headers-test: simplify example module Makefile"
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.80.4
          date: 2021-06-14T21:02:06.713Z
        - commits:
            - subject: Add oneshot service to migrate supervisor state config
              hash: d965d23fe60db6254eaabd81a0d48b5718e01a3a
              body: >
                The hostapp-update hooks would run before the supervisor update
                step

                when using balenahup via the dashboard. This resulted in the balena

                supervisor state conf file being out-of-date.


                This commit removes the hostapp-update hook and instead uses a

                oneshot service to ensure the conf is migrated if it does not exist

                in the new path before starting the supervisor.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.80.3
          date: 2021-06-10T13:47:28.925Z
        - commits:
            - subject: "update-balena-supervisor: Refactor script to ensure target version is
                ran"
              hash: 0433c666bf4756df30312f0d59ad8a8b94b062ab
              body: |
                This is a rebase of PR 2180 by Miguel,
                which improves stability for the
                supervisor update.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.80.2
          date: 2021-06-09T09:54:10.830Z
        - commits:
            - subject: "bluez5: Disable PnP Device Information service"
              hash: afb3dc0441e9ed0f2f9a08de5dd2a9cc75f09ac3
              body: >
                This reverts to the behavior before v5.56 as it interferes with
                user defined

                Device Information profiles.


                For more information: https://github.com/bluez/bluez/issues/101
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.80.1
          date: 2021-06-07T12:35:18.823Z
        - commits:
            - subject: Revert Go 1.16 recipes
              hash: 4303346ccda6d3e3c4f83cc3782c73a6d1adb494
              body: >
                balena-engine requires fixes backported from upstream to support
                a newer

                version of Go, and retaining the new recipes while switching back to the

                supported version of Go using the GOVERSION variable is still a work in

                process. Revert these changes for now. We can merge the new recipes

                back in once the build issues are resolved.


                This reverts commit f36dbd96684f9adfc5ce6faa57aa26fc4ba8e34e, reversing

                changes made to b228aea720fd1536ac6904b1886b2d445a582fc9.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Revert Go 1.16 recipes
                changelog-entry: Revert Go 1.16 recipes
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.80.0
          date: 2021-06-07T08:31:41.036Z
        - commits:
            - subject: "supervisor: Remove symlink to legacy resin sysconfig"
              hash: 2b04b5a776c9e996ded53dd7c405755c6543d7e5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "hostapp-update-hooks: Migrate resin-supervisor to balena-supervisor"
              hash: 19a9bfc2f172368c8652a448e77a77563a5c32a4
              body: >
                After a hostapp-update we need to migrate the supervisor.conf
                currently

                mounted from /etc/resin-supervisor in the state cache partition.


                Avoid deleting the old supervisor state cache in case of rollback.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "supervisor: Remove legacy resin supervisor container"
              hash: d8dd730edd9e4f4c87fcc0f4774097add68f3422
              body: |
                Clean up the legacy resin supervisor container if it exists
                after a hostapp update.

                Also check that supervisor.conf exists before attempting
                to start the service.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.79.10
          date: 2021-06-03T16:04:52.063Z
        - commits:
            - subject: "hostapp-update-hooks: Sync to disk when hook is done"
              hash: 9688de53a3d6ae143b74bb1a7ea446b073755b27
              body: >
                This makes sure the hook changes are committed if the power is
                lost.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "extract-balena-ca: Sync changes to disk in case of power loss"
              hash: 62302a2149b886b5e44cd2cc93bdc70e55227bb0
              body: >
                Sync changes to disk once the certificates have been updated.
                This

                minimizes the risk of the custom CA to be committed without having the

                certificates updated.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-net-config: Make sure to sync changes to disk in case of power
                loss"
              hash: e5733363c4ba2a3e31c4613b34e66e072517d1c8
              body: >
                Commit disk modifications to minimize data loss in event of
                power loss.


                Fixes #2141
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.79.9
          date: 2021-06-03T13:15:41.101Z
        - commits:
            - subject: "bluez: Set policy configuration to AutoEnable"
              hash: 614eaf745b29f6e5f373f9c712a7c533373a6187
              body: >
                Since bluez 5.35, the bluetooth daemon has the ability to power
                on

                controllers instead of using the unreliable `hciconfig hci0 up`.


                http://www.bluez.org/release-of-bluez-5-35/


                This commit makes this the default for BalenaOS.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "bluez5: Replace executable path directory in unit file"
              hash: 809da983829e97e5cddc424c4ff95054e2404ef0
              body: >
                The unit file is left with a placeholder to perform the
                substitution.

                Previously this was replaced by autoconf.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.79.8
          date: 2021-06-02T12:32:03.789Z
    - subject: Update balena-yocto-scripts from v1.11.0 to v1.14.9
      hash: ed878b1b420633acaff32182652ff2d5b35679e4
      body: |
        Update balena-yocto-scripts from 1.11.0 to 1.14.9
      footer:
        Changelog-entry: Update balena-yocto-scripts from v1.11.0 to v1.14.9
        changelog-entry: Update balena-yocto-scripts from v1.11.0 to v1.14.9
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "balena-deploy: When deploying hostapp default to using slug as name"
              hash: d9ee5fa5f5a97de9c41c2acc13b6c7335e2b043f
              body: >
                Using the device type is incorrect as aliases are not taken into
                account.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-api: Do not use balena_lib_resolve_aliases"
              hash: d50cee134436914b4960254abd0a5cf28b40f764
              body: >
                That function is now for internal use, replace with
                balena_lig_get_slug()

                which is clearer.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena_lib: Make resolve_aliases local so it is not globally used"
              hash: 45a0f62debdbf9e20d56e8bba8a9567359d7e8e4
              body: >
                The correct call is balena_lib_get_slug(device_type), which
                resolves

                aliases too.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.14.9
          date: 2021-08-20T17:33:15.811Z
        - commits:
            - subject: Use slug when setting deviceType for leviathan
              hash: bc628771aa0014e86e649e3312b48e1c7ae4968c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-yocto-scripts-1.14.8
          date: 2021-07-22T14:51:50.560Z
        - commits:
            - subject: "balena-lib: Fix print statements helper functions"
              hash: 45ccecc6945a06c3975c4ffc782bef5770f30ae7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "balena-lib: Fix device dir when running in Jenkins containers"
              hash: 95530d134ea729359e7e1e19fac109dd6d40ca5c
              body: |
                Avoid returning an empty path when we are running in containers
                where /work does not exist.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-yocto-scripts-1.14.7
          date: 2021-06-29T20:20:09.994Z
        - commits:
            - subject: "balena-deploy: Flag hostapps as bootable apps"
              hash: 4093fe7397b52cc58d676f2d7b3db3699c8a8b92
              body: |
                This will mark the app as isHost.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy: Provide working directory when deploying hostapp"
              hash: c20241cdf161ca8f438c38e84f504dadfaeeadc0
              body: >
                When creating a public app, the workdir is used to retrieve the
                URL

                used in the public app creation.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.14.6
          date: 2021-06-18T10:49:05.763Z
        - commits:
            - subject: "balena-deploy-block: Do not add variant suffix to release tag"
              hash: 084154ac3c3d0d6d3ec4c7d2a21590815a61bb2f
              body: >
                Fix the legacy way of tagging releases with a string variant and
                the OS

                version as this is still being used by the UI.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.14.5
          date: 2021-06-18T09:06:25.918Z
        - commits:
            - subject: "Dockerfile_balena-push-env: Add balena-lib to image"
              hash: 937026182287183bffbdc6836c707d34532bc509
              body: |
                The balena-api library requires functions in balena-lib.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy-block: source balena-lib script library"
              hash: 4b05b3ea6b3d42add1926547809e29213ce84890
              body: |
                Some functions in balena-api require this library.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.14.4
          date: 2021-06-16T10:37:10.537Z
        - commits:
            - subject: "balena-api: Filter out debug output"
              hash: bbb7ec875bd4b0d56c878187eb1d00e8d450b5d8
              body: |
                Change a json dump for a debug function call.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-api: Specify API environment and token when setting app roles"
              hash: c2402322ef608cb207494c37ade33a531734d9ca
              body: |
                The defaults only work with the production environment.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "jenkins_build-blocks: Separate recipes and packages"
              hash: 0b7c0a0a14141bbeb6b29171763cac99d68d9830
              body: >
                Currently we are reading a package list from the contracts that
                mixes

                recipe and package names, and we run bitbake with the `-k` flag not to

                stop the build when a package name fails to match a recipe.


                The contracts have now been modified to specify either a `sw.recipe.yocto`

                or a `sw.package.yocto` so we can distinguish between them and use

                recipe names to build and package names to install.


                We also remove the continue flag from bitbake.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-lib: Generalize contract fetcher"
              hash: 2d01048848734b580b89bfdd41df13ef10a8d31f
              body: >
                Instead of fetching a package list, fetch a composedOf list
                passing a

                type. This allows to fetch `sw.package` and `sw.recipe` types.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-deploy: Shorten installation directory '/yocto/resin-board' to
                '/work'"
              hash: 20baa1d287d95f95cb84797586afa73ed52f2db1
              body: >
                The installation directory is currently "/yocto/resin-board".
                This is

                too long for the creation of per-task balena-engine sockets which have

                a maximum path length of 104 characters.


                This commit replaces the installation directory with "/work".
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Conditional verbosity mode
              hash: 6bb1fa2d08c2e3128b5a02588cb009ded98eb0da
              body: |
                Also, fix some linter warnings.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.14.3
          date: 2021-06-01T11:48:30.209Z
        - commits:
            - subject: "balena-lib: Add function to fetch labels from image"
              hash: a987a933ad52af6c7935b19f13f4f39f0be157f1
              body: |
                Image labels are used to handle the installation of images.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-lib: contracts: Add package list fetcher"
              hash: f2e5ce081f9ef39bcff364ce4a8e9a9d0d806590
              body: >
                Add functions to retrieve a package list from a sw.package
                contract where

                a yocto package based hostos block is defined.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "semver: Add bash utility for semantic version comparison"
              hash: 831c494a1bc1f286a9b95f22cc86ade46f336a89
              body: >
                From https://github.com/Ariel-Rodriguez/sh-semversion-2


                MIT licensed: https://github.com/Ariel-Rodriguez/sh-semversion-2/blob/main/LICENSE
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-docker: Add image retrieval function"
              hash: 79d8a1b201196e2730bcf1d92c8be19dbd693106
              body: |
                Common image retrieval code.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.14.2
          date: 2021-05-26T09:34:20.890Z
        - commits:
            - subject: Add a parsable representation of the changelog
              hash: 9bbc4207170e8db4e79c0d139653570fdc013f95
              body: >
                This file allows other components to uniquely parse the
                information that

                is contained in the changelog. It will be automatically managed by

                versionist by appending the new commits on top. This is needed to

                provide nested-changelogs.


                Generated with product-os/versionist/blob/master/scripts/generate-changelog.sh
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add a parsable representation of the changelog
                changelog-entry: Add a parsable representation of the changelog
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.14.1
          date: 2021-05-24T09:59:21.687Z
        - version: balena-yocto-scripts-1.14.0
          date: 2021-05-21T19:44:08.000Z
          commits:
            - hash: 5999d8421b8cb83f42ecbd98201b2b5b9ff9648c
              author: Alex Gonzalez
              footers:
                change-type: patch
                changelog-entry: Add yocto-block-build-env container to build Yocto based hostOS
                  blocks
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "Dockerfile_yocto-block-build-env: Add container to build Yocto based
                hostOS blocks"
              body: >-
                This container is based on the `balena-push-env` helper
                container and includes

                an opkg application built from source. It is used to build Yocto IPK packaged

                based hostOS blocks.
            - hash: dcb1ee52f56d4785cc4a6b93d33c2b63f2bcda12
              author: Alex Gonzalez
              footers:
                change-type: patch
                changelog-entry: Balena build and deploy a hostOS yocto ipk block image
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-build-block: Balena build and deploy a hostOS block image"
              body: Balena builds and deploys a hostOS block from a Yocto ipk package feed.
            - hash: 285e72e2107b5c7693ebe70ee5041d2001507f98
              author: Alex Gonzalez
              footers:
                change-type: minor
                changelog-entry: Add script to build hostOS blocks
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "jenkins_build-blocks: Add package blocks builder script"
              body: This script builds hostOS blocks as defined in their contract
                specification.
            - hash: 5f6a285d43ce7b161601174b11d7c9b8771b9799
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-deploy: Add functions to deploy block, feed and OS release"
              body: Add the logic for block and OS deployment.
            - hash: 1b551c71da050d84005f80cd076ec9abe8569b0a
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "README: Add brief introduction to the main scripts"
              body: >-
                Add a short description of the helper build scripts that this
                repository

                offers.
        - version: balena-yocto-scripts-1.13.0
          date: 2021-05-19T11:16:23.000Z
          commits:
            - hash: 2f185e83de39c9e18aedafe9afe55a18758d6696
              author: Alex Gonzalez
              footers:
                change-type: minor
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "barys: Replace supervisor tag with supervisor release version"
              body: >-
                The latest meta-balena fetches the supervisor from the internal
                registry

                using the release version.
            - hash: 74a5bcaa4761f1f0bdf7ea8fba153540d33e2313
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "jenkins_build: Replace supervisor tag with supervisor release"
              body: >-
                The latest meta-balena fetches the supervisor from the internal
                registry

                using the release version.
            - hash: 84958c3687ca2424903414ed2304937e11776b16
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "jenkins_build: Rename metaResinBranch to metaBalenaBranch"
              body: Rename variables to match current brand.
        - version: balena-yocto-scripts-1.12.16
          date: 2021-05-18T16:10:59.000Z
          commits:
            - hash: 1b138ac2f6f5a1751947a5a28e64f80747244069
              author: Kyle Harding
              footers:
                change-type: patch
                signed-off-by: Kyle Harding <kyle@balena.io>
              subject: "tests: Substitute deviceType with MACHINE when packaging tests"
              body: null
        - version: balena-yocto-scripts-1.12.15
          date: 2021-05-18T16:05:32.000Z
          commits:
            - hash: 5dd3cd943d76d06835bcf6a6233cc2060bd230b9
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "Dockerfile_yocto-build-env: Specify docker version"
              body: >-
                This matches as closely as possible the version of the dind
                container

                used in the Yocto build.
            - hash: 830377a4530fa755334b2060a732a944122c86b4
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-docker: Allow to control iptables and ipmasq flags"
              body: >-
                When running multiple daemons, we don't want them to clash
                managing

                iptables so we start redundant daemons with iptables and ipmasq set to

                false.

                By default we enable both which is the current dockerd default.

                When running a single docker daemon without the iptables and ipmasq flags,

                containers on the default bridge network cannot communite with the

                outside as no iptables rules are set.
        - version: balena-yocto-scripts-1.12.14
          date: 2021-05-17T17:08:35.000Z
          commits:
            - hash: bc841cf22273bc24f1b6710e8d4c95adaa8e1908
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-api: Set default argument value not to exist on nounset
                setting"
              body: >-
                Scripts sourcing balena-api might set nounset, so assign empty
                values

                to optional arguments not to trigger an early exit.
            - hash: 094faf7defe8f3e5bdccb86cc88afb5eda13a635
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-api: Allow access to OS developers to public apps"
              body: >-
                This allows the OS developers to see these applications with
                their

                Balena account tokens.
        - version: balena-yocto-scripts-1.12.13
          date: 2021-05-14T13:25:06.000Z
          commits:
            - hash: f7737b535ce6e81994db4225dea2a5f48607373e
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-api: Add functions for apps management"
              body: Add utility function to manage balenaCloud apps.
            - hash: 6938b8feec5d5ac5e92ed25c702b1fc4953e931e
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-api: Add block images getter functions"
              body: >-
                Add a set of utility functions to retrieve release images and
                parse them

                according to their labeling.
            - hash: 513b525a141ccb16796218b8b8b5a67a36faf208
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-api: Add missing argument to function comments"
              body: This is a non-functional change.
            - hash: 899122243bf47c20247eaa800cd55a3ff37c4886
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-deploy-block: Create public app if required"
              body: >-
                The script will, given the correct token, create a public app if
                it does

                not exist.
            - hash: 5a86b9edc5e91c9164a976eb4c4f5ba41141c830
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-lib: Fix device installation path when running in helper
                container"
              body: >-
                Several functions require to know where the device installation
                directory

                is, and this differs when the scripts are copied to a container.
            - hash: 960f754b2b86a9264155bf9763b148674a5e2db5
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-deploy: Fix device installation path when running in helper
                container"
              body: >-
                Several functions require to know where the device installation
                directory

                is, and this differs when the scripts are copied to a container.
        - version: balena-yocto-scripts-1.12.12
          date: 2021-05-12T09:20:22.000Z
          commits:
            - hash: 86d1af439c807258eaa577e50dfb8a172f50f9af
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-docker: Adapt to be used from POSIX shell"
              body: Also, fix indentation to use tabs.
            - hash: ba5fbfd03adea5895f88c7dd2e9223d5fbee33f0
              author: Alex Gonzalez
              footers:
                change-type: patch
                changelog-entry: Generalize balena-docker to any engine
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-docker: Generalize functions to any engine"
              body: This is so it can be used both for balena-engine and docker.
            - hash: adbe6807cbdd603a229bc466a9e954b9bbef9cfc
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-build: Re-enable the container's output"
              body: Remove the pseudo tty from the docker run command.
            - hash: 9fb2417d73e8e5f4a0eeb0d457aac0b0327c8c49
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-build: Add option to keep local containers"
              body: >-
                This is helpful when developing locally not to continuously
                download

                the helper images.
            - hash: 8d7b725471e27ea8d4eb21d68b1e9855d4f5bbf1
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "yocto-build-env: Update Dockerfile to add host tools dependencies"
              body: >-
                In preparation for replacing docker with balena-engine, add the
                required

                host dependencies.
            - hash: 8462659f7d2d738fcf736ce89085224d8ae79d3b
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: Shorten installation directory '/yocto/resin-board' to '/work'
              body: >-
                The installation directory is currently "/yocto/resin-board".
                This is

                too long for the creation of per-task balena-engine sockets which have

                a maximum path length of 104 characters.

                This commit replaces the installation directory with "/work".
        - version: balena-yocto-scripts-1.12.11
          date: 2021-05-11T19:09:14.000Z
          commits:
            - hash: 35d9b65e8078215c5240132add8d48331a37c2da
              author: Kyle Harding
              footers:
                change-type: patch
                signed-off-by: Kyle Harding <kyle@balena.io>
              subject: Substitute device type in config.js if present
              body: null
        - version: balena-yocto-scripts-1.12.10
          date: 2021-04-28T13:19:51.000Z
          commits:
            - hash: e702ddec1b9ee297f212ff6f2d74a26cee9448ee
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-build: print submodule status"
              body: >-
                Print the details of all submodules so that layers that are not
                part of

                bblayers, like balena-yocto-scripts, also get their sha1s displayed on

                build.
            - hash: 562d2120770041a50f7daebbf4660ccace1ee51f
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-build: Correctly pass development images flag and amend usage"
              body: >-
                The development image flag is not being correctly passed to
                barys.

                Also, attemps to make the usage instructions clearer.
        - version: balena-yocto-scripts-1.12.9
          date: 2021-04-22T09:11:29.000Z
          commits:
            - hash: c897e1a23ea163180100cf0b4bd90ae207535fbd
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-build: Pass the API environment to the build container"
              body: This allows to target builds to non-production environments.
            - hash: 4fb71f2d09e621ef6a070dd8e28f093a8a81adf0
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-lib: Add function to resolve between contract slugs and Yocto
                machines"
              body: >-
                Some device types have different Yocto machine names than
                contract

                slugs, so provide a function to translate.
            - hash: 4e8425ceab16ea6ad516438c8ffd5b968e0feaa0
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-build: Do not exit if no SSH_AUTH_SOCK defined"
              body: >-
                Environment that build public device types will probably have no
                use

                for ssh authentication, so print a warning but  go on.
            - hash: ee9533ec9c3cdf8236cd92fe37aa382d5cc19214
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-build: Fix indentation"
              body: No functional changes.
            - hash: 5131302a1cb8351d5b05b41249a7808af5935a73
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-build: Cleanup build containers and enable build output"
              body: |-
                It is useful to know what the build output is. Also, not leaving
                containers around is important for the builders storage size.
        - version: balena-yocto-scripts-1.12.8
          date: 2021-04-15T10:50:06.000Z
          commits:
            - hash: 554cb42fad058032a093258bd779989d5f815941
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-build: Fix development image build"
              body: >-
                The development image flag is being set to the variant instead
                of a

                yes/no string.
            - hash: d83f1779fe8771f3e8fb0ad1e4a5ca3b2d0928fa
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "jenkins_build-containers: Use a fixed length for the git short
                revision"
              body: >-
                The short version length could be configured differently on
                different

                git installations so this commit specifies the length.
            - hash: 22d97d0e9f887c614c3e6a14bec3167e52d85ad8
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-lib: Do not err when sourcing without a repository"
              body: >-
                A global variable uses git to retrieve a sha1 revision. If this
                fails

                with the errexit option the script exists after sourcing this file.

                This commit masks the error as it may not be needed in the sourcing

                script.

                Also, fix the length of the short git release to avoid different git

                clients configuration mismatches.
        - version: balena-yocto-scripts-1.12.7
          date: 2021-04-12T15:58:51.000Z
          commits:
            - hash: 8e98a1347803e53d2d3a4d77fded345adf1671ad
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-api: Improve logs when setting version"
              body: >-
                The set release version function would print a success message
                even when

                the patch operation failed.
            - hash: f53f813640d8104c5a9d2028c22e2b9d7725f070
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-docker: Make it less verbose"
              body: Hide debug messages unless the DEBUG variable is set.
            - hash: 86a275ad03a07223ce42cb3c704211b71922f73d
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-deploy: Set the OS version before setting deploy directory"
              body: The local build directory is expected to include the OS version.
        - version: balena-yocto-scripts-1.12.6
          date: 2021-03-30T11:32:20.000Z
          commits:
            - hash: 00153cf459855572cf94c632477c38034bb361d2
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "include: Move include files and entry scripts into its own folder"
              body: Cosmetic reorganization, no functional changes.
            - hash: 5c5669a8d6901b4a28ad952d367774e7c8cb3a90
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-build.sh: Move into build script"
              body: This is a containeirized barys so it should live along barys.
            - hash: 7dbf390cdf5a88f349dac1323b1c85cf579f4cc7
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-lib: Set default namespace if not defined"
              body: >-
                The namespace variable can point to an alternative registry and
                it is

                useful for developing. This commit sets the default when not defined.
        - version: balena-yocto-scripts-1.12.5
          date: 2021-03-30T08:34:48.000Z
          commits:
            - hash: a0a6a337a82bb4527d71db3d8457688fe32af02e
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-deploy: Shellcheck warnings"
              body: Remove shellcheck warnings. No functional changes.
            - hash: 9237debc97aef84d21f042494bd4d017e29182f9
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-deploy-block: Adjust variables for common use"
              body: >-
                This script is called either to deploy a bootable block
                (hostapp) or to

                deploy a standard block. This commit makes the environmental variables

                match for both use cases.
            - hash: 8508ea1401107cc5d0a7d3c3026b57bbc5f69bb4
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-deploy-block: Fix shellcheck warnings"
              body: No functional changes, just fixing linter warnings.
            - hash: 0f6b0753c8d8deffc62f58717528f4f577d85eb3
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-deploy: Adjust balena_deploy_hostapp to new balena_deploy_block
                entrypoint arguments"
              body: >-
                The arguments to balena-deploy-block.sh have been modified so it
                can be

                used from multiple places.
            - hash: c65bdb09be42904dce36ec4bb9c44804329ccd41
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-deploy.inc: Pass API environment to balena_lib_token"
              body: Also, do not exit on error but return.
            - hash: c9d8f8299c5ad6a720d596f8d2b5a6a458fa31c7
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-build: Pass an API environment to balena_lib_token"
              body: Assure logging to the desired environment.
            - hash: 1c479d353fcbf5c1289e3ea52fb0f769d43bd99b
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-lib: Pass API environment to balena_lib_token"
              body: Assure which environment we will log into.
        - version: balena-yocto-scripts-1.12.4
          date: 2021-03-29T12:15:27.000Z
          commits:
            - hash: 6ecd2184bad07ff9226d96de67bb19af03aa367b
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-api: Add is_dt_private function"
              body: >-
                This looks for a device type JSON file and outputs whether the
                device is

                a private type.
            - hash: 6ca8f284de6d94e0d9db3e50f31410142080fefa
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-lib: Add several function to extract device details from device
                type JSON file"
              body: These are utility functions used from other scripts.
            - hash: a275b3ab8f5bc1ae3a6ec7545dfc0f4faca725cf
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-lib: By default only login to BaleneCloud if not token is
                found"
              body: This avoids redundant logging call to the API.
            - hash: 4a83bb9c440059a2e1c153a70385b5bb6e312ebf
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena_deploy: Add functions to deploy Jenkins artifacts to S3 and
                dockerhub"
              body: >-
                These have been extracted from `jenkins_buils.sh` so that they
                can be

                reused if required.
            - hash: c02c3d7467d4127cb4611afb5fc3388a7d417600
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-deploy: Fix indentation and shellcheck warnings"
              body: Non functional cosmetic changes.
            - hash: cb77f35d4e52f7e44af458746a2e1ba1e1b8c8a6
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "jenkins_build: Call out to script libraries functions"
              body: This simplies the script and makes it more legible.
        - version: balena-yocto-scripts-1.12.3
          date: 2021-03-26T18:28:05.000Z
          commits:
            - hash: 47fa0f615a7f884673109b482631f3abcfc2a374
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-lib: Fix indentation to tabs"
              body: Match the file style and use tabs to indent. Only cosmetic changes.
        - version: balena-yocto-scripts-1.12.2
          date: 2021-03-26T18:13:45.000Z
          commits:
            - hash: 6c842342f475915d622ea8f55fe5c5f9b7c45b8e
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-docker: Remove execution trace flag"
              body: This is a leftover from development.
        - version: balena-yocto-scripts-1.12.1
          date: 2021-03-25T08:55:29.000Z
          commits:
            - hash: 29a08c98639c68d146b9e4c9f36121c81f098cf2
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-lib: Add commonly used utility functions"
              body: >-
                Add functions to obtain Balena environment, token and login to
                the cloud,

                as well as to retrieve both OS and meta-balena versions.
            - hash: bb538a7010b47b17a11e26f800feed162d712d2f
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "jenkins_build-containers: Allow docker login for local development"
              body: >-
                Only fix user and password from environment when in a Jenkins
                context.

                This allows to rebuild and deploy helper images to user repositories for

                local development
            - hash: 295800c173833e6857258faaf1ace2a09dc7339a
              author: Alex Gonzalez
              footers:
                change-type: patch
                changelog-entry: Add bitbake-args argument to barys and make bitbake-target
                  accept multiple arguments
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "barys: Add bitbake-args argument and make bitbake-target accept
                multiple arguments"
              body: >-
                This commit extends barys so it accepts a list of bitbake
                arguments

                and/or target images. This will allow the flexibilty needed to build

                blocks with barys as frontend.
            - hash: bc926eecd3d7acb629b3709a3e89e935ae0f18c5
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "jenkins_build: Separate deploy functions"
              body: |-
                In future we will stop deploying to dockerhub and deploy only to
                balenaCloud.
            - hash: 0c52eeb67ff088b27569b304ee7547a24aef3c29
              author: Alex Gonzalez
              footers:
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "jenkins_build: Refactor balena_lib_get_os_version"
              body: null
            - hash: ceded8430b5b404ed5157e0decf1f95a8cd09d52
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-api: Add script library with API calls"
              body: >-
                This library is to be sourced by scripts that need to use the
                API to

                obtain app or image specific information.
            - hash: dd5fa7375182bd03d2e37a53af7982d2d96ce825
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-push-os-version: Rename to balena-deploy-block and set the
                release version on deploy"
              body: >-
                Until "balena deploy" has this functionality let's perform a
                direct

                API call.

                Production versions have the OS release name and development versions get

                appended a .dev suffix. Once both image variants are merged only the OS

                release name will be used.
            - hash: f3c8ea277d799ca3c9ae5c263e08db332d40aac6
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "Dockerfile_balena-push-env: Refactor to use balena-deploy-block"
              body: Rename to use balena-deploy-block.
            - hash: 576b5dc53fa04709111866b290f31fda62740867
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-build: Split build related functions"
              body: This script can be used standalone to call barys on a containerized
                environment.
            - hash: d924527622c55e584889ebbb91e0500e8cbd21d4
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "jenkins_build: Separate barys build functions"
              body: >-
                Separate the call to barys to a scritpt library so it can be
                reused from

                other scripts.
            - hash: 9067812829783ad75636917b82c3229746c10c51
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-deploy: Add script library for deploy logic"
              body: >-
                Centralize all the deploy login in one script library starting
                with

                balena_deploy_hostapp.
            - hash: 0ab60de60dc2e45f222b07acb7283cde02131863
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "jenkins_build: Use balena_deploy_hostapp from balena-deploy"
              body: Use the same function call on all scripts that require to push a hostapp.
        - version: balena-yocto-scripts-1.12.0
          date: 2021-03-25T08:47:27.000Z
          commits:
            - hash: 5df25c78ca0b0ad68013e4b7e3cd2ef50e55e785
              author: Kyle Harding
              footers:
                change-type: minor
                changelog-entry: Improve template layer matching
                signed-off-by: Kyle Harding <kyle@balena.io>
              subject: "barys: Improve template layer matching"
              body: >-
                The current method does not support multiple layers named with
                names

                following `meta-balena-*` so this change will search for the required

                `bblayers.conf.sample` file before assigning the template layer.
        - version: balena-yocto-scripts-1.11.2
          date: 2021-03-22T19:46:16.000Z
          commits:
            - hash: ac91198049a0bae1ced3c05e9b795f1e78b69370
              author: Alex Gonzalez
              footers:
                change-type: patch
                changelog-entry: Allow to specify which containers to build and login to
                  dockerhub so that they can be deployed
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "jenkins_build-container: Do not overwrite environment DOCKERFILES
                variable if provided"
              body: >-
                Also, do not duplicate the variable that specifies current
                script directory

                and perform a docker login so that new images can be deployed.
            - hash: 1fe8f585cef6ca9592d1ee3929d32b838f272833
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-lib: Rename to balena-lib.inc"
              body: This indicates it is to be sourced and not executed.
            - hash: e9d3dc9c9816a72cbd62f0b247c36364fe168be5
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-lib: Rename functions with the balena_lib prefix"
              body: >-
                This makes them easy to identify and makes it clear where they
                come from

                making the code more legible.

                Also, remove balena login from `balena_lib_docker_pull_helper_image` function

                as the login is performed by the container deployment script.
            - hash: 111843536ad9c951f0850256b8a56d9f4c612816
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "jenkins_build: Use balena-lib.inc instead of balena-inc.sh"
              body: Adapt to the refactoring of balena-lib.
        - version: balena-yocto-scripts-1.11.1
          date: 2021-03-22T12:50:36.000Z
          commits:
            - hash: 6c349d535232e6c8dc1e7b5f32aba39cd436cadb
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-docker: Rename manage-docker to balena-docker"
              body: Convert manage-docker into a script library so it can be re-used.
            - hash: 7c79c2109455c54b9d09938416c47463fc8bb652
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "balena-push-os-version: Refactor to use balena-docker"
              body: Use common scripts to manage the docker instance
            - hash: 2deb988b1c9da918fd0729f64039140884f6e63d
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "prepare-and-start: Refactor to use balena-lib"
              body: Use common script to manage docker instances
            - hash: 943839ff2210c7db9030d3deca00c99c41f1253e
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "Dockerfile_yocto_build-env: Refactor to update dockerd and use
                balena-docker"
              body: >-
                Use common scripts to manage docker instances, and update the
                dockerd

                daemon to the distribution supported stabel version.
            - hash: 5fb8f5c74565096ede89e42985f9b7ad7d59ef4a
              author: Alex Gonzalez
              footers:
                change-type: patch
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              subject: "Dockerfile_balena-push-env: Refactor to use balena-docker"
              body: Use common scripts to manage the docker instance.
  version: 2.85.4+rev1
  date: 2021-09-23T16:41:42.833Z
- commits:
    - subject: Add balena-yocto-scripts upstream source
      hash: 657e2f45e7b3fccb6c8c149638cd5e59202069d1
      body: >
        This allows to add nested changelogs from the balena-yocto-scripts
        repository

        from version >= 1.14.1
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add balena-yocto-scripts upstream source
        changelog-entry: Add balena-yocto-scripts upstream source
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.79.7+rev2
  date: 2021-08-26T17:16:09.460Z
- commits:
    - subject: Update meta-balena from v2.78.0 to v2.79.7
      hash: 5ac7f89f2312543ae90cbaf945d5d220a30c830a
      body: |
        Update meta-balena from 2.78.0 to 2.79.7
      footer:
        Changelog-entry: Update meta-balena from v2.78.0 to v2.79.7
        changelog-entry: Update meta-balena from v2.78.0 to v2.79.7
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested:
        - commits:
            - subject: "meta-balena: rename connectivity packagegroup"
              hash: 8f54c4137f8bb8a83a05d9963cdb1565778c737b
              body: |
                Rename the resin-connectivity packagegroup.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "meta-balena: rename connectivity packagegroup"
                changelog-entry: "meta-balena: rename connectivity packagegroup"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.79.7
          date: 2021-05-26T15:03:08.108Z
        - commits:
            - subject: "bluez5: Use bluez5 recipe from poky master"
              hash: fe3c870eef75927eac740bbc1e8e15b8ed9c7341
              body: |
                This commit brings the bluez5 recipe from poky master as we need
                to control which bluez5 version is used in meta-balena.

                The code originates from poky's master branch -
                c887238347295c87dacf8a08e6d703603436d0bc.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.79.6
          date: 2021-05-26T08:26:16.310Z
        - commits:
            - subject: "README: Update supported Yocto versions"
              hash: cdbf76ccbaaf6e265f8432eca10d42e55b6969e8
              body: >
                Add the warrior and dunfell versions to the list of tested
                releases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.79.5
          date: 2021-05-21T20:01:11.657Z
        - commits:
            - subject: Skip some services when running under docker
              hash: 8ef8078de0f1e65adab784c6456d66cf82ee4774
              body: |
                * skip setting up zram swap
                * dont' attempt to mount inactive partition
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.79.4
          date: 2021-05-21T10:15:56.497Z
        - commits:
            - subject: "kernel-resin: disable panic on hung task"
              hash: ac0ba89f14c0b04b7353192f15a0634be44d910c
              body: >
                Some BSPs have enabled CONFIG_BOOTPARAM_HUNG_TASK_PANIC which

                can trigger panics upon high iowait, such as balena-engine

                downloading/writing a large image to disk.


                Kconfig says the following:

                    Say Y here to enable the kernel to panic on "hung tasks",
                    which are bugs that cause the kernel to leave a task stuck
                    in uninterruptible "D" state.

                    The panic can be used in combination with panic_timeout,
                    to cause the system to reboot automatically after a
                    hung task has been detected. This feature is useful for
                    high-availability systems that have uptime guarantees and
                    where a hung tasks must be resolved ASAP.

                    Say N if unsure.

                Hung tasks are not normally terminal, nor do they affect system

                stability, but panicking during an image write forces a device into a

                bootloop that requires manual intervention to remedy.


                See the below stacktrace:


                [  243.565482] INFO: task balenad:4049 blocked for more than 120 seconds.

                [  243.565737]       Not tainted 4.9.140-l4t-r32.4 #1

                [  243.565853] "echo 0 > /proc/sys/kernel/hung_task_timeout_secs" disables this message.

                [  243.566032] balenad         D    0  4049      1 0x00000008

                [  243.566236] Call trace:

                [  243.566354] [<ffffff80080863a4>] __switch_to+0x9c/0xc0

                [  243.566479] [<ffffff8008f0d09c>] __schedule+0x22c/0x570

                [  243.566590] [<ffffff8008f0d420>] schedule+0x40/0xa8

                [  243.566744] [<ffffff8008f1057c>] rwsem_down_read_failed+0xd4/0x128

                [  243.566872] [<ffffff8008f0f8a8>] down_read+0x58/0x60

                [  243.566999] [<ffffff8008263568>] iterate_supers+0x78/0x138

                [  243.567131] [<ffffff800829bac0>] sys_sync+0x50/0xc0

                [  243.567237] [<ffffff8008083900>] el0_svc_naked+0x34/0x38

                [  243.567394] Kernel panic - not syncing: hung_task: blocked tasks

                [  243.567533] CPU: 3 PID: 47 Comm: khungtaskd Not tainted 4.9.140-l4t-r32.4 #1

                [  243.567819] Hardware name: NVIDIA Jetson Xavier NX Developer Kit (DT)

                [  243.568318] Call trace:

                [  243.568508] [<ffffff800808c678>] dump_backtrace+0x0/0x1a8

                [  243.571026] [<ffffff800808c844>] show_stack+0x24/0x30

                [  243.576195] [<ffffff800841f4e8>] dump_stack+0x94/0xbc

                [  243.581446] [<ffffff80081c3db0>] panic+0x128/0x28c

                [  243.586599] [<ffffff8008178190>] watchdog+0x2f8/0x398

                [  243.591760] [<ffffff80080dcd60>] kthread+0x100/0x108

                [  243.596477] [<ffffff80080838a0>] ret_from_fork+0x10/0x30

                [  243.602257] SMP: stopping secondary CPUs

                [  243.605897] Kernel Offset: disabled

                [  243.609511] Memory Limit: none

                [  243.612484] trusty-log panic notifier - trusty version Built: 12:18:19 Oct 16 2020 [  243.636124] Rebooting in 1 seconds..


                Disable this config for all platforms.
              footer:
                Changelog-entry: "kernel-resin: disable panic on hung task"
                changelog-entry: "kernel-resin: disable panic on hung task"
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.79.3
          date: 2021-05-20T08:04:17.185Z
        - commits:
            - subject: Add boot-splash test to unmanaged suite
              hash: a6865f22ba5d5bd60f659daac113cac6ae1aa8f3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.79.2
          date: 2021-05-19T09:25:55.145Z
        - commits:
            - subject: "balena-os: Add preferred provider for Go native"
              hash: 20dd5fb4384e78f24d3e3304be38666fdcb859a8
              body: >
                With Go 1.16 a precompiled go-binary-native that provides
                go-native was

                introduced to bootstrap the Go compilation.

                Specify to use the go-native recipe and not go-binary-native when

                requiring go-native.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.79.1
          date: 2021-05-18T08:37:41.159Z
        - commits:
            - subject: "balena-engine: build in GOPATH mode"
              hash: 342a9621b5416d2a1f6aec3948dfdcfe15395d13
              body: >
                balena-engine hasn't transitioned to building with modules yet,
                and Go

                1.16 enabled them by default. Revert to the old behavior for now to fix
                  the build.

                This option will be removed in Go 1.17, so we'll have to update our

                build before upgrading further.


                https://blog.golang.org/go116-module-changes
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "recipes-devtools: go: backport get_linuxloader"
              hash: 283e7d279ed26c2855b4916c24bb502e2d87a189
              body: >
                Hardknott introduces get_linuxloader() to linuxloader.bbclass
                that

                allows for dynamically choosing between different c libraries, which go

                recipes depend on.


                Add an include that backports this for older Yocto releases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "meta-resin-pyro: go-native: include fix-goarch.inc"
              hash: 252521185190ac2730fa8a92a5565a6069104e25
              body: |
                This fixes the error:

                	Invalid GOMIPS value. Must be hardfloat or softfloat.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
                signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
              author: Joseph Kogut
              nested: []
            - subject: "meta-balena-common: upgrade from go 1.12.17 to 1.16.2"
              hash: a395e1bdaaba8050042d011e6e5fe40311216d58
              body: |
                Copy the unmodified golang recipes from poky commit 464472d to
                meta-balena-common/recipes-devtools.

                This shaves off approximately:
                balena-engine 41M -> 34M (17%)
                init (mobynit) 9.5M -> 7.9M (16.8%)
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
                signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.79.0
          date: 2021-05-13T18:25:01.396Z
        - commits:
            - subject: "balena-config-vars: improve handling of NM config parameters"
              hash: 61280e84e045a4b235a21eec194fc8cf894c310d
              body: >
                Improve the handling of the os.network.* parameters defined in

                config.json.


                The balena-config-vars script has been updated to process the

                os.network.* parameters from config.json. This allows scripts

                to access these parameters by just including balena-config-vars

                rather than having to parse them directly. Some of the default

                settings have now been included as part of the jq parsing string.

                The jq command has also been assigned to an interim variable rather

                than being evaluated directly. This allows other scripts which

                include balena-config-vars to handle parsing errors correctly when

                they are running with 'set -e'.


                The os-networkmanager script has been updated to make use of the

                balena-config-vars script and no longer parses config.json itself.

                The logging has been standardised and the simplification of the

                variable processing has reduced the size of the script from 146

                to 101 lines.


                The build time tests have been removed as the os-networkmanager script

                is unable to access /usr/sbin/balena-config-vars at buildtime.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "balena-config-vars: improve handling of NM config parameters"
                changelog-entry: "balena-config-vars: improve handling of NM config parameters"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.78.2
          date: 2021-05-13T15:17:52.402Z
        - commits:
            - subject: Add Device Tree tests
              hash: f59b7e0d54098e000d7fb3ce2b4811fa91351769
              body: |
                1. Add DToverlay & DTparam tests
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.78.1
          date: 2021-05-12T21:38:32.558Z
    - subject: "balena-allwinner: rename connectivity packagegroup"
      hash: 2ca52209546a91d7cee81668bdf534ac6d0f6433
      body: |
        Rename the resin-connectivity packagegroup.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "balena-allwinner: rename connectivity packagegroup"
        changelog-entry: "balena-allwinner: rename connectivity packagegroup"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.79.7+rev1
  date: 2021-06-02T09:36:47.963Z
- commits:
    - subject: Rename resin-supervisor to balena-supervisor
      hash: fbb788a292a17f46452790011a88fcce07a0a167
      body: ""
      footer:
        Changelog-entry: Rename resin-supervisor to balena-supervisor
        changelog-entry: Rename resin-supervisor to balena-supervisor
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: Update meta-balena from v2.72.0 to v2.78.0
      hash: 1f34ddbc5c681cbe4074399a0752e3e57e8176cb
      body: |
        Update meta-balena from 2.72.0 to 2.78.0
      footer:
        Changelog-entry: Update meta-balena from v2.72.0 to v2.78.0
        changelog-entry: Update meta-balena from v2.72.0 to v2.78.0
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested:
        - commits:
            - subject: Add symlinks and aliases for legacy resin namespaces
              hash: 16f5437233e88af276d9cce7bc99dd1230f6f10d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: Rename resin-supervisor to balena-supervisor
              hash: 8c0b17bc3dbcf0674c7083d5a8dacff64cca48c1
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.78.0
          date: 2021-05-10T21:41:51.607Z
        - commits:
            - subject: Update balena-supservisor from v12.5.10 to v12.7.0
              hash: d2e3f092a213b8810e4bb922ad3f2a08135129c5
              body: |
                Update balena-supervisor from 12.5.10 to 12.7.0
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supservisor from v12.5.10 to v12.7.0
                changelog-entry: Update balena-supservisor from v12.5.10 to v12.7.0
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested:
                - commits:
                    - subject: Backwards compatility changes for old resin namespaces
                      hash: 301aa52f032fecd29495894e828f21a93df60caa
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                    - subject: Change container name to balena_supervisor
                      hash: 09615c9d8254d3f62ef1088d0da35485b0c18734
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                    - subject: Rename resin-supervisor to balena-supervisor
                      hash: 5faf9d7686d7f03b5bb73ef9a234038e7e61037c
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                  version: balena-supervisor-12.7.0
                  date: 2021-05-07T12:05:43.135Z
                - commits:
                    - subject: Show warning instead of exception for invalid network config
                      hash: 5197a1330d69cbff97f3c53a77f640638e074b8a
                      body: >
                        A previous PR (#1656) fixed validation for network ipam
                        config,

                        checking that both network and subnet are defined for each ipam config entry

                        (as described in the docker documentation).


                        After that PR, the validations throws an exception if the network target state is incorrect,

                        but this turns out to be the wrong approach, because that exception is also triggered

                        when querying target state.


                        This isn't a problem in normal operation, but it is in local mode, because local

                        mode queries the old target state before sending a new one. Since the query fails,

                        the CLI can never push the new target state.


                        This PR replaces the exception with a warning on the logs, since a

                        misconfigured network won't cause any engine failures, it will just

                        prevent containers to communicate through the provided network.


                        A future improvement should move this validation to an earlier point in the process,

                        so the target state can get rejected before it even gets to a point it

                        can be used.
                      footer:
                        Relates-to: "#1693"
                        relates-to: "#1693"
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.6.8
                  date: 2021-05-06T20:30:52.075Z
                - commits:
                    - subject: Patch awaiting response when checking if supervisor0 network exists
                      hash: 8b0c2347d8d04d3c7101016f6c885f31d9b3dc6a
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.6.7
                  date: 2021-05-06T15:58:02.661Z
                - commits:
                    - subject: Fix parsing driver_opts from compose to docker network creation
                      hash: 1408fd7bcb5f25b75679b7ce0e509adc7f8f6004
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: quentinGllmt <quentin@quentingllmt.fr>
                        signed-off-by: quentinGllmt <quentin@quentingllmt.fr>
                      author: quentinGllmt
                      nested: []
                  version: balena-supervisor-12.6.6
                  date: 2021-05-06T14:52:59.431Z
                - commits:
                    - subject: Update balena-register-device and send extra info at provision time
                      hash: 9e52bb33ac931a035b4cd0fd80173bf10db771c0
                      body: >
                        This extra info will mean the API is able to immediately
                        set default

                        config vars based on the os/supervisor version so that they are

                        available on the first target state fetch rather than having a delay

                        whilst waiting for the supervisor to report them as part of a state

                        patch


                        Update balena-register-device from 6.1.6 to 7.2.0
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Support `supervisorVersion`/`osVersion`/`osVariant`/`macAddress` fields
                              hash: 6f10fe77ba11ec57bb012777975423dda498a8bd
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: balena-register-device-7.2.0
                          date: 2021-04-29T12:35:30.543Z
                        - commits:
                            - subject: Update dependencies
                              hash: 8d78459d6cf6e0dcaa4721c38898eeb2d25c5674
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: balena-register-device-7.1.1
                          date: 2021-04-29T12:23:50.655Z
                        - commits:
                            - subject: Switch from randomstring to uuid for generating device uuids
                              hash: 596a76abcf0a76aef93d191e4c59b939701c80b8
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: balena-register-device-7.1.0
                          date: 2020-07-13T14:38:52.915Z
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: 7444f4ba2538180a5c75fa5f62de6f395ae28ba7
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: balena-register-device-7.0.1
                          date: 2020-07-13T13:03:45.818Z
                        - commits:
                            - author: Pagan Gazzard
                              body: ""
                              hash: 8cfa23ebbe2915b2f37730972cf104cb47f68c65
                              subject: Convert to type checked javascript
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: major
                              hash: 0f3e9d26f375554f793dd632b94f33e3ee88933b
                              subject: Drop callback interface in favor of promise interface
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: major
                              hash: 67d46678e910c2c8b11f417fa40d00781a1a3905
                              subject: Switch to a named export
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: major
                              hash: faa9edc73cf243acd2abe1532e64aab8303031b5
                              subject: Convert to typescript
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: major
                              hash: 9e5bdbeaee325c8a523c8498ef023baeb49ef7c1
                              subject: Update to typed-error 3.x
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: major
                              hash: 27e78f2ea3f1a059a9fb2ba43dff55f32b0b2b4a
                              subject: Switch to returning native promises
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: major
                              hash: dc21eb20dba1a977e74ffadbece66720ced4c529
                              subject: Update to balena-request 11.x
                            - author: Pagan Gazzard
                              body: ""
                              hash: f4008dad3de415cc25987268b387848fc3ed1200
                              subject: Use typescript import helpers
                          date: 2020-07-06T18:11:23Z
                          version: balena-register-device-7.0.0
                  version: balena-supervisor-12.6.5
                  date: 2021-05-06T10:19:39.399Z
                - commits:
                    - subject: Log error responses from API when reporting state
                      hash: 2203f78d517a9edf75a261dd3c77cdf5b609548c
                      body: >
                        This adds the error message from the API to journal logs
                        to better

                        identify those cases where patching to the API fails.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Relates-to: "#1680"
                        relates-to: "#1680"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.6.4
                  date: 2021-05-05T19:06:49.805Z
                - commits:
                    - subject: Added configurations.md to document all configurable vars
                      hash: 07a0344dc6ac15a67513080c63dffe0d6b811ebf
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#1646"
                        closes: "#1646"
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.6.3
                  date: 2021-05-04T02:10:52.553Z
                - commits:
                    - subject: Remove version tag from livepush generated image
                      hash: 9c1d10dc318bb7c207608ed197c5713960642af3
                      body: >
                        The `start-resin-supervisor` script in newer OS version
                        no longer uses the

                        SUPERVISOR_TAG environment variable setup on supervisor.conf and

                        update-supervisor.conf.


                        This change removes the need for that variable with livepush supervisor

                        to make it compatible with older and newer OS versions
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.6.2
                  date: 2021-04-30T19:54:33.136Z
                - commits:
                    - subject: Remove mz, mkdirp, body-parser dependencies
                      hash: 4a2ac557ef11d334154bafa0cab4e7272cbed749
                      body: |
                        'mz' can be safely replaced with fs.promises
                        and util.promisify for faster native methods.
                        'mkdirp' after Node v8 uses native fs.mkdir, thus
                        is redundant. 'body-parser' is deprecated and
                        contained within express v4.x.
                      footer:
                        Closes: "#1567"
                        closes: "#1567"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Christina Wang <christina@balena.io>
                        signed-off-by: Christina Wang <christina@balena.io>
                      author: Christina Wang
                      nested: []
                  version: balena-supervisor-12.6.1
                  date: 2021-04-27T22:23:07.811Z
                - commits:
                    - subject: Bump dockerode types to 2.5.34
                      hash: 95fb568aaeb0d5a0fa8b4b88f650b51d3b96786d
                      body: >
                        This commit updates dockerode types to the latest 2.x
                        version, removing the need

                        for custom composer types for network.


                        This commit also modifies network tests to use the new types
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.6.0
                  date: 2021-04-27T17:10:23.382Z
                - commits:
                    - subject: Enable docker layer caching on CircleCI
                      hash: dd2df215f0c62459f3e26c56efdfce26edbcc229
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.5.16
                  date: 2021-04-27T16:42:23.485Z
                - commits:
                    - subject: Added clean step to remove previous builds before running tests
                      hash: 6f4030634ad05f29f72cea11456a252570c470d7
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.5.15
                  date: 2021-04-26T19:55:49.189Z
                - commits:
                    - subject: "balena-supervisor: replace references to resin-vars"
                      hash: 6ca9507beb616c4b344e4927cb5db01534c8ae4b
                      body: >
                        Replace all references to the 'resin-vars' script with

                        'balena-config-vars' as it has been renamed. Add a conditional

                        test for compatibility with legacy systems.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Changelog-entry: "balena-supervisor: replace references to resin-vars"
                        changelog-entry: "balena-supervisor: replace references to resin-vars"
                        Signed-off-by: Mark Corbin <mark@balena.io>
                        signed-off-by: Mark Corbin <mark@balena.io>
                      author: Mark Corbin
                      nested: []
                  version: balena-supervisor-12.5.14
                  date: 2021-04-26T18:12:32.752Z
                - commits:
                    - subject: Update supervisor to typescript 4
                      hash: fd06c06092b61d349e8b40f66f847065368810e3
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.5.13
                  date: 2021-04-25T23:09:44.241Z
                - commits:
                    - subject: Bump ssri from 6.0.1 to 6.0.2
                      hash: ae8dc8ff227237444ae532cf7e817bfc463fbac5
                      body: >
                        Bumps [ssri](https://github.com/npm/ssri) from 6.0.1 to
                        6.0.2.

                        - [Release notes](https://github.com/npm/ssri/releases)

                        - [Changelog](https://github.com/npm/ssri/blob/v6.0.2/CHANGELOG.md)

                        - [Commits](https://github.com/npm/ssri/compare/v6.0.1...v6.0.2)
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: dependabot[bot] <support@github.com>
                        signed-off-by: dependabot[bot] <support@github.com>
                      author: dependabot[bot]
                      nested: []
                  version: balena-supervisor-12.5.12
                  date: 2021-04-20T22:52:22.531Z
                - commits:
                    - subject: Refactor extra_uEnv to not match with intel nuc
                      hash: e6eda0fca7b280aa5453972a26c36ab6895c227a
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.5.11
                  date: 2021-04-14T05:27:23.056Z
          version: meta-balena-2.77.2
          date: 2021-05-10T17:33:42.866Z
        - commits:
            - subject: Update os-config from v1.2.0 to v1.2.1
              hash: 028486aa61680bdc09068fdb07f3a61edfb96a5d
              body: |
                Includes rename of resin-supervisor to balena-supervisor.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.77.1
          date: 2021-05-10T13:48:11.472Z
        - commits:
            - subject: "grub update hook: move variables from grub.cfg to grubenv"
              hash: 76c82dd987215982dbfcbdf950588dafdc4c129e
              body: >
                In order to verify GPG signature of grub.cfg it must be
                immutable.

                All the variables should be stored in grubenv file. This means

                bootcount, resin_root_part and upgrade_available variables need

                to be moved to grubenv.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.77.0
          date: 2021-05-05T15:18:01.595Z
        - commits:
            - subject: "kernel: Always include overlayfs support"
              hash: ddb5dff6b146dfc252aeecede59ad3acc79683f7
              body: >
                This is needed in preparation for storage migration from aufs to
                overlayfs.

                When running hostapp-update, we need to create the target hostapp on

                overlayfs, which implies the OS we update from can support both drivers
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.76.0
          date: 2021-04-30T16:01:42.415Z
        - commits:
            - subject: "grub: grub-efi: buildin gzio for gz compressed kernels"
              hash: 6e0dd4407077d66fa9a0ac16b38a83f6cd46e9b2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
                signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.75.1
          date: 2021-04-29T19:31:21.361Z
        - commits:
            - subject: Update mobynit to the new multi-container hostOS specification
              hash: 93335381320815dbe7b2d21233106910a200e2f5
              body: >
                Update mobynit to use the new multi-container hostOS
                specification
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update mobynit to the new multi-container hostOS specification
                changelog-entry: Update mobynit to the new multi-container hostOS specification
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.75.0
          date: 2021-04-22T12:36:31.239Z
        - commits:
            - subject: "balena-engine: Update to 19.03.18"
              hash: 32705abbf93971bdddb980fe0c7a01b40d229560
              body: >
                This brings in the aufs-to-overlay migrator. Which won't run
                until we

                configure the engine service to include an `BALENA_MIGRATE_OVERLAY=1`

                env var.


                The other notable change is the fix for

                https://github.com/balena-os/balena-engine/issues/236 which allows

                `balena top` to work as expected on balenaOS
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.74.0
          date: 2021-04-20T20:48:58.556Z
        - commits:
            - subject: "modemmanager:u-blox-switch: Rework the u-blox modem switch to ECM
                mode"
              hash: 9de54188ea47e121a7f408ae1c65f70f53d3a634
              body: >
                We need to make sure the modem is completely initialized before
                sending

                the AT commands that do the switch to ECM mode. To achieve this we

                change the systemd service dependency to depend on ModemManager.service

                and then we determine the modem state by using mmcli and querying the

                modem power-state property.


                This procedure will only be done once. After the modem is placed in ECM

                mode, it will stay in this mode for future reboots so there will be no

                other delays in bringing up the modem connection.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.73.15
          date: 2021-04-20T09:21:07.975Z
        - commits:
            - subject: "device-progress: do not force an exit code"
              hash: f080936299781d121866de112e6930fa2f261fac
              body: >
                this script is only used during provisioning and HUP. in
                provisioning we `|| true` anyway, and

                in HUP we would like to use the exit code for retrying
              footer:
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
                Change-type: patch
                change-type: patch
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.73.14
          date: 2021-04-19T14:59:22.521Z
        - commits:
            - subject: add retries to status check
              hash: 73e7cae10974974eeb180fd18551f6da67432101
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.73.13
          date: 2021-04-19T10:30:12.192Z
        - commits:
            - subject: "meta-balena: rename resin-vars to balena-config-vars"
              hash: 7d019abde039a469212c59bcf6e1b7a94ed365d6
              body: >
                Rename the 'resin-vars' script to 'balena-config-vars' and
                update all

                references.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "meta-balena: rename resin-vars to balena-config-vars"
                changelog-entry: "meta-balena: rename resin-vars to balena-config-vars"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.73.12
          date: 2021-04-16T12:31:11.982Z
        - commits:
            - subject: "patch: Add strict bootcount count condition"
              hash: a340d4ddd09515eedb125cbc57d39531ade2566a
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
            - subject: "patch: Reactivate Persistent Logging test"
              hash: 572e287bb93deae01786b025ad116d4d78a6b918
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.73.11
          date: 2021-04-16T07:39:41.833Z
        - commits:
            - subject: "repo.yml: Move balena-supervisor reference to balena-os"
              hash: 7d9433e3c41c37ba3d9cea51d894b520be81d899
              body: >
                The balena-supervisor repository has been moved to balena-os so
                the

                repo.yml file needs to be corrected for nested changelogs to work again.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.73.10
          date: 2021-04-14T14:10:09.817Z
        - commits:
            - subject: Update balena-supervisor from v12.5.6 to v12.5.10
              hash: 36a1b1e9808db5d2c70f06209f868b24bd8643b1
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.5.6 to v12.5.10
                changelog-entry: Update balena-supervisor from v12.5.6 to v12.5.10
                Signed-off-by: Christina Wang <christina@balena.io>
                signed-off-by: Christina Wang <christina@balena.io>
              author: Christina Wang
              nested: []
          version: meta-balena-2.73.9
          date: 2021-04-14T11:26:13.292Z
        - commits:
            - subject: "resin-mounts/etc-fake-hwclock: add dependency on resin-state services"
              hash: 2b07011844a2738aec033d88af29e3f6e0dd28a2
              body: >
                Added a dependency on resin-state.service and
                resin-state-reset.service

                to etc-fake-hwclock.mount.


                On initial boot after flashing a device the resin-state-reset.service

                was running after etc-fake-hwclock.mount causing the bind mount point

                /mnt/state/root-overlay/etc/fake-hwclock to be deleted after it had

                been mounted. This resulted in a failure to save the date/time at

                shutdown which caused problems with persistent logging at next boot.

                Subsequent boots are unaffected as resin-state-reset does not run.

                Adding a dependency on the resin-state services ensures that the

                bind mount point is created after the state reset has been performed.


                This issue was noticed when running the testbot unmanaged OS image

                persistent logging test. When running a managed OS image the device

                normally reboots fairly immediately after connecting to the

                balena-cloud host and receiving parameter updates, so this issue is

                not usually noticeable.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#2146 #2143"
                connects-to: "#2146 #2143"
                Changelog-entry: "resin-mounts/etc-fake-hwclock: add dependency on resin-state
                  services"
                changelog-entry: "resin-mounts/etc-fake-hwclock: add dependency on resin-state
                  services"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.73.8
          date: 2021-04-13T14:21:01.455Z
        - commits:
            - subject: fix udev test indentation
              hash: dedfa47ca1fbae4cd8b96eb05cf093ae3f9432d9
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: Added comments for easier debugging
              hash: c3085492fe85b314e1644870e614531fa6bde6a8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: Fix old tests + add new tests based on testlodge
              hash: 2c8ab0f0962cca1b6fecb25b9a2dbe62acf4cf6a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.73.7
          date: 2021-04-13T10:43:37.477Z
        - commits:
            - subject: Add automated test checking for udev/resin_update_state_probe warnings
              hash: e6bcff01fcf520756b140ad3b4352583f4bc825e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "udev: Silence warnings from resin_update_state_probe"
              hash: 5a0bed933fd9730e507305c6098698c4a1970c6e
              body: >
                At this moment resin_update_state_probe is scanning pretty much
                every

                block device for rootfs. This include ramdisks, zram and loop devices

                which, when scanned, even spam warnings in logs. This patch updates

                the udev rule to skip such devices and only trigger on add or change

                events.
              footer:
                Relates-to: "#1989"
                relates-to: "#1989"
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.73.6
          date: 2021-04-12T12:17:29.995Z
        - commits:
            - subject: Update balena-supervisor from v12.4.6 to v12.5.6
              hash: 6852b3704575ce5535082e2c02a7f2c6f57e1df4
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.4.6 to v12.5.6
                changelog-entry: Update balena-supervisor from v12.4.6 to v12.5.6
                Signed-off-by: Christina Wang <christina@balena.io>
                signed-off-by: Christina Wang <christina@balena.io>
              author: Christina Wang
              nested: []
          version: meta-balena-2.73.5
          date: 2021-04-06T02:41:31.071Z
        - commits:
            - subject: Add to persistent logging defn
              hash: a763533ee5d589394584e5990bd89ca6d18365c5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrew Nhem <andrew@balena.io>
                signed-off-by: Andrew Nhem <andrew@balena.io>
              author: Andrew Nhem
              nested: []
          version: meta-balena-2.73.4
          date: 2021-03-20T00:50:55.294Z
        - commits:
            - subject: "wifi: remove listed example as it's discontinued"
              hash: c539b4c6c671fca2cd0fabc7416e2bbd0b20ee44
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Tomás Migone <tomas@balena.io>
                signed-off-by: Tomás Migone <tomas@balena.io>
              author: Tomás Migone
              nested: []
          version: meta-balena-2.73.3
          date: 2021-03-19T19:05:13.959Z
        - commits:
            - subject: "hostapp-update: convert absolute symlinks to relative"
              hash: fa8b5a4d2836510c5257d75c65542d374f628407
              body: >
                Symlinks to /boot and /sbin/init are absolute, which breaks them
                when

                the sysroot is mounted under another system.


                Convert them to relative links, so they work in all cases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.73.2
          date: 2021-03-17T18:30:51.715Z
        - commits:
            - subject: Update balena-supervisor from v12.3.5 to v12.4.6
              hash: 8399bdf47ded925e74e48b128b4f7b2452008dd5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.3.5 to v12.4.6
                changelog-entry: Update balena-supervisor from v12.3.5 to v12.4.6
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
              author: Felipe Lalanne
              nested: []
          version: meta-balena-2.73.1
          date: 2021-03-16T13:08:50.984Z
        - commits:
            - subject: "image_types_balena: make rootfs labeling generic"
              hash: 924bb046c94ea9a6db516733f727c18bc47fc0e7
              body: ""
              footer:
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
                Change-type: patch
                change-type: patch
              author: Joseph Kogut
              nested: []
            - subject: "image_types_balena: make agnostic to root fstype"
              hash: 71553d47174d8dc28777b0d0a6723418192ad8e4
              body: >
                Build BALENA_HOSTAPP_IMG path using BALENA_ROOT_FSTYPE instead
                of assuming

                the root is ext4.
              footer:
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
                Change-type: patch
                change-type: patch
              author: Joseph Kogut
              nested: []
            - subject: "mkfs-hostapp-native: make agnostic to fstype"
              hash: 295976261f44650bd108eafcb53b3d24f6a28671
              body: >
                Remove assumptions about root fstype. Rename create to
                create.ext4,

                mkfs.hostapp-ext4 to mkfs.hostapp, and add an argument to mkfs.hostapp

                for fstype. Remove CMD from Dockerfile in favor of passing it as an

                argument to docker run.
              footer:
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
                Change-type: minor
                change-type: minor
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.73.0
          date: 2021-03-15T20:56:51.275Z
        - commits:
            - subject: "balena: dissolve healthcheck-image-load into healthcheck script"
              hash: 7983e9bfd716aaedad1ef5f1468b2771e1f5a71c
              body: >
                Previously we were loading the healthcheck image from it's own
                service

                that was previously made `PartOf=` the balena.service.

                This was done in an attempt to help get the system unstuck when the

                image is removed (like through manual pruning), which would cause the

                healthcheck to trigger the engine to reboot until the load service was

                restarted by hand.


                Further investigation found a race between the first execution of the

                engine healthcheck script (which needs the image to be loaded) and the

                loader service itself, which would lead to a similar state, requireing

                manual intervention.


                This change moves the loading into the healthcheck script itself,

                allowing us to remove the loader script and service entirely, skipping

                the whole service ordering issue.
              footer:
                Backport-to: next
                backport-to: next
                Connects-to: "#2122"
                connects-to: "#2122"
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.72.2
          date: 2021-03-15T13:36:10.137Z
        - commits:
            - subject: Fix disablement of userspace firmware loading requests
              hash: 98fad0bbfd179f16c5985a3281af25b4801af6e9
              body: >
                This option depends on FW_LOADER_USER_HELPER which will be
                enabled if

                _FALLBACK is set to 'y', which is the default in the arm64 defconfig

                since Linux 5.4+.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix disablement of userspace firmware loading requests
                changelog-entry: Fix disablement of userspace firmware loading requests
                Signed-off-by: Pelle van Gils <pelle@vangils.xyz>
                signed-off-by: Pelle van Gils <pelle@vangils.xyz>
              author: Pelle van Gils
              nested: []
          version: meta-balena-2.72.1
          date: 2021-03-11T09:52:01.508Z
  version: 2.78.0+rev1
  date: 2021-05-11T11:19:29.022Z
- commits:
    - subject: Rename resin image types to balena
      hash: fdfce1de2db2301b51f6ee9a9ba9bf858c745f85
      body: |
        Rename resin image types to balena and replace RESIN_ env vars
      footer:
        Changelog-entry: Rename resin image types to balena
        changelog-entry: Rename resin image types to balena
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: Update meta-balena from v2.60.1 to v2.72.0
      hash: 72ef4b9400cd826b95b3de2b667fc43fbc5b130b
      body: |
        Update meta-balena from 2.60.1 to 2.72.0
      footer:
        Changelog-entry: Update meta-balena from v2.60.1 to v2.72.0
        changelog-entry: Update meta-balena from v2.60.1 to v2.72.0
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested:
        - commits:
            - subject: "os-config: Update os-config from v1.1.4 to v1.2.0"
              hash: 76bae0c1e32d82b0371d99094965538a05fa3387
              body: |
                Update os-config from 1.1.4 to 1.2.0
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested:
                - commits:
                    - subject: "os-config: rename flasher flag path"
                      hash: 3622cc8cdf38f42c1f38fb6d5c67dde16631d6f0
                      body: >
                        As part of a full rename away from legacy resin
                        namespaces the

                        following os-config compatibility changes are required to align

                        with meta-balena changes.


                        - rename resin-image-flasher to balena-image-flasher
                      footer:
                        Change-type: minor
                        change-type: minor
                        Connects-to: https://github.com/balena-os/meta-balena/pull/2118
                        connects-to: https://github.com/balena-os/meta-balena/pull/2118
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                  version: os-config-1.2.0
                  date: 2021-02-23T20:19:36.114Z
            - subject: Rename resin image types to balena
              hash: 057621ad646f1958328c688994ef7f6fb48b9012
              body: |
                As part of a full rename away from legacy resin namespaces the
                following components have been renamed:

                - resinos-img -> balenaos-img
                - image_types_resin -> image_types_balena
                - image-resin -> image-balena
                - resin-image -> balena-image
                - resin-image-flasher -> balena-image-flasher
                - resin-image-initramfs -> balena-image-initramfs
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Rename resin image types to balena
                changelog-entry: Rename resin image types to balena
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.72.0
          date: 2021-03-10T20:00:01.558Z
        - commits:
            - subject: Apply aufs patches if aufs is present in kernel config
              hash: 8094dc7a3a36cfc4f1c0da5be66dc666e29b7dbe
              body: >
                Allow installing and patching aufs even if BALENA_STORAGE is
                overlay2
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Apply aufs patches if aufs is present in kernel config
                changelog-entry: Apply aufs patches if aufs is present in kernel config
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.71.7
          date: 2021-03-08T13:49:52.854Z
        - commits:
            - subject: "grub-efi: build required modules into grub image"
              hash: 5e1004d6753025166c40b11af117e008feb875f1
              body: >
                grub-efi requires modules to be installed in the boot partition,
                and

                resin-image installs them from ${DEPLOYDIR}.


                A normal grub installation installs those modules to ${PREFIX}/${libdir}

                to allow grub tooling to install them at runtime, but we're building the

                image with GRUB baked in, so we don't need those in the sysroot.


                The first iteration of this bbappend attempted to solve these

                constraints by copying the modules from ${D}/${libdir}/grub/ to

                ${DEPLOYDIR} in do_deploy(), then removing ${D}${prefix}. This had the

                unfortunate side effect of breaking the build in certain cases, such as

                clean builds or reexecuting do_deploy() without the other steps of the

                build.


                Instead, remove the unwanted files in do_install(), and append the

                required modules to GRUB_BUILDIN to create a standalone grub image

                without any external modules at all.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.71.6
          date: 2021-03-05T22:03:28.222Z
        - commits:
            - subject: "initrdscripts: always use by-uuid symlink looking for flasher rootfs"
              hash: d16ad58f6efe76c9313226735de88648e54d2420
              body: >
                If the device with flasher rootfs is slow to bring up and rootfs
                is defined

                as UUID=xxx the waiting loop in rootfs initrd script would assume UUIDs have

                just been regenerated and wait for a by-state symlink instead. This only works

                for the OS - flasher does not use the dynamically generated UUIDs

                therefore we always want to use the by-uuid link for it.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.71.5
          date: 2021-03-03T19:17:32.016Z
        - commits:
            - subject: Update OS test suite
              hash: 6c82ffb23c05e334ae2157c8e6c0f3e197467d2f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.71.4
          date: 2021-03-01T11:03:02.277Z
        - commits:
            - subject: "balena: Make the healthcheck loading service part of balena.service"
              hash: c26f2d203a87d1578d9d52d5bbd8b0b18869916e
              body: >
                This prevents issues with the health check when the image is
                manually

                removed.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: https://github.com/balena-os/meta-balena/issues/2010
                connects-to: https://github.com/balena-os/meta-balena/issues/2010
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.71.3
          date: 2021-02-26T12:34:11.073Z
        - commits:
            - subject: "dnsmasq: enable dbus support"
              hash: 372980ca6aa6bd2793ac856c303c3b3ac4eeffdb
              body: >
                This config option is disabled by default in the upstream
                package

                so I'm including the change here as a separate commit.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "dnsmasq: update to 2.84 with dnspooq fix"
              hash: 3afbe8dfbbaf9f73a09048e0350622535befa0a8
              body: >
                https://github.com/balena-os/meta-balena/issues/2099


                Copy dnsmasq 2.84 recipe and files from this upstream patch:


                http://cgit.openembedded.org/meta-openembedded/commit/meta-networking/recipes-support/dnsmasq?id=3e28a31bb479f292b9a052a3d2eee84c49319ee3
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.71.2
          date: 2021-02-23T19:57:37.313Z
        - commits:
            - subject: "recipes-bsp: grub: install only release modules"
              hash: 78a8049218d8ce3a9172b7fca6fe00270544e7f1
              body: >
                GRUB builds modules with both debug and release variants, with
                *.module

                and *.mod extensions respectively.


                Install only the release modules in do_deploy() to avoid balooning the

                size of the boot partition.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.71.1
          date: 2021-02-23T17:59:51.133Z
        - commits:
            - subject: "meta-balena-common: add grub-efi support"
              hash: 3bfbd05d81d59c82fb131117700325416fb152cb
              body: >
                Use upstream grub and grub-efi recipes with a new grub-conf
                recipe

                employing a config template.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.71.0
          date: 2021-02-15T17:58:51.450Z
        - commits:
            - subject: Update PR template to specify test coverage in more detail
              hash: ce0bb95e1d045ef32c377d4fc9de959c6ebbfd88
              body: >
                All PRs should include details about test coverage, including
                whether the

                tests are automated on manually recorded.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Update codeowners
              hash: a00b54679aa6804f6a5c9fa75826764cf21c5c2e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.70.2
          date: 2021-02-12T09:31:46.288Z
        - commits:
            - subject: Add leviathan automated OS test suite
              hash: 3f6d7588874721c506a70f66603d2b153f9a6fcf
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.70.1
          date: 2021-02-11T16:18:58.778Z
        - commits:
            - subject: "systemd/timeinit: use systemd mount unit for /etc/fake-hwclock"
              hash: 7d6ec3d411af78b9b1f979b90461e9efb059e4e7
              body: >
                Replace the 'bind-etc-fake-hwclock.service' with a systemd mount

                unit (etc-fake\x2dhwclock.mount).


                Using a systemd service to bind mount the /etc/fake-hwclock directory

                results in systemd generating an internal mount unit for the same

                directory. This causes problems at shutdown when both methods try to

                unmount the directory. This frequently leads to the directory being

                unmounted before the fake-hwclock service has managed to save the

                system time. This results in an inaccurate fake-hwclock time

                at next boot and corruption of the journal log.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#1919 #2107"
                connects-to: "#1919 #2107"
                Changelog-entry: "systemd/timeinit: use systemd mount unit for
                  /etc/fake-hwclock"
                changelog-entry: "systemd/timeinit: use systemd mount unit for
                  /etc/fake-hwclock"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.70.0
          date: 2021-02-11T10:02:08.246Z
        - commits:
            - subject: Update balena-supervisor from v12.3.0 to v12.3.5
              hash: 8f8a57760b82a1378adc078c86bb25aeafd7d6e8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.3.0 to v12.3.5
                changelog-entry: Update balena-supervisor from v12.3.0 to v12.3.5
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: meta-balena-2.69.1
          date: 2021-02-03T23:42:05.644Z
        - commits:
            - subject: "openvpn: remove resin-ntp-config call from upscript.sh"
              hash: 958cd8f4bfc5d052d29c5d60c43e9ede58e39825
              body: >
                Running resin-ntp-config from openvpn upscript.sh is no longer

                necessary as it is now run automatically when config.json changes.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#2073"
                connects-to: "#2073"
                Changelog-entry: "openvpn: remove resin-ntp-config call from upscript.sh"
                changelog-entry: "openvpn: remove resin-ntp-config call from upscript.sh"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "resin-vars: trigger NTP config script on config.json changes"
              hash: 8dd222087f58c596bf3d30a956c985fcb0214baa
              body: |
                Add resin-ntp-config.service to config-json.service so that the
                resin-ntp-config script is automatically run on changes to
                config.json.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#2073"
                connects-to: "#2073"
                Changelog-entry: "resin-vars: trigger NTP config script on config.json changes"
                changelog-entry: "resin-vars: trigger NTP config script on config.json changes"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "resin-ntp-config: update script and add systemd service"
              hash: 7084f736b988706f71fe1d1ec95db6641be8a85e
              body: >
                Update the resin-ntp-config script to work with dynamic chrony

                source configuration. Any NTP sources configured by config.json

                are added to a chrony sources file. Changes to the sources file

                are picked up by chrony either when it starts up or at runtime

                using the chrony-helper script.


                A systemd service has been added to run the resin-ntp-config script

                once at boot. Previously the script was being run up to 8 times at

                boot via a NetworkManager dispatcher script.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#2073"
                connects-to: "#2073"
                Changelog-entry: "resin-ntp-config: update script and add systemd service"
                changelog-entry: "resin-ntp-config: update script and add systemd service"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "networkmanager: add improved dispatcher scripts for NTP handling"
              hash: 23e52eaca7f0983ac6da27289fc293e43e7dbebd
              body: >
                Update the existing DHCP dispatcher script for adding NTP
                sources to

                make use of dynamic chrony source configuration. Any DHCP configured

                NTP sources for a particular interface are added to a sources file on

                network 'up' or DHCP lease renewal events. Any DHCP configured NTP

                sources for a particular interface are deleted on network 'down'

                events. Changes to the sources file are picked up by chrony either

                when it starts up or at runtime using the chrony-helper script.


                Add a dispatcher script to trigger the chrony online/offline

                status on network 'up' and 'down' events. This will make chrony

                re-run an iburst for sources when the appropriate network interface

                comes back up.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#2073"
                connects-to: "#2073"
                Changelog-entry: "networkmanager: add improved dispatcher scripts for NTP
                  handling"
                changelog-entry: "networkmanager: add improved dispatcher scripts for NTP
                  handling"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "chrony: add sourcedir support and helper script"
              hash: d6c64b0a08b64593d6684605bd5268f28ff1b1c9
              body: >
                Add the 'sourcedir' parameter to the chrony configuration to
                support

                dynamic source configuration files. Any NTP source files that are

                created in 'sourcedir' (/run/chrony) can be used to update the chrony

                source configuration at runtime.


                Add a helper script to support the dynamic re-loading of chrony

                sources. This script uses the chrony 'reload sources' feature.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#2073"
                connects-to: "#2073"
                Changelog-entry: "chrony: add sourcedir support and helper script"
                changelog-entry: "chrony: add sourcedir support and helper script"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.69.0
          date: 2021-02-01T09:33:15.826Z
        - commits:
            - subject: Fix task ordering for the iwlwifi_firmware_clean task
              hash: 5d039b111a964e21a637a5c7806aea6bb510a43e
              body: >
                We need to make sure the firmware cleanup function runs before

                do_populate_sysroot otherwise do_populate_sysroot will race with it and

                will fail complaining about the missing firmware that

                iwlwifi_firmware_clean had just deleted at the same time.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix task ordering for the iwlwifi_firmware_clean task
                changelog-entry: Fix task ordering for the iwlwifi_firmware_clean task
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.68.1
          date: 2021-01-29T13:02:49.703Z
        - commits:
            - subject: Update NetworkManager to 1.28.0
              hash: 20e9c276f8d79b6051066e24b159c8bd9ffe3bc2
              body: >
                Fixes #2075


                Needed were a number of various changes to make the package compile properly:


                Removed is 0001-wwan-Set-MTU-based-on-what-ModemManager-exposes.patch that is now

                included upstream.


                Our patch for removing HTTPS connectivity checking warning is reworked for ease of

                maintainance. It now keeps the log entry, but changes it to debug level.


                Fixed are UPSTREAM_CHECK_* definitions as they referenced a wrong version number.


                The following additional configuration options were added/removed:


                *. Introspection is disabled through `--enable-introspection=no`. Other services do

                not depend on it, so it is safe to remove it. A related patch is no longer needed

                0002-Do-not-create-settings-settings-property-documentati.patch


                *. A new option for using firewalld zone for shared mode is disabled as we do not

                use firewalld.


                *. The polkit agent option no longer is available, so `--enable-polkit-agent` and

                `--disable-polkit-agent` are no longer defined.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update NetworkManager to 1.28.0
                changelog-entry: Update NetworkManager to 1.28.0
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.68.0
          date: 2021-01-29T09:45:01.458Z
        - commits:
            - subject: "docs: mention balenaRootCA as a config.json parameter"
              hash: d0be88530c630d68f8582dce99442c6d94ba5455
              body: ""
              footer:
                Connects-to: https://github.com/balena-os/meta-balena/issues/2011
                connects-to: https://github.com/balena-os/meta-balena/issues/2011
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.67.6
          date: 2021-01-28T17:45:30.693Z
        - commits:
            - subject: replace busybox ps with procps [klutchell]
              hash: 00556af37cf241e2b95d9b719f1ab58cc9bbddb6
              body: >
                Replace busybox ps link with ps.procps without installing

                any other procps packages. This will avoid regression and bloat

                from swapping existing busybox links with procps variants.


                By using procps as docker expects we can properly handle ps args

                such as -e and -o to format output. Busybox is only capable of this

                when compiled in "desktop" mode.


                This upstream commit to poky has already split the ps binary into

                a separate procps package:


                - https://git.yoctoproject.org/cgit/cgit.cgi/poky/commit/?id=507a47a4e5077d5f8f76d9629be6b871dfd8eb90


                So for now we can copy this recipe at the commit above into compat branches

                and use that version until we pick up a branch newer than gatesgarth.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: https://github.com/balena-os/balena-engine/issues/236
                connects-to: https://github.com/balena-os/balena-engine/issues/236
                Changelog-entry: replace busybox ps with procps [klutchell]
                changelog-entry: replace busybox ps with procps [klutchell]
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.67.5
          date: 2021-01-27T18:47:18.617Z
        - commits:
            - subject: Update aufs4 and aufs5 kernel patches
              hash: 62231bee3dd12698522130b224371ff82a3de567
              body: |
                We update to the newest patch revisions from upstream
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update aufs4 and aufs5 kernel patches
                changelog-entry: Update aufs4 and aufs5 kernel patches
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.67.4
          date: 2021-01-27T11:08:07.030Z
        - commits:
            - subject: "kernel-headers-test: Install python dependency"
              hash: 6b648fa36bb8f7b2f90799a9c331210e34d3c438
              body: |
                Some makefiles for the kernel modules build, like for
                instance the one in the kernel for the lec-px30 machine,
                want python to be available in the environment. Let's add
                it to the build dependencies.
              footer:
                Change-type: Patch
                change-type: Patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.67.3
          date: 2021-01-15T11:10:16.824Z
        - commits:
            - subject: Fix pppd timeout when launched by NetworkManager
              hash: e86c83e9be007bbedf5bad8bb961931c4f4f649c
              body: >
                Fixes #1846


                UART modems (RaspberryPi HATs) are not working currently under

                balenaOS as NetworkManager times out while attempting to establish

                ppp connection. This is not a balenaOS specific issue.


                This commits adds a `connect ""` declaration to `/etc/ppp/options`

                to workaround this as the NULL default value causes the timeout.


                The connect option specifies an external script to establish the

                physical link. When using NetworkManager/ModemManager it is

                ModemManager that establishes the physical link before passing it

                to NetworkManager. Thus `connect` should be empty.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix pppd timeout when launched by NetworkManager
                changelog-entry: Fix pppd timeout when launched by NetworkManager
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.67.2
          date: 2021-01-14T12:39:10.901Z
        - commits:
            - subject: "resin-device-register: Fix post provisioning state not reported"
              hash: 62016c3931c08cbc4c4bdb1e4069c6f9d9533b04
              body: >
                Starting with dee971c0dbeb6e8363f3e321af582e99627626e9, flasher

                images, which don't contain a supervisor version, try to register

                in the API using the parameter supervisor_version='null'.


                However, the API expects this parameter to be unset completely if

                there's no version to be reported during registration, otherwise

                the call fails and the device doesn't show up in dashboard during

                flashing or report the post-provisioning state.
              footer:
                Change-type: Patch
                change-type: Patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.67.1
          date: 2021-01-13T14:55:01.572Z
        - commits:
            - subject: Update balena-supervisor from v12.2.11 to v12.3.0
              hash: fc41d16085b331d032a3666fc25af7c43eee5369
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor from v12.2.11 to v12.3.0
                changelog-entry: Update balena-supervisor from v12.2.11 to v12.3.0
                Change-type: minor
                change-type: minor
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
              author: Felipe Lalanne
              nested: []
          version: meta-balena-2.67.0
          date: 2021-01-12T13:41:49.881Z
        - commits:
            - subject: Respect custom CA in supervisor
              hash: 4cf82392c78d804a18737de80dcfa6f8f34d0494
              body: >
                This is necessary because node has its own built-in CA bundle
                and ignores

                the system-wide bundle. Bind-mount the system-wide bundle to the supervisor

                container as well to keep the previous behavior. Make it read-only though,

                any modifications should be performed by the host OS.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Respect custom CA in supervisor
                changelog-entry: Respect custom CA in supervisor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.66.3
          date: 2021-01-12T09:38:46.408Z
        - commits:
            - subject: "README: Rename resin-logo to balena-logo."
              hash: 47a7a0ab9a99ea45b4fcf4e684d973088328eca9
              body: >
                The file rename happened in v2.51 but the README has not been
                updated

                accordingly.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.66.2
          date: 2021-01-11T17:30:40.806Z
        - commits:
            - subject: "kernel-devsrc: use upstream recipe starting with dunfell"
              hash: 1300a223f5b58dd4584b62e87df41ec72f783961
              body: |
                Remove the kernel-devsrc package from meta-balena and
                use the one from the upstream Poky project instead.

                Initially I hoped thud and warrior could also use the respective
                upstreams but I see several differences between the meta-balena
                version and the upstreams so I updated those compat layers
                as well.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "gen_mod_headers: add missing arch headers to tools"
              hash: 5485f1fbc901a04eedbcc3b72cc95fdfb2d03665
              body: >
                Upstream changes to the kernel have switched to a shared x86

                insn decoder required by tools/objtool so we must add those

                include and lib components to our target dir.


                https://lore.kernel.org/lkml/20190830201021.utzjr6cs5hoxygyi@treble/T/
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.66.1
          date: 2021-01-04T13:06:56.017Z
        - commits:
            - subject: "chrony: bump to version 4.0"
              hash: 67e8632a8a6c82dcf382b0204af40b79dd1a279a
              body: |
                Update chrony from version 3.4 to version 4.0.

                The new version has enhancements and new features that will
                help to improve time synchronisation, including:

                - the ability to add server pools via scripts using chronyc.
                - support for dynamic NTP source files that can be reloaded
                  as necessary (useful for DHCP and config.json sources).
                - source name options for improved handling of pool addresses.
                - repeat 'iburst' when a source is changed from offline to
                  online state.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: "chrony: bump to version 4.0"
                changelog-entry: "chrony: bump to version 4.0"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.66.0
          date: 2020-12-18T11:02:16.858Z
        - commits:
            - subject: "u-boot: Add required configuration for BalenaOS environment"
              hash: 401345c86a3a017dc548a94c7afa3977d547fc21
              body: >
                The BalenaOS u-boot environment patch requires u-boot to support
                importing

                and exporting of the environment as well as the fsuuid command.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.65.1
          date: 2020-12-17T10:39:35.947Z
        - commits:
            - subject: Update balena-supervisor from v12.1.1 to v12.2.11
              hash: 0f301c4bba35737149c6489b4cd6716506496372
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor from v12.1.1 to v12.2.11
                changelog-entry: Update balena-supervisor from v12.1.1 to v12.2.11
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: meta-balena-2.65.0
          date: 2020-12-14T22:04:19.165Z
        - commits:
            - subject: Add IPV6 multicast routing capability
              hash: 510bb7a7107f538f56c35a87a7426e7c12a3cdb3
              body: >
                Add IPV6 multicast routing capability to the default
                configuration.


                Fixes #2051
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add IPV6 multicast routing capability
                changelog-entry: Add IPV6 multicast routing capability
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.64.4
          date: 2020-12-14T12:36:30.487Z
        - commits:
            - subject: 'Revert "resin-data.mount: Remove default dependencies"'
              hash: 0101e6289b2a05ab688db43f73772ebfeeb97c53
              body: >
                This reverts commit dc6cfa2e90b29b0fdcfc05c1b85e2196de4f950b.


                Once the core problem with the resin-data mount has been fixed this

                commit is no longer needed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "hostapp-update-hooks: Add supervisor database fix"
              hash: f3e7e164cf095218c1f92f2afecdd186cbbdfadd
              body: >
                When adding hostapp extension support to mobynit, in:

                https://github.com/balena-os/meta-balena/commit/6be3f1153d56c1c0c21e6d84db7be70be96bcd10


                the supervisor database was relocated by mistake. On this version the database

                returns to its original place, and these hooks copy the old database to the

                new location to avoid data loss.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-supervisor: Make sure the database directory exists"
              hash: d070fe38a3b2a91fcc7c07d716fa90fdd3e9d078
              body: >
                If this directory is removed by mistake, the supervisor will not
                be

                able to start.


                This commit checks the directory existence and creates it if required

                independently of whether the supervisor container is present.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Correct the data partition mountpoint
              hash: 36dca74acc9e7db23b8980fff735360332927125
              body: |
                Correct the mount point for the resin-data directory.

                Fixes https://github.com/balena-os/meta-balena/issues/2070
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Correct the data partition mountpoint
                changelog-entry: Correct the data partition mountpoint
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.64.3
          date: 2020-12-11T07:52:52.415Z
        - commits:
            - subject: "meta-balena-common: kernel-resin: enable task-accounting by default"
              hash: d308c67666e612fad7e6bb7ac88d5bec2bfd8f9e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "meta-balena-common: kernel-resin: create task-accounting config"
              hash: ea3c787c5ad31af758844a0242a9d9baf1a47135
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.64.2
          date: 2020-12-10T10:19:16.893Z
        - commits:
            - subject: Update codeowners
              hash: d18fc8cdfab02a4c5016b29eca23b4f1f73c7e9b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.64.1
          date: 2020-12-09T08:47:40.115Z
        - commits:
            - subject: "rust: remove merged fix for TUNE_FEATURES parsing"
              hash: 9a4ea159051825461007cff90c7c370ce74d7680
              body: >
                https://github.com/meta-rust/meta-rust/issues/240

                https://github.com/meta-rust/meta-rust/pull/242


                The fix for TUNE_FEATURES parsing has been merged in meta-rust master

                and should be present when they fork for dunfell.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "systemd: update patches to avoid fuzzy matching"
              hash: 03d64e57466c66acd710b089c4ae8d777f963554
              body: >
                The content applied by the patches has not changed, just the
                context

                in order to properly inject changes without fuzzy matching since the source

                files have changed upstream.


                `devtool modify systemd`

                `devtool finish --force-patch-refresh systemd ../layers/meta-balena/meta-balena-dunfell/`
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "systemd: add missing udev rules"
              hash: 02b48c9523ff5ed36cc2cfd94225ea4234649371
              body: >
                https://github.com/balena-os/poky/commit/e3cd4e584239c207e3c82bdf5d7216d26fd28fc7


                add missing udev rules since systemd began including rules explicitly
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "systemd: avoid conflicts with timeinit package"
              hash: 97d14daa8f1bc8887883fd56c1512bdd51b2e351
              body: |
                Both systemd and timeinit attempt to install time-set.target so
                we will remove the systemd version during install.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "dropbear: prevent conflicts with openssh"
              hash: 169c1652e46e3a31d4f96bb98cbcf8240f3453ca
              body: >
                [https://github.com/balena-os/poky/commit/d365948ebd76625f82ef04e77d35bcfeced42fec]


                Dropbear is still required to migrate keys. Avoid the upstream conflict with openssh.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "networkmanager: add bash requirement"
              hash: 9d380ec203a80afc15b4c902c36da7c25300515d
              body: |
                99dhcp_ntp in networkmanager requires bash
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "networkmanager: remove deprecated bluetooth inherit"
              hash: 1993db9f3027936119248bd193e350456ba035bc
              body: >
                In poky dunfell and newer the bluetooth class has been
                deprecated.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "meta-balena-common: replace distro_features_check with features_check"
              hash: c907611d66aa4d2ff27f9940178cbcdbc2273459
              body: >
                Replace distro_features_check that was deprecated upstream in
                dunfell.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "avahi: remove example services"
              hash: 317c7a6404195e78a21c76e43f8743a47cf542d1
              body: >
                In dunfell the example ssh service files don't exist so avoid
                failing

                during do_install for services that we don't use anyway.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "u-boot: disable u-boot-initial-env"
              hash: 9346f58cdd73924aec4279861ff43611c125ab5d
              body: >
                https://github.com/balena-os/poky/commit/d7b8ae3faa9344f2ada22e0402066c2fff5958c6


                We have no use for u-boot-initial-env and enabling it would require

                additional changes in do_compile to match the commit linked above.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "dnsmasq: fix build after y2038 changes in glib"
              hash: fca86497476cf3d275ae3d4f8274d51b6b96a9b8
              body: >
                SIOCGSTAMP is defined in linux/sockios.h, not asm/sockios.h

                http://thekelleys.org.uk/gitweb/?p=dnsmasq.git;a=commit;h=3052ce208acf602f0163166dcefb7330d537cedb
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "bluez5: replace experimental flag patch with service conf"
              hash: 8d5a67522eda56acb583c5ab26f6144fef7038a1
              body: >
                In dunfell, rather than patching the bluetooth.service.in file,

                we will just override the ExecStart value via bluetooth.conf.systemd
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "mtools: remove initialize-direntry patch"
              hash: c35b98165cc698188b978c34c7fb20f58a4c83e1
              body: >
                Remove initialize-direntry.patch that has been fixed in mtools
                4.0.23
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "meta-balena-dunfell: dunfell compatibility layer support"
              hash: e8c34101f13d0327ac278207c8d7d500214f5f6f
              body: >
                Create meta-balena-dunfell layer base by copying
                meta-balena-warrior
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: "meta-balena-dunfell: dunfell compatibility layer support"
                changelog-entry: "meta-balena-dunfell: dunfell compatibility layer support"
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.64.0
          date: 2020-12-07T16:42:10.390Z
        - commits:
            - subject: "start-resin-supervisor: fix directory creation for 'balena start'"
              hash: ce9e4f211a2356a866edee5ca3dbada3faa27689
              body: >
                Ensure that the /var/log/supervisor-log directory exists prior
                to

                running 'balena start --attach resin_supervisor' as well as

                'runSupervisor'.


                Updates to the 'start-resin-supervisor' script in v2.62.1 removed

                the check for updates to the REGISTRY_ENDPOINT variable. Previously

                this had been detected as changing every time the script was run

                due to a comparison between 'null' and ''. This resulted in the

                'start-resin-supervisor' script always running through the

                'runSupervisor' path. With this variable check removed, and no config

                updates being detected, the script was trying to run

                'balena start --attach resin_supervisor' and failing due to the

                absence of the /var/log/supervisor-log directory. To fix this problem we

                unconditionally test for and create this directory (if necessary) so

                that it is available regardless of the path taken through the script.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#2064"
                connects-to: "#2064"
                Changelog-entry: "start-resin-supervisor: fix directory creation for 'balena
                  start'"
                changelog-entry: "start-resin-supervisor: fix directory creation for 'balena
                  start'"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.63.1
          date: 2020-12-04T17:24:10.321Z
        - commits:
            - subject: "zram-swap-init: adjust default to lesser of 50%/4GB"
              hash: 155af3386029a0e76b74ee60d58c32ba72073a82
              body: >
                Copied from Fedora zram defaults [0]. This may be adjusted later
                after

                doing our own profiling.


                [0] https://fedoraproject.org/wiki/Changes/SwapOnZRAM#Default_zram_device_configuration:
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.63.0
          date: 2020-11-30T21:37:10.077Z
        - commits:
            - subject: "chrony: use a non-privileged UDP source port"
              hash: 447449808ef08577712db43b1042599ad4d7d23c
              body: >
                Change the chrony UDP source port from 123 (privileged) to

                1234 (non-privileged).


                Previous issues with Phicomm routers had required the use of a fixed

                UDP source port, so port 123 was chosen as this is used by both ntpd

                and ntpdate. However recent testing has shown that using a privileged

                port such as 123 can cause issues on other networks. By changing the

                port to be non-privileged (i.e. 1234) we can satisfy both network

                requirements.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#2000"
                connects-to: "#2000"
                Changelog-entry: "chrony: use a non-privileged UDP source port"
                changelog-entry: "chrony: use a non-privileged UDP source port"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.62.2
          date: 2020-11-25T13:53:40.649Z
        - commits:
            - subject: "supervisor: remove old/unnecessary balenaRootCA references"
              hash: 65c7c232082185ddecbedca579327f6c80686bc5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.62.1
          date: 2020-11-19T20:26:12.667Z
        - commits:
            - subject: "systemd/timeinit: improve RTC handling at boot"
              hash: 1c1374f3c8b5914b7e645f8068ebafc8b4cbbe3a
              body: >
                The handling of the RTC at boot time has been improved as
                follows:


                1) A 'timeinit-rtc.sh' script has been added to improve logging of
                   system time updates from the RTC and to prevent system time
                   being set when RTC time is behind system time. If RTC time is
                   found to be behind system time a warning is issued regarding
                   potential RTC battery failure.

                2) The 'timeinit-rtc.service' has been added to the new systemd
                   'time-set.target'. This allows for better control and
                   co-ordination between the various time source services.

                3) Systemd dependencies have been updated to ensure that the
                   RTC is the final time service before the 'time-set.target'
                   is reached.

                The 'timeinit-buildtime.sh' script has been updated to use the

                new support functions provided by the 'os-helpers-time' script.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#2048"
                connects-to: "#2048"
                Changelog-entry: "systemd/timeinit: improve RTC handling at boot"
                changelog-entry: "systemd/timeinit: improve RTC handling at boot"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "os-helpers: add support functions for system date/time"
              hash: 66d4d61b4e00f9da99de041d262a1f7b4bf70d37
              body: |
                Add helper functions for manipulating system date/time.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.62.0
          date: 2020-11-13T10:26:52.111Z
        - commits:
            - subject: "modemmanager: add u-blox-modeswitch scripts"
              hash: a30ab44f40f1c059e64075c567fc388800d960a4
              body: >
                Add the u-blox-modeswitch scripts to modemmanager. The scripts
                are

                generic and therefore it makes sense to provide them as part of

                meta-balena instead of balena-raspberrypi.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#510 (in balena-raspberrypi)"
                connects-to: "#510 (in balena-raspberrypi)"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.61.3
          date: 2020-11-05T17:05:16.519Z
        - commits:
            - subject: Check the API for configuration changes once a day
              hash: 19f6942a9864c6393a36af36aea21d685ddb9819
              body: ""
              footer:
                Connects-to: "#2018"
                connects-to: "#2018"
                Changelog-entry: Check the API for configuration changes once a day
                changelog-entry: Check the API for configuration changes once a day
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.61.2
          date: 2020-11-05T14:41:20.617Z
        - commits:
            - subject: Enable kernel user space probes support
              hash: 8af9bc8fbc58096d986d8db7df81a0c9505dc420
              body: >
                This is needed to make use of eBPF and all the debugging and
                extra

                features it brings.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Enable kernel user space probes support
                changelog-entry: Enable kernel user space probes support
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.61.1
          date: 2020-11-04T21:12:06.448Z
        - commits:
            - subject: Update balena-supervisor from v11.14.0 to v12.1.1
              hash: fd41103bc0538f53ac37bfb2ce6203f712090bc7
              body: |
                Update balena-supervisor from v11.14.0 to v12.1.1
              footer:
                Changelog-entry: Update balena-supervisor from v11.14.0 to v12.1.1
                changelog-entry: Update balena-supervisor from v11.14.0 to v12.1.1
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Use root mount point to find device-type.json
                      hash: 9d19a457017b1f696579f57569ec4cfadab3b385
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-12.1.1
                  date: 2020-10-28T13:03:20.901Z
                - commits:
                    - subject: Change log source from docker to journalctl
                      hash: 2c83864f22b01e7196f6ed321c96f6cb9f40593b
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Thomas Manning <thomasm@balena.io>
                        signed-off-by: Thomas Manning <thomasm@balena.io>
                      author: Thomas Manning
                      nested: []
                  version: balena-supervisor-12.1.0
                  date: 2020-10-28T06:12:20.363Z
                - commits:
                    - subject: Change source of deviceType to device-type.json
                      hash: f5183df35677f091f1374c3f6e86706b141471f3
                      body: |
                        The source of truth for the device-type should be
                        device-type.json instead of config.json
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: "#1472"
                        connects-to: "#1472"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.0.9
                  date: 2020-10-27T12:43:11.383Z
                - commits:
                    - subject: Fixed evaluating if updates are needed to reach target state
                      hash: 77333f1e110070f17f4bf95c1554075c94a35d63
                      body: ""
                      footer:
                        Closes: "#1476"
                        closes: "#1476"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.0.8
                  date: 2020-10-26T18:56:16.649Z
                - commits:
                    - subject: Improved log message when networks do not match
                      hash: edf23871d9a057b9bae8837f3ee39d7401247514
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.0.7
                  date: 2020-10-19T16:04:51.506Z
                - commits:
                    - subject: Fixes check allowing preloading in local (unmanaged) mode
                      hash: 0fd9b6376251c73f2adfd37ec80d2145178683d6
                      body: |
                        * adds apiEndpoint empty string check
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: ab77
                      nested: []
                    - subject: Handle delete of multiple images with same dockerImageId
                      hash: 4795c336d055862706be42ebb544caef93d55e35
                      body: >
                        A docker-compose.yml with the following structure


                        ```

                        version: '2.1'

                        services:
                          app_1:
                            build: ./noisy-1
                            image: noisy1
                          app_2:
                            build: ./noisy-1
                            image: noisy1
                          app_3:
                            build: ./noisy-1
                            image: noisy1
                        ```


                        Will lead to the supervisor creating multiple image database entries

                        with the same dockerId (this is because of how the engine handles this

                        particular case). This case is not handled by the removal process

                        leading to image pile up and increased disk usage.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: "#1434"
                        connects-to: "#1434"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.0.6
                  date: 2020-10-16T22:32:07.462Z
                - commits:
                    - subject: Improve calculation for used system memory
                      hash: dd5f62227a0b0d2024db924e7028c9fec8b2b1d9
                      body: >
                        The memory information reported by the supervisor
                        currently

                        estimates the value of used memory as `MemTotal - MemFree`.

                        However, linux systems will try to cache and buffer as much

                        memory as possible, which will affect the output of `MemFree`

                        (from /proc/meminfo) and in consequence the memory usage seen

                        by the user on the dashboard, which will appear much greater than

                        it is.


                        The correct calculation should be `MemTotal - MemFree - Buffers - Cached`,

                        which the calculation performed by `htop` and the `free` commands.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: "#1471"
                        connects-to: "#1471"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.0.5
                  date: 2020-10-14T16:19:41.551Z
                - commits:
                    - subject: Don't require an existing supervisor container to sync
                      hash: 629b410e10fb6590806d546ff94101951ec6c9a2
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-12.0.4
                  date: 2020-10-13T09:49:51.370Z
                - commits:
                    - subject: Refactor system information filtering
                      hash: a2ceb5c93189704beaf8b4f5c8b71c46d8e2a966
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                    - subject: "tests: Clean up and consistify naming scheme"
                      hash: 9e0c99e797fa379c66b7312b40a17d9d31f5ce79
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-12.0.3
                  date: 2020-10-12T14:46:39.730Z
                - commits:
                    - subject: Attempt a state report once every maxReportFrequency
                      hash: 0e3c0263922043b9d53a7eb3545622106f10100c
                      body: >
                        With the addition of the system information feature (CPU
                        temp) etc if

                        there wasn't any changes in the docker or config state of the device,

                        updates in system information would not be sent to the API. Now we

                        attempt to send data once every maxReportFrequency (although this does

                        not mean that we will be sending data that often, we still only send the

                        delta, if one exists)
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#1481"
                        closes: "#1481"
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                    - subject: Remove superfluous current state reporting code from api-binder
                      hash: 975129188a9fcb11a081f7ba75a1b8b973499a21
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-12.0.2
                  date: 2020-10-12T10:55:40.890Z
                - commits:
                    - subject: Add features label `io.balena.features.journal-logs`
                      hash: 1eeff698aca56558fa09832b9bcb02c99e275dbe
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Thomas Manning <thomasm@balena.io>
                        signed-off-by: Thomas Manning <thomasm@balena.io>
                      author: Thomas Manning
                      nested: []
                  version: balena-supervisor-12.0.1
                  date: 2020-10-12T05:41:14.895Z
                - commits:
                    - subject: "version: drop SUPERVISOR_VERSION env var"
                      hash: 8e65466f2d8540918b1fa8d8af88d0c21fcbf7f8
                      body: >
                        In order to make supervisor upgrades more transparent,
                        lets move away

                        from this env var since it requires a container restart any time the supervisor

                        is upgraded. We should ultimately move towards providing the supervisors

                        set of capabilities, but that can come later
                      footer:
                        Connects-to: "#1447"
                        connects-to: "#1447"
                        Change-type: major
                        change-type: major
                        Signed-off-by: Matthew McGinn <matthew@balena.io>
                        signed-off-by: Matthew McGinn <matthew@balena.io>
                      author: Matthew McGinn
                      nested: []
                  version: balena-supervisor-12.0.0
                  date: 2020-09-29T15:25:15.693Z
                - commits:
                    - subject: Fix supervisor deadlock during migration
                      hash: adffde932ec28b114a5821b9ae332a42bb330be2
                      body: >
                        Due to the singleton work, when performing migration
                        M00005 and there

                        are apps with services created in the database, a deadlock occurs

                        during database initialization due to a circular

                        dependency for generating scoped keys.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: "#1468"
                        connects-to: "#1468"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-11.14.8
                  date: 2020-09-29T03:00:51.902Z
                - commits:
                    - subject: Correctly evaluate if scheduledApply.delay is not set
                      hash: 90981a00bed100e1496dc71bf0631bc0ab04ffa7
                      body: ""
                      footer:
                        Closes: "#1428"
                        closes: "#1428"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.14.7
                  date: 2020-09-25T17:16:42.247Z
                - commits:
                    - subject: Fix config checks for ConfigFS backend
                      hash: a5f3002e708c949b6de3c8ba495b2a89c13214fc
                      body: >
                        When trying to apply SSDT overlays in Up Board, the
                        supervisor currently

                        gets stuck in a loop trying to apply target state. See #1465


                        This was due to a bug in parsing the configuration, which lead to

                        the method bootConfigChangeRequired returning true when no change was

                        needed.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: "#1465"
                        connects-to: "#1465"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-11.14.6
                  date: 2020-09-24T19:51:09.936Z
                - commits:
                    - subject: "mixpanel: superisor_version -> supervisor_version"
                      hash: eebadebb53af68d9b63c948e59c1c78fb38302aa
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Matthew McGinn <matthew@balena.io>
                        signed-off-by: Matthew McGinn <matthew@balena.io>
                      author: Matthew McGinn
                      nested: []
                  version: balena-supervisor-11.14.5
                  date: 2020-09-24T14:47:47.663Z
                - commits:
                    - subject: "api: Implement scoped Supervisor API keys"
                      hash: c08de8701e49f417d2fc5849d237b9ed69b438e2
                      body: >
                        Each service, when requesting access to the Supervisor
                        API, will

                        now get an individual key which can be scoped to specific resources.

                        In this iteration the default scope will be to the application that

                        the service belongs to.


                        We also have a `global` scope which is used by the cloud API when in

                        managed mode.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.14.4
                  date: 2020-09-18T13:02:39.469Z
                - commits:
                    - subject: Clarify docs for toggling update lock override from dashboard
                      hash: 1b51db06c118ab4c60296f394e854436584c6437
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: M. Casqueira
                      nested: []
                  version: balena-supervisor-11.14.3
                  date: 2020-09-17T22:25:21.020Z
                - commits:
                    - subject: Refactor extra_uEnv backend to match with more devices
                      hash: 07e644d0b69f412fb14aeaba17914b9eacd6477f
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.14.2
                  date: 2020-09-15T18:25:31.240Z
                - commits:
                    - subject: "application-manager: Convert to a singleton"
                      hash: 96c68166a1e1d9b400fca84d33910d526009ecfd
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Rich Bayliss
                      nested: []
                    - subject: "device-state: Convert to a singleton"
                      hash: e3864915bcf3b8c2865f3c14d2ad85023218db3c
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Rich Bayliss
                      nested: []
                    - subject: "api-binder: Convert to a singleton"
                      hash: d50f7791e1f89750a35791c1ea3bd4a7472da9a1
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.14.1
                  date: 2020-09-14T10:26:09.557Z
          version: meta-balena-2.61.0
          date: 2020-11-04T13:01:10.938Z
    - subject: Update balena-yocto-scripts from v1.8.0 to v1.11.0
      hash: 83c2cc013f13af4718d461490f001255b71d06db
      body: |
        Update balena-yocto-scripts from 1.8.0 to 1.11.0
      footer:
        Changelog-entry: Update balena-yocto-scripts from v1.8.0 to v1.11.0
        changelog-entry: Update balena-yocto-scripts from v1.8.0 to v1.11.0
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.72.0+rev1
  date: 2021-03-11T13:06:00.156Z
- commits:
    - subject: Update meta-balena from v2.53.9 to v2.60.1
      hash: 7ffeb6a800c11bd35150512c13696e56cacfdaa2
      body: |
        Update meta-balena from 2.53.9 to 2.60.1
      footer:
        Changelog-entry: Update meta-balena from v2.53.9 to v2.60.1
        changelog-entry: Update meta-balena from v2.53.9 to v2.60.1
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: "chrony: set the source UDP port for NTP requests to 123"
              hash: 6b95bd55f12054d996a412e7a6bc202e518b4e29
              body: >
                By default chrony uses a random UDP source port for each NTP
                request.

                This can cause problems with particular routers/firewalls (issues have

                been reported for the Phicomm KE 2P).


                The chrony `acquisitionport` configuration setting has been added

                to the chrony.conf file to change the UDP source port for NTP requests

                to 123 (this is the same as the default source port used by both

                ntpdate and ntpd).
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#2000"
                connects-to: "#2000"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.60.1
          date: 2020-10-30T11:34:35.642Z
        - commits:
            - subject: "chrony: don't restore time from drift file or RTC"
              hash: 5a4842786f365c9d167f29fd310427b4f0bb61b6
              body: >
                Drop the '-s' command line parameter from chronyd as:

                a) restoring time from the drift file is no longer necessary due to

                the fake-hwclock service, and

                b) restoring time from the RTC is already covered by the timeinit-rtc

                service.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "systemd/timeinit: add fake.hwclock to maintain system time over
                reboots"
              hash: 96c2c495819ba6175261a5179e1cdb4673552e6c
              body: >
                In order to produce sensible timestamps for journald log
                messages:

                a) the system time needs to be maintained correctly over a reboot, and

                b) the system time needs to be set before journald is started.


                Currently the system time is maintained over reboots on systems

                without an RTC using the last modified time of the chrony drift file.

                However there are a couple of issues with this approach:


                a) /var/lib/chrony/ is not mounted early enough in the boot process

                to be available for setting the time before journald is started.

                b) there is an issue with the current systemd dependencies that result

                in the last modified time of the drift file not being updated when the

                system is shutdown or rebooted (see #1995).


                The Debian fake-hwclock service (as used by Raspberry Pi OS) has been

                added to overcome these issues.


                The fake-hwclock service will save and restore the system time from

                the fake-hwclock.data file (in /etc/fake-hwclock/). The system time

                is loaded from this file at boot and saved to it on shutdown. An

                additional timer service has been added to update the file on an

                hourly basis to cater for unexpected shutdown scenarios, e.g. power

                failure.


                The timeinit-timestamp service has improved logging and has been

                renamed to timeinit-buildtime for clarity.


                A new time-set.target has been added as per upstream systemd and

                the fake-hwclock and timeinit-buildtime services have been added

                to it.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: "#1367 #1919"
                connects-to: "#1367 #1919"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: "resin-mounts: add bind mount service for /etc/fake-hwclock"
              hash: 394aa52f77ec222e6fda856a92cd499bd464fa07
              body: >
                Add a persistent r/w location (root-overlay/etc/fake-hwclock/)
                to

                the resin-state partition for storage of the fake-hwclock.data file.

                This file is used by the fake-hwclock service to load the system

                time at boot and save the system time on shutdown.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.60.0
          date: 2020-10-29T14:25:50.275Z
        - commits:
            - subject: Add host extensions support
              hash: 1d33429f0bc925bc97b4b7820aeb812eac9098d2
              body: >
                Add a new section that described the host extensions
                functionality.


                Fixes #1984
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add host extensions support
                changelog-entry: Add host extensions support
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "packagegroup-resin: Add hostapp extensions update script"
              hash: a03e5c9eed5105c5af85c79df29546ec641d873c
              body: >
                This commit adds the update-hostapp-extensions utility. It can
                be run

                with:

                 systemd-run update-hostapp-extensions -r
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "hostapp-extensions-update: Add host extensions update script"
              hash: 0fe293eb118913e667b52b2f6df032227719efc8
              body: >
                This script triggers an installation or update of the hostapp
                extensions

                in the system.


                The list of hostapp extensions to install can either be passed to the

                script or it will use the ones set in config.json or hostapp-extensions.conf

                in that order.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-vars: Parse the HOSTEXT_IMAGES variable from config.json"
              hash: 761f517f955f829e12b2c7f0a0f88830ded39e13
              body: >
                This variable allows the hostapp extensions updater script to
                update the

                hostapp extensions in the system.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "docker-disk: Add the host extension images to the data partition"
              hash: cd44a94cf1646828832070417a2deb9236b0f5ee
              body: >
                Host extension images contain extra content that is overlayed
                over the

                root filesystem at boot.


                This commits adds the default host extensions to the data partition

                image, stores their repository tags in the /etc directory, and creates

                the containers so that mobynit can mount the container filesystems on

                boot.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "docker-disk: Generalize hostapp platform variable"
              hash: 416544bd9c7b7e9080857dc0258668f388a55aa7
              body: >
                Rename HELLO_PLATFORM to HOSTAPP_PLATFORM so it can be used with
                any

                app type.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "initrdscripts: Busybox switch_root does not support -c argument"
              hash: a62a8189825de9dbcf52dbb3116d213fc7ceb84f
              body: >
                Calling busybox switch_root in this way has always been
                complaining but

                the error log did not get to the console.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-filesystem-expand: Omit fs check and resize if partition is
                mounted"
              hash: d70fbd050e5a1f7c695782b99187d583103111e0
              body: >
                Now that the data partition will be mounted from the initramfs
                for host

                extensions support, this script will only run if something went wrong.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "initrdscripts: Expand the resin-data filesystem"
              hash: 00cad826c157ac2d5c13137fb1023f1eb7570c58
              body: >
                As the resin-data partition will be mounted in the initramfs,
                its

                filesystem needs to be expanded before that.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "initrdscripts: Add resin-data to fs UUID generation"
              hash: d2794dd2d559ca0c55a4cbab9ae5ef3c01ebdcf3
              body: >
                The resin-data partition will be mounted in the initramfs for
                the host

                extension support so the UUID generation needs to happen before that.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-data.mount: Remove default dependencies"
              hash: dc6cfa2e90b29b0fdcfc05c1b85e2196de4f950b
              body: >
                With the data partition being mounted in the initramfs to
                support host

                extensions, the runtime systemd-udev no longer sees the resin-data mount

                event and this mount is blocked.


                This is resolved by not adding the default dependency on the block device.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "packagegroup-resin: Add independent mobynit package to image"
              hash: 08e15adb2f21c330b9c92cef527e23770a6fe521
              body: |
                The mobynit tool also needs to be in resin-image.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-engine: Do not build mobynit"
              hash: 29844ed3bd936c581e20b72df133a2b6ed498512
              body: |
                The mobynit package has now been moved to an independent recipe.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "mobynit: Fix source directory"
              hash: e6dc1b20c45ffdbcc33f82b2ef78f46715317b06
              body: |
                The Go class in mobynit predates Go modules support.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "mobynit: Separate recipe from balena-engine"
              hash: 6be3f1153d56c1c0c21e6d84db7be70be96bcd10
              body: >
                This commit adds a new recipe to build mobynit independently
                from balena-engine.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.59.0
          date: 2020-10-27T12:04:22.881Z
        - commits:
            - subject: "readme: DCHP -> DHCP"
              hash: 9694909d8eb0dea7f775eeb5a92546f00b381909
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.58.6
          date: 2020-10-15T13:43:08.320Z
        - commits:
            - subject: "bootfiles: blacklist proper grub configuration backend"
              hash: 1362d9916b0b7b414b9d920296021379e34f00be
              body: ""
              footer:
                Connects-to: "#2022"
                connects-to: "#2022"
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.58.5
          date: 2020-10-13T14:20:39.972Z
        - commits:
            - subject: "docker-disk: Allow expanding data filesystem on 2TB disks"
              hash: 62b3763b44dcd9397f964d0812b7292885b04f66
              body: |
                Switch to 4k block size for the resin-data filesystem
                so it can be expanded to sizes greater than 1023GiB.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.58.4
          date: 2020-10-05T12:38:50.221Z
        - commits:
            - subject: Blacklist supervisor configuration backend files during HUP
              hash: 43a14fef9875f0d0afc23a833cc8e9dc4ae80536
              body: >
                The hostapp update process should not overwrite the supervisor
                configuration

                backend files to avoid the supervisor being forced to set the target state

                after HUP and reboot the device during the rollback period.


                This only applies to the host configuration files which are the only ones

                that force a reboot.
              footer:
                Connects-to: https://github.com/balena-io/balena-supervisor/issues/1464
                connects-to: https://github.com/balena-io/balena-supervisor/issues/1464
                Change-type: patch
                change-type: patch
                Changelog-entry: Blacklist supervisor configuration backend files during HUP
                changelog-entry: Blacklist supervisor configuration backend files during HUP
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.58.3
          date: 2020-09-18T10:34:55.646Z
        - commits:
            - subject: "hooks: fix up improperly named variable"
              hash: 2b42bc65dfc32817015d532c0a05d28670956bb7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.58.2
          date: 2020-09-17T22:33:04.792Z
        - commits:
            - subject: Wait for the root device to come up when necessary
              hash: 494eeb4a699b4dd5e48547d6e5e45cffb7bf0720
              body: >
                If the rootfs is on a slow-to-bring-up device (e.g. RPi4 + USB)

                the fsuuidsinit_enabled() function may return before the balena symlinks

                are created. This gets wrongly interpreted as missing UUIDs leading to

                a chain of failures in the subsequent scripts.

                This patch moves the symlink waiting loop from fsuuidsinit_run()

                to fsuuids_enabled() before the first usage of the symlink.
              footer:
                Changelog-Entry: Wait for the root device to come up when necessary
                changelog-entry: Wait for the root device to come up when necessary
                Change-Type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.58.1
          date: 2020-09-15T18:24:58.280Z
        - commits:
            - subject: Respect balenaRootCA system-wide
              hash: 2218cb21d1fc813ac59c08b77046c5d014ad9a42
              body: >
                We allow the user to specify a custom CA in the .balenaRootCA
                key

                of config.json but at this moment each tool has to implement support

                if it wants to use it. This commit adds it to the system-wide CA bundle

                so that the CA is respected everywhere.


                Fixes #1398
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.58.0
          date: 2020-09-05T06:47:40.132Z
        - commits:
            - subject: "os-helpers-logging: Log to stderr rather than stdout"
              hash: 94c60a30c6147838f4a91449f3960025625ce709
              body: |
                This is where the logs and error messages should go by default
                as they are not part of the tool's output.
              footer:
                Change-Type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.57.1
          date: 2020-09-04T17:13:50.058Z
        - commits:
            - subject: Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to 1.14.2
              hash: 1c80d6cc69d687fab6f2385efca5d6564c28370d
              body: |
                Update libmbim from 1.22.0 to 1.24.2
                Update libqmi from 1.24.10 to 1.26.0
                Update modemmanager from 1.12.8 to 1.14.2
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to
                  1.14.2
                changelog-entry: Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to
                  1.14.2
                Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
                signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
              author: Vicentiu Galanopulo
              nested: []
          version: meta-balena-2.57.0
          date: 2020-09-04T13:54:00.370Z
        - commits:
            - subject: Update balena-supervisor from v11.13.0 to v11.14.0
              hash: afdfc4ec7d46f74bc2b104a6d899a6587b3596cc
              body: |
                Update balena-supervisor from v11.13.0 to v11.14.0
              footer:
                Changelog-entry: Update balena-supervisor from v11.13.0 to v11.14.0
                changelog-entry: Update balena-supervisor from v11.13.0 to v11.14.0
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Add device system information to state endpoint patch
                      hash: f305a333ba70e90d098decdf81c220bfcbeec899
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.14.0
                  date: 2020-09-03T13:43:00.299Z
          version: meta-balena-2.56.0
          date: 2020-09-03T14:43:29.913Z
        - commits:
            - subject: Update balena-supervisor from v11.12.4 to v11.13.0
              hash: e8fb036f3ce51f29dbda1d969bb41e505a22f389
              body: |
                Update balena-supervisor from v11.12.4 to v11.13.0
              footer:
                Changelog-entry: Update balena-supervisor from v11.12.4 to v11.13.0
                changelog-entry: Update balena-supervisor from v11.12.4 to v11.13.0
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: added support for configuring ODMDATA
                      hash: 662826d3495f551a5451395d0eb6660bfb65b599
                      body: ""
                      footer:
                        Closes: "1206"
                        closes: "1206"
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.13.0
                  date: 2020-08-29T13:07:31.541Z
                - commits:
                    - subject: "bug: Resolve mDNS API URLs"
                      hash: f0c2a3cba7a6879a506d9151c7c0d9ea89544dae
                      body: |
                        Due to switching to Alpine the ability to resolve mDNS
                        hostnames was lost. This patch overrides the lookup and
                        manually resolves the names.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.12.11
                  date: 2020-08-27T10:36:31.040Z
                - commits:
                    - subject: Preventing removing all configurations if device has no backends
                      hash: 7ea49bf4fb317346badf141e6eea8910e599c837
                      body: ""
                      footer:
                        Closes: "#1437"
                        closes: "#1437"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.12.10
                  date: 2020-08-24T17:43:41.125Z
                - commits:
                    - subject: Don't enforce the vc4-fkms-v3d dtoverlay on rpi4
                      hash: de4c1b25385630b6f9fadb7a362d5556c2cc5008
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#1404"
                        closes: "#1404"
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.12.9
                  date: 2020-08-20T09:24:11.110Z
                - commits:
                    - subject: Update dependencies
                      hash: ea34a2d10a3acd19cfefe4c847eb96579315429a
                      body: |
                        Update docker-delta from 2.2.9 to 2.2.11
                        Update docker-progress from 3.0.5 to 4.0.3
                        Update docker-toolbelt from 3.3.8 to 3.3.10
                        Update livepush from 3.3.0 to 3.5.1
                        Update resin-docker-build from 1.1.4 to 1.1.6
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: b0f552f9a21d350cb9fdca77d4f7c309f88bf68b
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: node-docker-delta-2.2.11
                          date: 2020-08-19T11:52:46.348Z
                        - commits:
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: patch
                              hash: 70b5359fedc100907c0086f7d25b7ad19cc210ad
                              subject: Removed unused dependencies
                            - author: Pagan Gazzard
                              body: ""
                              hash: 8670e850ba5d97fbaecc938fc2060ea3b4f157ed
                              subject: "circleci: update docker"
                          date: 2020-08-05T15:20:21Z
                          version: node-docker-delta-2.2.10
                        - commits:
                            - subject: Update to balena-lint 5.x
                              hash: 9563bf5150c39c6d6f298a9ed24f7969650273f7
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: docker-progress-4.0.3
                          date: 2020-08-17T12:03:45.249Z
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: 2cec0f2ef1eb24797b650024873c91c942e74017
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: docker-progress-4.0.2
                          date: 2020-08-17T11:47:14.543Z
                        - commits:
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: patch
                              hash: 9bb049ea3be13fb1362e39b057f78b19d8e3153d
                              subject: Update dependencies
                          date: 2020-03-04T14:17:04Z
                          version: docker-progress-4.0.1
                        - commits:
                            - author: Paulo Castro
                              body: >-
                                The change type is considered 'major' because,
                                by default, errors are

                                now thrown for relatively common occurrences such as authentication

                                failures when pulling from private registries, and library users may

                                have to adapt.
                              footers:
                                change-type: major
                                signed-off-by: Paulo Castro <paulo@balena.io>
                              hash: 3eef3685262e6bae8de064b9c50129e5597f4318
                              subject: Detect error events in push/pull progress streams
                          date: 2019-03-26T16:03:31Z
                          version: docker-progress-4.0.0
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: ccd1e99c5501257f1304f4cb68dd02383411e0b8
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: docker-toolbelt-3.3.10
                          date: 2020-08-19T12:10:49.102Z
                        - commits:
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: patch
                              hash: e89aedf563c4158894265c885cb86a834b5c9c7f
                              subject: Update to balena-lint 5.x
                          date: 2020-08-17T12:49:42Z
                          version: docker-toolbelt-3.3.9
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: 580a4229374fc96fc3f7aeb80e6b5a09aa958d7f
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: livepush-3.5.1
                          date: 2020-08-19T12:27:19.448Z
                        - commits:
                            - author: Roman Mazur
                              body: ""
                              footers:
                                change-type: minor
                                signed-off-by: Roman Mazur <roman@balena.io>
                              hash: c180b489f3a537468f3347398824ca285354caaa
                              subject: Allow setting ENV variables in the live image
                            - author: Roman Mazur
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Roman Mazur <roman@balena.io>
                              hash: 7a053dd801ee5bdc8e5b0792044be611d8981a58
                              subject: Bump dockerode types dependency
                          date: 2020-07-13T11:46:04Z
                          version: livepush-3.5.0
                        - commits:
                            - author: Cameron Diver
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Cameron Diver <cameron@balena.io>
                              hash: 68ebf4a50acb2b451770f79a44e256dc14adbde0
                              subject: Update README with information about live directives
                          date: 2020-05-05T10:39:11Z
                          version: livepush-3.4.1
                        - commits:
                            - author: Cameron Diver
                              body: ""
                              footers:
                                change-type: minor
                                closes: "#76"
                                signed-off-by: Cameron Diver <cameron@balena.io>
                              hash: f4caa2052af2a820f8bf86d202b21b2fe6680af9
                              subject: 🔭 Add a file watcher which can be used by library users
                          date: 2020-04-15T10:50:17Z
                          version: livepush-3.4.0
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: 139561ad61ca4f0e2a6203fe3c5f3345ba32cf83
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: resin-docker-build-1.1.6
                          date: 2020-08-19T12:14:05.986Z
                        - commits:
                            - author: CameronDiver
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Cameron Diver <cameron@balena.io>
                              hash: 0e84ec3d48268c0ae1a2390a2dad2cf8ec9e0eec
                              subject: Update README with correct instantiation method
                          date: 2020-04-02T16:54:05Z
                          version: resin-docker-build-1.1.5
                  version: balena-supervisor-11.12.8
                  date: 2020-08-19T12:38:52.114Z
                - commits:
                    - subject: Update typed-error to 3.x
                      hash: 379730a9e1d6530ea8bc13715a46fe895b0d4ec8
                      body: |
                        Update typed-error from 2.0.0 to 3.2.1
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Update dependencies
                              hash: dc41949015399154efb4529183daa0dfc9269b52
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: typed-error-3.2.1
                          date: 2020-08-05T12:34:06.377Z
                        - commits:
                            - subject: update deps and specify minimum engine requirements
                              hash: 22f293afc187e67b88dab280951eb6e2bb504b24
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                          version: typed-error-3.2.0
                          date: 2019-11-20T09:52:39.017Z
                        - commits:
                            - subject: "dev: Enforce prettier coding standards"
                              hash: 47c07a641fa39ddb833b41aff7a918accad08289
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                            - subject: "npm: Update dependencies and remove `package-lock.json`"
                              hash: 067bceb5c8dfd46f7e4ff0f58dead46fd9626167
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                            - subject: "codeowners: Add top contributors @wrboyce, @Page-, and @dfunckt"
                              hash: 6acc8757a594f74f264c8d68ea4501c61bda9951
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                            - subject: "versionbot: Add CHANGELOG.yml (for nested changelogs)"
                              hash: 2b684a0bb0c95a5dbd3b130ba0f184d3464d298f
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                          version: typed-error-3.1.0
                          date: 2019-04-01T10:20:01.427Z
                        - commits:
                            - author: CameronDiver
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Cameron Diver <cameron@balena.io>
                              hash: aaa9391dc463c1037f85e845d30f6f9434bb4dc1
                              subject: Update README with new import style
                          date: 2018-11-01T12:08:25Z
                          version: typed-error-3.0.2
                        - commits:
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: patch
                              hash: 627cdd281d7b086df8fe5ed1ccb0e0e0df3df062
                              subject: Update to typescript 3
                            - author: Pagan Gazzard
                              body: ""
                              footers:
                                change-type: patch
                              hash: 00d182bb2bc29bd82adb4e8ea4527f6bda6c5278
                              subject: Update dev dependencies
                            - author: Pagan Gazzard
                              body: ""
                              hash: 94adac5d747f16b9228b39e56007ee0126c6f99c
                              subject: Add node-10 to the circle test suite
                          date: 2018-10-29T14:05:23Z
                          version: typed-error-3.0.1
                        - commits:
                            - author: Will Boyce
                              body: >-
                                * Switch to `export ...` syntax (from `export =
                                ...`)

                                * Fix invalid export of class inheriting non-exported class
                              footers:
                                change-type: major
                              hash: a6307b8c04d3456ad7d8a6ac19035b5e718c4311
                              subject: Distribute generated typescript declaration
                            - author: Will Boyce
                              body: ""
                              footers:
                                change-type: patch
                              hash: 37c4b700baadba8cdd6bc0c40df74b30b1a6301c
                              subject: use circle for build/publish and add package-lock
                            - author: Will Boyce
                              body: ""
                              footers:
                                change-type: patch
                              hash: 83e809281f5172ca1ff71bdf0ee663cd504f1428
                              subject: add lint scripts/requirements
                            - author: Will Boyce
                              body: ""
                              footers:
                                change-type: minor
                              hash: da9431d08e501a0d4d0db3a7fb2c0bd06d76d064
                              subject: Remove `BaseError` class and  directly subclass `Error`
                            - author: Will Boyce
                              body: ""
                              footers:
                                change-type: patch
                              hash: e46a36b54498b68f513c6cb947e217c11525e160
                              subject: Update dependencies, clean up package/tsconfig
                          date: 2018-04-17T08:19:27Z
                          version: typed-error-3.0.0
                        - commits:
                            - author: Akis Kesoglou
                              body: ""
                              footers:
                                change-type: patch
                              hash: d35c44f1e57f6386c6f769f8cafc28e0886719cc
                              subject: Add LICENSE
                          date: 2017-12-15T17:19:00Z
                          version: typed-error-2.0.1
                  version: balena-supervisor-11.12.7
                  date: 2020-08-19T09:09:56.021Z
                - commits:
                    - subject: Update pinejs-client-request to 7.2.1
                      hash: 90fab43022c91bce7cea5ce6cd3b4440a6f707a0
                      body: |
                        Update pinejs-client-request from 7.1.0 to 7.2.1
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Update dependencies
                              hash: f4502c9364bb5dd3ac4cb7242b8d08dca047b8ee
                              body: |
                                Update pinejs-client-core from 6.6.1 to 6.7.1
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Fix prepare $count typings
                                      hash: fe63b2ba648b0ef545afe9fd18d433faca4af6a2
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.7.1
                                  date: 2020-08-12T14:30:20.061Z
                                - commits:
                                    - subject: Improve typings for request/post/put/patch/delete
                                      hash: 32c0d5b40c14e44155391099a9051255c38b1c05
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.7.0
                                  date: 2020-08-12T13:42:49.438Z
                          version: pinejs-client-request-7.2.1
                          date: 2020-08-18T17:01:01.637Z
                        - commits:
                            - subject: Update pinejs-client-core to 6.6.1
                              hash: 8b45f326d07939279b5c4271c74579cdf5da3bb3
                              body: |
                                Update pinejs-client-core from 6.1.0 to 6.6.1
                                Update typed-error from 3.2.0 to 3.2.1
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Update dependencies
                                      hash: dc41949015399154efb4529183daa0dfc9269b52
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: typed-error-3.2.1
                                  date: 2020-08-05T12:34:06.377Z
                                - commits:
                                    - subject: Fix typing when id is specified to be `AnyObject | undefined`
                                      hash: c4802cb748b1552345f036120c3aa6254e6cc946
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.6.1
                                  date: 2020-08-11T17:10:09.498Z
                                - commits:
                                    - subject: "Deprecate `$expand: { 'a/$count': {...} }`"
                                      hash: 8be33ad064905476e3f21978b7e1d760f5e27f4e
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                    - subject: "Deprecate `resource: 'a/$count'` and update typings to reflect it"
                                      hash: 779cc424cb6d2562aa9a98a3ff083b68308d9797
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.6.0
                                  date: 2020-08-11T16:18:59.088Z
                                - commits:
                                    - subject: "Add `options: { $count: { ... } }` sugar for top level $count"
                                      hash: 13072f715da6c0ca3eab08584eaa48f39ea985b2
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                    - subject: "Add `$expand: { a: { $count: { ... } } }` sugar for $count in expands"
                                      hash: b2afb397c09a31c9ab3c1c370846c1b8762db32d
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.5.0
                                  date: 2020-08-11T10:25:19.860Z
                                - commits:
                                    - subject: Improve return typing of `subscribe` method
                                      hash: 2311fe03b04f4e6149693a9e5c392f9f0bb2a549
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.4.0
                                  date: 2020-08-11T10:16:40.301Z
                                - commits:
                                    - subject: Fix Poll.on typings
                                      hash: 315697d9c2c0e59652bcceddb7f36cb498269f64
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                    - subject: Improve return typing when id is passed to GET methods
                                      hash: 2d174f758314a20c01a171ac5826b71e4f623dcc
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                    - subject: Remove `PromiseResult` type, use `Promise<PromiseResultTypes>` instead
                                      hash: 905f275731af6ce2560c37f41343052f05365cd1
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                    - subject: Remove `PromiseObj` type, use `Promise<{}>` instead
                                      hash: 78aa2410aa86bf73cc4831f2149fc85e28a6ea23
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.3.0
                                  date: 2020-08-11T08:57:09.655Z
                                - commits:
                                    - subject: "Add `$filter: { a: { $count: 1 } }` sugar for $count in filters"
                                      hash: f2fef3833f321bf81543c62a9a3db09d7fbc0a4a
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.2.0
                                  date: 2020-08-10T16:44:49.238Z
                                - commits:
                                    - subject: Remove redundant ParamsObj/SubscribeParamsObj types
                                      hash: f5fc6762aa8f1918424fb5e1c1a05435f07af285
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.1.2
                                  date: 2020-08-10T16:32:09.666Z
                                - commits:
                                    - subject: Make use of `mapObj` helper in more places
                                      hash: 2189f9918cb515071d2f6ecb941b0d838ee6c5ea
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                    - subject: Use `Object.keys` in preference to `hasOwnProperty` where applicable
                                      hash: 2ea0e9549974150ef9e7f82206f25000407e37ba
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.1.1
                                  date: 2020-08-10T15:42:09.364Z
                          version: pinejs-client-request-7.2.0
                          date: 2020-08-12T07:00:59.754Z
                  version: balena-supervisor-11.12.6
                  date: 2020-08-18T17:30:40.807Z
                - commits:
                    - subject: Refactor configurable backend class names
                      hash: ff404456b3c3edaf33fe2199387db47d9be03503
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.12.5
                  date: 2020-08-12T19:06:59.672Z
          version: meta-balena-2.55.0
          date: 2020-09-03T09:07:51.151Z
        - commits:
            - subject: Pack /lib/vdso/Makefile in kernel-modules-headers
              hash: 37ce34cbb4d1ddb8af5a0eafb40fc16436b6e2b8
              body: >
                For the updated 5.4 kernel on RPI4, kernel-headers-test fails
                with

                arch/arm64/kernel/vdso/Makefile lib/vdso/Makefile No such file or directory

                make[1] *** No rule to make target 'lib/vdso/Makefile'.  Stop.

                make *** [vdso_prepare] Error 2


                when doing modules_pepare in the docker build


                This patch adds /lib/vdso/Makefile to kernel-modules-headers

                compressed archive
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Pack /lib/vdso/Makefile in kernel-modules-headers
                changelog-entry: Pack /lib/vdso/Makefile in kernel-modules-headers
                Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
                signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
              author: Vicentiu Galanopulo
              nested: []
          version: meta-balena-2.54.3
          date: 2020-08-25T11:58:10.547Z
        - commits:
            - subject: "balena-supervisor: Update to v11.12.4"
              hash: 99d9a4df967535d77f3918d696845ade57aa198e
              body: |
                Update balena-supervisor from v11.12.2 to v11.12.4
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: next
                backport-to: next
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested:
                - commits:
                    - subject: "bug: Firewall not blocking supervisor access from outside the device"
                      hash: 5aecd94e243ee55cffbb9aa47e7adfc437401de3
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.12.4
                  date: 2020-08-12T12:45:26.689Z
                - commits:
                    - subject: "bug: Allow DNS through firewall for local containers"
                      hash: e9b536a889542588e2f79247ed7937c709fdf3d2
                      body: >
                        We provide a local DNS server for containers to use and
                        this

                        was not allowed through the firewall when enabled.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.12.3
                  date: 2020-08-11T14:19:40.945Z
          version: meta-balena-2.54.2
          date: 2020-08-12T17:01:50.068Z
        - commits:
            - subject: Package iwlwifi-cc-a0-48 firmware separately
              hash: 6d92504349952a0bafc13afc1631c09dadf4d257
              body: |
                We add this fw on its own package so that boards can add it to
                rootfs (for Microsoft Surface Go 2 more specifically)
              footer:
                Changelog-entry: Package iwlwifi-cc-a0-48 firmware separately
                changelog-entry: Package iwlwifi-cc-a0-48 firmware separately
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.54.1
          date: 2020-08-07T07:33:15.659Z
        - commits:
            - subject: Update balena-supervisor from v11.9.9 to v11.12.2
              hash: 9772bf13f7f1a07946138eb713d23b245ffb6dd0
              body: |
                Update balena-supervisor from v11.9.9 to v11.12.2
              footer:
                Changelog-entry: Update balena-supervisor from v11.9.9 to v11.12.2
                changelog-entry: Update balena-supervisor from v11.9.9 to v11.12.2
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Fix device-tag fetching function
                      hash: aa823c1cfca7a026b1c4cf3580e690625fee0d58
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.12.2
                  date: 2020-08-05T12:33:50.608Z
                - commits:
                    - subject: Update resumable-request
                      hash: abf5cac4a3d784a6ad1f545f14b15b5149f13afa
                      body: |
                        Update resumable-request from 2.0.0 to 2.0.1
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: e11bf1fd3f505a83eb1c0bd872d3a90ee1ba4137
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Optimize lodash dependency
                              hash: 40146b216300b0b16f7004e8266d16696928ea14
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: resumable-request-2.0.1
                          date: 2020-08-05T09:48:49.433Z
                  version: balena-supervisor-11.12.1
                  date: 2020-08-05T11:28:50.822Z
                - commits:
                    - subject: Update contrato to 0.5
                      hash: 17c370863cca6bf5ddfaceffdbae96b92db24bbc
                      body: |
                        Update contrato from 0.2.1 to 0.5.0
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Remove handlebars-helpers to shrink bundle size
                              hash: 1305553f48747e0e450c89254790e67674c252b7
                              body: >
                                We can re-add specific helpers as necessary
                                without needing to bloat

                                with the entirety of the helpers package
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                              nested: []
                          version: contrato-0.5.0
                          date: 2020-08-05T08:38:30.030Z
                        - commits:
                            - subject: Update skhema to 5.x
                              hash: 1eb7058e8e34d708c03c5270e849aff4576773e7
                              body: |
                                Update skhema from 2.3.0 to 5.3.2
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Switch to typed-error
                                      hash: 234c6da3d4b2ca6784d7714a7b7d46813b43310a
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: skhema-5.3.2
                                  date: 2020-08-04T21:33:19.366Z
                                - commits:
                                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                                      hash: 7c61cf2f1e120944c3aef29dfe208f2e37139a6a
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: skhema-5.3.1
                                  date: 2020-08-04T21:07:49.365Z
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ""
                                      footers:
                                        change-type: minor
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 7e3fd20fb84d71c67e2f11206c4cf60b4b2866c1
                                      subject: "filter: Throw a custom error if the schema is invalid"
                                  date: 2020-05-05T15:22:49Z
                                  version: skhema-5.3.0
                                - commits:
                                    - author: StefKors
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Stef Kors <stef@balena.io>
                                      hash: e90802b28b908dfcd4c54e432e72cd36ba390b09
                                      subject: Add test to show .filter() not working correctly
                                    - author: StefKors
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Stef Kors <stef@balena.io>
                                      hash: 4ff1988ca8c78192ad0f92afb7f2bb3d2679fdd2
                                      subject: When combining with baseSchema merge enum with AND operator
                                  date: 2019-12-12T11:38:32Z
                                  version: skhema-5.2.9
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 2f8725cde8fc23de39346860a4fc283ada408eab
                                      subject: Ensure values in "enum" are unique
                                  date: 2019-11-27T20:30:03Z
                                  version: skhema-5.2.8
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 5afd0f25d791fe1f0d85957369a46292212de79e
                                      subject: 'filter: Correctly handle "enum" inside "anyOf"'
                                  date: 2019-11-27T19:34:08Z
                                  version: skhema-5.2.7
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 0bb8c525b58dc358b80ddd7a2ed53dc95fe662ae
                                      subject: "merge: Be explicit about additionalProperties"
                                  date: 2019-11-19T09:19:11Z
                                  version: skhema-5.2.6
                                - commits:
                                    - author: Lucian
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 864db6644a2cddfada888c3cb979498b2107eabe
                                      subject: Add a resolver for the const keyword
                                  date: 2019-05-09T15:49:10Z
                                  version: skhema-5.2.5
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: >-
                                        This is very similar to the cache class
                                        they use by default, with the

                                        difference that it has a limit and won't grow indefinitely, causing

                                        memory leaks on long running applications like Jellyfish.
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 8dcdde578bdae9dad5786270b451bd45a7204115
                                      subject: Configure AJV instances with an LRU cache
                                  date: 2019-04-15T15:32:41Z
                                  version: skhema-5.2.4
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: So we don't leak `SchemaObject` in the AJV `_refs` object.
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: f55993458fe587fa2884f116506bd27cb2aa3e87
                                      subject: Set addUsedSchema to false in all AJV instances
                                  date: 2019-04-15T15:15:23Z
                                  version: skhema-5.2.3
                                - commits:
                                    - author: Lucian
                                      body: "Fixes #43"
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 90dd1490303d06c0e44be715464ddc4f598f4adb
                                      subject: Fix bug in scoreMatch when handling arrays
                                  date: 2019-03-20T10:24:26Z
                                  version: skhema-5.2.2
                                - commits:
                                    - author: Lucian
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 846dc2265f73018870d88c704630578e6715afa8
                                      subject: Fix bad require name and .only in tests
                                  date: 2019-03-19T15:47:17Z
                                  version: skhema-5.2.1
                                - commits:
                                    - author: Lucian Buzzo
                                      body: >-
                                        Only match elements with .filter() if
                                        the base schema (the schema with no

                                        anyOf branches) matches the element.
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 9652d825d07fd8de0b51a5ae2645f3f6f79ee860
                                      subject: ".filter(): Only match if the base schema matches"
                                  date: 2020-04-30T16:22:18Z
                                  version: skhema-5.2.10
                                - commits:
                                    - author: Lucian
                                      body: ""
                                      footers:
                                        change-type: minor
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 647943a9d7fad1338ad800509a85636b150d576e
                                      subject: Add ability to provide custom resolvers to merge()
                                  date: 2019-03-19T12:14:12Z
                                  version: skhema-5.2.0
                                - commits:
                                    - author: Lucian
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: c00be29c12b14858982cd2997088d065ff173870
                                      subject: Split up and optimize lodash dependencies
                                  date: 2019-02-08T11:58:56Z
                                  version: skhema-5.1.1
                                - commits:
                                    - author: Lucian Buzzo
                                      body: ""
                                      footers:
                                        change-type: minor
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 5c48f980bfad6eb0a15d6c18d0898fbe226ddddd
                                      subject: "feature: Implement method for restricting a schema by another schema"
                                  date: 2019-01-08T11:00:52Z
                                  version: skhema-5.1.0
                                - commits:
                                    - author: Lucian
                                      body: Using a strictly defined API allows us to improve performance
                                      footers:
                                        change-type: major
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 04f497a509e4129977e696a6637fe2724a7fb7e0
                                      subject: Remove ability to add custom keywords or formats
                                  date: 2018-12-31T07:38:57Z
                                  version: skhema-5.0.0
                                - commits:
                                    - author: Lucian
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 219f90ed5751e2211d9acb0bbd3311c39e12a180
                                      subject: Improve performance of clone operations
                                  date: 2018-12-31T07:20:46Z
                                  version: skhema-4.0.4
                                - commits:
                                    - author: Lucian
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 61318967874690eb3b85a9921fe27d3ce5c2494d
                                      subject: Don't bust AJV cache
                                  date: 2018-12-10T12:09:43Z
                                  version: skhema-4.0.3
                                - commits:
                                    - author: Giovanni Garufi
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Giovanni Garufi <giovanni@balena.io>
                                      hash: 1f6c87de94ef905ea39972630364c74beb55057a
                                      subject: Add benchmark tests
                                  date: 2018-12-10T11:47:01Z
                                  version: skhema-4.0.2
                                - commits:
                                    - author: Lucian
                                      body: "Fixes #30"
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: d59a81567bf84a90182687a5385538ff7a599ce0
                                      subject: Recurse through nested `anyOf` statements when filtering
                                  date: 2018-12-04T13:29:31Z
                                  version: skhema-4.0.1
                                - commits:
                                    - author: Lucian
                                      body: This better follows the way that JSON schema works
                                      footers:
                                        change-type: major
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 7c479564ca6c611c1576c32b63ac9dba06c8b2c7
                                      subject: Treat undefined additionalProperties as true instead of false
                                  date: 2018-12-03T13:40:59Z
                                  version: skhema-4.0.0
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 842aaf252085b9a80a1cd84776b0c871c8c949aa
                                      subject: "stryker: Increase test timeout"
                                    - author: Juan Cruz Viotti
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 781b74d9ca847acfbfa3883fda66f4828824e3bc
                                      subject: "test: Configure Stryker for mutative testing"
                                  date: 2018-11-30T16:58:05Z
                                  version: skhema-3.0.1
                                - commits:
                                    - author: Giovanni Garufi
                                      body: >-
                                        Merge multiple anyOf subschemas that
                                        match into a single one.

                                        Add axioms in test
                                      footers:
                                        change-type: minor
                                        signed-off-by: Giovanni Garufi <giovanni@balena.io>
                                      hash: 23cec34382d98b6c10a1d5483113a1155ba6565a
                                      subject: Define additionalProperty inheritance in anyOf
                                    - author: Lucian
                                      body: ""
                                      footers:
                                        change-type: major
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 93a65b6edb10397b3417a3719d4471cd0eeb4f68
                                      subject: Formalising filtering logic
                                    - author: Lucian
                                      body: ""
                                      hash: d55a7cac6bd9ce238918eea99ed64894e5e7d066
                                      subject: Added failing test case with mutation
                                  date: 2018-11-29T17:53:28Z
                                  version: skhema-3.0.0
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: >-
                                        This is a hack, and should be reverted
                                        once we get to the bottom of it.

                                        It will impact performance, but right now there are things that should

                                        be filtered and are not, so lets get this merged for security purposes.

                                        Hopefully this library will be re-written soon.
                                      footers:
                                        change-type: patch
                                        see: https://github.com/balena-io/jellyfish/pull/878
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: fd9841b296007e1ddc04d092c3b28c61a438be6c
                                      subject: "hotfix: Make sure things that should be filtered are filtered"
                                  date: 2018-11-07T13:42:47Z
                                  version: skhema-2.5.2
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ""
                                      footers:
                                        change-type: patch
                                        see: https://github.com/balena-io/jellyfish/issues/845
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 3ef59f5e552a11dffa72c6ff758210aebfe35bcb
                                      subject: "filter: Force additionalProperties: true on match schemas"
                                  date: 2018-11-06T17:26:53Z
                                  version: skhema-2.5.1
                                - commits:
                                    - author: Lucian Buzzo
                                      body: ""
                                      footers:
                                        change-type: minor
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 3536e75a128f7b79d13727d3a5562df48e6f9d00
                                      subject: Validate against just the schema if `options.schemaOnly` is true
                                  date: 2018-10-16T11:59:41Z
                                  version: skhema-2.5.0
                                - commits:
                                    - author: Lucian Buzzo
                                      body: ""
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 513eeb6d006270ac25a2fb9a802df9c398658548
                                      subject: "merge: When merging an empty array, return a wildcard schema"
                                  date: 2018-10-09T20:19:28Z
                                  version: skhema-2.4.1
                                - commits:
                                    - author: Lucian Buzzo
                                      body: ""
                                      footers:
                                        change-type: minor
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 5a3844a72a7bb0bad355d6a991a9a2f005c3a3b9
                                      subject: "validate: Make object optional"
                                  date: 2018-10-09T16:52:53Z
                                  version: skhema-2.4.0
                          version: contrato-0.4.0
                          date: 2020-08-04T21:58:55.782Z
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: 783273aac70fd631d5a80e33b55ef468be4c3ec7
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: contrato-0.3.1
                          date: 2020-08-04T21:46:25.163Z
                        - commits:
                            - author: Stevche Radevski
                              body: >-
                                Handlebars supports very basic if condition
                                checking, but it only checks for

                                existence of a field. There are times when we want to combine conditions in order

                                to generate something as part of a blueprint, without defining a completely separate

                                blueprint for it (like generating network config schema if a dt has a wifi chip or

                                a usb port to which we can connect a dongle).
                              footers:
                                change-type: minor
                                signed-off-by: Stevche Radevski <stevche@balena.io>
                              hash: 90c3356b356920b8a6dd95a478dd6cb39e6ad148
                              subject: Add logical operator support in templates
                          date: 2020-07-17T12:02:34Z
                          version: contrato-0.3.0
                  version: balena-supervisor-11.12.0
                  date: 2020-08-05T09:55:18.695Z
                - commits:
                    - subject: Bump elliptic from 6.5.2 to 6.5.3
                      hash: c11004cd24fe66e6af7f16a79c0cc9e8847eb415
                      body: >
                        Bumps [elliptic](https://github.com/indutny/elliptic)
                        from 6.5.2 to 6.5.3.

                        - [Release notes](https://github.com/indutny/elliptic/releases)

                        - [Commits](https://github.com/indutny/elliptic/compare/v6.5.2...v6.5.3)
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: dependabot[bot] <support@github.com>
                        signed-off-by: dependabot[bot] <support@github.com>
                      author: dependabot[bot]
                      nested: []
                    - subject: Update pinejs-client-request and make use of a named key
                      hash: 511cbbe74e9dce51490234c66035ded873091b4e
                      body: |
                        Update pinejs-client-request from 7.0.0 to 7.1.0
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Update dependencies
                              hash: c46281f165eb6b05def4bd9eed82df37629c56e7
                              body: |
                                Update pinejs-client-core from 6.0.0 to 6.1.0
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Add support for using named ids
                                      hash: f6035bf5240e8aea1b92997d976cebd9a1857a61
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.1.0
                                  date: 2020-07-21T10:31:09.457Z
                                - commits:
                                    - subject: Drop unnecessary async from request()
                                      hash: dfd4c8c39327fe2e1706a8180e3c3f56d4229b77
                                      body: >
                                        This allows consumers like
                                        pinejs-client-supertest

                                        to have all the methods returning different Promise

                                        types based solely on the implementation of the

                                        request() method.
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                        Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                        signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                      author: Thodoris Greasidis
                                  version: pinejs-client-js-6.0.1
                                  date: 2020-06-19T16:55:46.305Z
                          version: pinejs-client-request-7.1.0
                          date: 2020-07-28T10:43:21.213Z
                        - commits:
                            - subject: Increase default timeout to 59s
                              hash: fc17266fe147bf40086feb81b6c96a344bf74f29
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                              nested: []
                          version: pinejs-client-request-7.0.1
                          date: 2020-07-28T10:29:41.385Z
                  version: balena-supervisor-11.11.7
                  date: 2020-08-04T09:33:41.743Z
                - commits:
                    - subject: Fixes documentation - ping doesn't need apiKey and minor documentation
                        formatting changes.
                      hash: 82dda7d852773a58ddbdc4a614ef3a3b7ff15462
                      body: ""
                      footer:
                        Change-Type: patch
                        change-type: patch
                        Signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
                        signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
                        Co-authored-by: xginn8 <xginn8@users.noreply.github.com>
                        co-authored-by: xginn8 <xginn8@users.noreply.github.com>
                      author: Nitish Agarwal
                      nested: []
                  version: balena-supervisor-11.11.6
                  date: 2020-07-31T18:10:27.470Z
                - commits:
                    - subject: "Fixes #1299 v1 start/stop endpoint issue with service access."
                      hash: 11cac2dd696dc267758351be131c3db8eae4470e
                      body: ""
                      footer:
                        Change-Type: patch
                        change-type: patch
                        Signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
                        signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
                      author: Nitish Agarwal
                      nested: []
                  version: balena-supervisor-11.11.5
                  date: 2020-07-31T17:42:23.827Z
                - commits:
                    - subject: "bug: Fix undefined containerId object"
                      hash: 59561132cc11074d2acf4ac06b477196b42cf569
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.11.4
                  date: 2020-07-31T10:53:18.364Z
                - commits:
                    - subject: fix matching extra_uEnv backend with unsupported devices
                      hash: 9b37ce96f959ccf27963ebb1c3e9eccd2ed998c7
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.11.3
                  date: 2020-07-30T18:15:41.698Z
                - commits:
                    - subject: Fix an issue with reporting initial config using a stale target state
                      hash: ffe3da6261e486b875c5c1792b7bdc8e0a0f996e
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested: []
                  version: balena-supervisor-11.11.2
                  date: 2020-07-30T09:50:26.292Z
                - commits:
                    - subject: fix up "atleast" -> "at least"
                      hash: 15c57a86b47c4df3dbf5e20c5dbbbd40a6344812
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Matthew McGinn <matthew@balena.io>
                        signed-off-by: Matthew McGinn <matthew@balena.io>
                      author: Matthew McGinn
                      nested: []
                  version: balena-supervisor-11.11.1
                  date: 2020-07-29T15:57:59.129Z
                - commits:
                    - subject: Support setting device/fleet configuration in extra_uEnv.txt
                      hash: cac2e3612c978b5fbcf837d78a4a0bff5ba5166a
                      body: ""
                      footer:
                        Closes: "#1385"
                        closes: "#1385"
                        Change-Type: minor
                        change-type: minor
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.11.0
                  date: 2020-07-28T20:38:18.462Z
                - commits:
                    - subject: Extract current state reporting to its own module
                      hash: eeda7e3ab17dc68d592acc2e4f58f20dad9a677a
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested: []
                  version: balena-supervisor-11.10.0
                  date: 2020-07-24T16:39:30.078Z
                - commits:
                    - subject: log detection of changes to VPN status
                      hash: 41987d8e7600550da2d09e050db58c3ad969210e
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: dt-rush <nickp@balena.io>
                        signed-off-by: dt-rush <nickp@balena.io>
                      author: dt-rush
                      nested: []
                  version: balena-supervisor-11.9.10
                  date: 2020-07-23T23:22:47.297Z
          version: meta-balena-2.54.0
          date: 2020-08-06T23:12:50.461Z
        - commits:
            - subject: "balena-unique-key: Ensure config.json is synced after replacing"
              hash: d0e218929b779b1051e14414b3b378b6d5928969
              body: |
                Ensuring changes are flushed to the filesystem at this point
                helps prevent config.json from becoming corrupt if power is cut.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.53.14
          date: 2020-08-06T12:48:20.058Z
        - commits:
            - subject: "flasher-register: if no supervisor information found, report null"
              hash: dee971c0dbeb6e8363f3e321af582e99627626e9
              body: >
                In b791055f3f6ffd6cc5796569a7321c5060129eea I attempted to have
                flasher

                images report their preconfigured supervisor version without a good

                understanding of how flasher images work. As it turns out no supervisor

                information is maintained in the flasher image itself, so until that is

                sorted stop reporting a blank string for the supervisor version.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.53.13
          date: 2020-08-05T20:17:40.378Z
        - commits:
            - subject: "systemd: Set net.ipv4.conf.all.rp_filter in balena-os-sysctl"
              hash: a0573b7df13292aff6c7670246ed780342593376
              body: >
                The warrior branch does not backport this configuration

                like the older branches do. Let's move this setting in the

                balena-os-sysctl file to avoid issues where some device integration

                layers set the rp_filter mode to strict and break connectivity.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.53.12
          date: 2020-08-04T14:01:14.955Z
        - commits:
            - subject: Use a named key when querying for device by uuid
              hash: e2c6614d28fe498853297891eb0feeb4b1577a7b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: meta-balena-2.53.11
          date: 2020-07-30T15:32:30.333Z
        - commits:
            - subject: "supervisor: allow supervisor updates without controlling the
                supervisor state"
              hash: 6208f065e59d9c15e10e872bff788c0b80020983
              body: >
                Recently the supervisor added a codepath that assumes no files
                underneath it will change during runtime.

                OS update hooks can trigger a condition whereby the supervisor reboots the device during a HUP,

                which in turn bricks the device.


                Additionally, since unknown args cause this update to fail-closed,

                remove that barrier to future-proof more flag expansion.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.53.10
          date: 2020-07-29T12:42:50.816Z
  version: 2.60.1+rev1
  date: 2020-11-03T16:09:35.746Z
- commits:
    - subject: Update balena-yocto-scripts to v1.8.0
      hash: d17fd774671c7cbb5004cda1a8e9a86c2aef6a0a
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.8.0
        changelog-entry: Update balena-yocto-scripts to v1.8.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.53.9+rev2
  date: 2020-08-11T08:26:50.933Z
- commits:
    - subject: Update meta-balena from v2.51.2 to v2.53.9
      hash: 1c5ba05985ee71d937cadd5b0d577de38c3a0c06
      body: |
        Update meta-balena from 2.51.2 to 2.53.9
      footer:
        Changelog-entry: Update meta-balena from v2.51.2 to v2.53.9
        changelog-entry: Update meta-balena from v2.51.2 to v2.53.9
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
      nested:
        - commits:
            - subject: "balena-supervisor: Update to v11.9.9"
              hash: b991ede01e5140ef04f2e6fe9baa37a8ded95ab5
              body: |
                Update balena-supervisor from 11.9.8 to 11.9.9
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: next
                backport-to: next
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested:
                - commits:
                    - subject: "common: Fix bug where aliases might be undefined"
                      hash: 60132134deffd770a40d1e6f18fdd87cb2f9f52e
                      body: >
                        Should handle the scenario where the network aliases are
                        undefined.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.9.9
                  date: 2020-07-23T15:45:31.161Z
          version: meta-balena-2.53.9
          date: 2020-07-23T17:44:58.146Z
        - commits:
            - subject: "resin-supervisor: Create required directories before launch"
              hash: 7be7738c655e37e48c1a98f9e1e0ff2795d66bf8
              body: >
                On commit a4ce26caadabcb1e87d944d78218cc32c579914e the
                supervisor moved

                from using --volume to using --mount to avoid the implicit creation of

                directories instead of files.


                However, in the case where the mount referred to a directory, these have

                to exist in the rootfs beforehand as --mount will not create them.


                This commit checks for the existence of the /var/log/supervisor-log

                directory and creates it if required.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.53.8
          date: 2020-07-23T04:33:45.808Z
        - commits:
            - subject: "balena-supervisor: Update to v11.9.8"
              hash: f919017e873062d30efa73d93a99ad0272675d24
              body: |
                Update balena-supervisor from 11.9.6 to 11.9.8
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: next
                backport-to: next
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested:
                - commits:
                    - subject: Bump lodash from 4.17.15 to 4.17.19
                      hash: 01655b595555ae63ea1b70d623451c9ad3ec03dd
                      body: >
                        Bumps [lodash](https://github.com/lodash/lodash) from
                        4.17.15 to 4.17.19.

                        - [Release notes](https://github.com/lodash/lodash/releases)

                        - [Commits](https://github.com/lodash/lodash/compare/4.17.15...4.17.19)
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: dependabot[bot] <support@github.com>
                        signed-off-by: dependabot[bot] <support@github.com>
                      author: dependabot[bot]
                      nested: []
                  version: balena-supervisor-11.9.8
                  date: 2020-07-22T14:44:00.974Z
                - commits:
                    - subject: "docker-utils: Test network gateway determination logic"
                      hash: 6ef3bd2362ebd185053a351490f6561ec10b84d8
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                    - subject: Fix docker-util using incorrect reference for function
                      hash: 3b3babfd62868e986788d6c2f4fcede915fb4711
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.9.7
                  date: 2020-07-22T12:19:06.693Z
          version: meta-balena-2.53.7
          date: 2020-07-23T03:02:50.027Z
        - commits:
            - subject: "recipes-containers/balena: Use separate service for loading
                healthcheck image"
              hash: 94a21624ccc1871d911b12654967b60a76a7e77a
              body: |
                In rocko, systemd kills any script started in background,
                same thing happening to children that get re-parented.

                One solution to this is to use a separate service file for
                starting the healtcheck image load script, after balena.service
                was started.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.53.6
          date: 2020-07-21T13:44:11.006Z
        - commits:
            - subject: "balena-supervisor: Update to v11.9.6"
              hash: 826a68296c1ed3c7ce44753f6b8f85b9f8f87ef3
              body: |
                Update balena-supervisor from 11.9.4 to 11.9.6
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: next
                backport-to: next
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Rich Bayliss
              nested:
                - commits:
                    - subject: Fix purge and restart invocations by providing instanced apps
                      hash: d14d8f31ccee62fa8cec88209cc3674a1b280e34
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                    - subject: Fix purge invocations of new singletons
                      hash: d2a7d3b9653a2afbd8eca009b75871cf54dbf3ac
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.9.6
                  date: 2020-07-20T17:25:37.311Z
                - commits:
                    - subject: Update ESR version information
                      hash: c2b534a51b3863bf3c787db00c7299517224464f
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.9.5
                  date: 2020-07-14T14:31:17.340Z
          version: meta-balena-2.53.5
          date: 2020-07-21T11:58:00.018Z
        - commits:
            - subject: Add support for aufs5 on kernel 5.x variants
              hash: 6bdf4211aefb1f2c842f0797c50ae537fe2baae5
              body: |
                We add support for aufs on kernels 5.x variants
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add support for aufs5 on kernel 5.x variants
                changelog-entry: Add support for aufs5 on kernel 5.x variants
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
            - subject: Force choosing busybox-hwclock over util-linux-hwclock
              hash: 86dd4c761038ab0214a1fca8dd2839b4dbddfa39
              body: >
                Otherwise, as util-linux has a higher default alternative
                priority, the

                version in util-linux is chosen. It would seem they are exchangeable, but

                the busybox version reportedly works even if the RTC interrupt line is not

                connected.


                Fixes #1936
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Force choosing busybox-hwclock over util-linux-hwclock
                changelog-entry: Force choosing busybox-hwclock over util-linux-hwclock
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.53.4
          date: 2020-07-21T08:03:00.660Z
        - commits:
            - subject: "provisioning: provide base supervisor_version during provision"
              hash: b791055f3f6ffd6cc5796569a7321c5060129eea
              body: >
                In order to get closer to formally requiring a target supervisor
                release

                in the model, we should expand our provisioning process to provide the

                initial supervisor_version metadata. This connects back to tri-app.
              footer:
                Depends-on: https://github.com/balena-io/open-balena-api/pull/394
                depends-on: https://github.com/balena-io/open-balena-api/pull/394
                HQ: https://github.com/balena-io/balena-io/pull/2177
                hq: https://github.com/balena-io/balena-io/pull/2177
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.53.3
          date: 2020-07-16T13:48:11.858Z
        - commits:
            - subject: Add LZ4 support config for older kernels
              hash: 403fc033b75b2672bf9c8ef9a27879096e7b88b7
              body: |
                Kernel versions between 4.0 and 4.9 use
                CONFIG_ZRAM_LZ4_COMPRESS, whereas newer ones
                use CONFIG_CRYPTO_LZ4.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.53.2
          date: 2020-07-16T08:17:26.378Z
        - commits:
            - subject: Remove unnecessary config.json keys
              hash: b3222e619bbeebc0a2bd9e7419a9d8ae12b34dce
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Pagan Gazzard
              nested: []
          version: meta-balena-2.53.1
          date: 2020-07-14T14:53:06.752Z
        - commits:
            - subject: "resin-supervisor: Create required directories before launch"
              hash: a93bd242d37246da83c1fa4368174d89b5c045f4
              body: >
                On commit a4ce26caadabcb1e87d944d78218cc32c579914e the
                supervisor moved

                from using --volume to using --mount to avoid the implicit creation of

                directories instead of files.


                However, in the case where the mount referred to a directory, these have

                to exist in the rootfs beforehand as --mount will not create them.


                This commit checks for the existence of the /resin-data/resin-supervisor

                directory and creates it if required.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Rebrand custom resin logos
              hash: dc215462dd5adcb171496be9aef237351d749d71
              body: >
                When performing hostOS updates, the resin-logo.png might have

                been customized by the customer.

                This commits renames it to the newly branded balena-logo.png


                If the resin-logo.png was unmodified, it will forcefully replace to

                balena-logo.png to force rebranding of older resin branded release.


                Fixes #1801
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Rebrand custom resin logos
                changelog-entry: Rebrand custom resin logos
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "plymouth: Remove patch that sets plymouth resin theme"
              hash: 8ccc9fc6862fdcaf9197bd443549411a3965279d
              body: |
                This is now configured as part of the plymouth-theme package.
              footer:
                Changelog-type: patch
                changelog-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "docker-disk: Update dind container to v19.03.10"
              hash: 6b325f57ff50be11e0c5f1f2420b911211f0ef06
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "docker-disk: Update to still supported dind container"
              hash: e325ab34b9d7f14ad5a0d85b36b02ee1e2b7fdf8
              body: >
                The `docker` Docker Hub repository lists what versions of the
                image

                are supported and 18.6 is not among them at all. Use the current stable

                line of 18.09 instead, to stay on supported versions. See more info at:

                https://hub.docker.com/_/docker


                For more reproducability, we are also including the patch level version

                of the container, which will give us more responsibility to update more

                frequently, but fewer surprises.


                Also explicitly set `DOCKER_HOST` for the daemon being started, otherwise

                the base image's setting might silently take over, and modify this.


                Replace deprecated `-g` (graph driver) with `--data-root` as well.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Gergely Imreh <gergely@balena.io>
                signed-off-by: Gergely Imreh <gergely@balena.io>
              author: Gergely Imreh
              nested: []
            - subject: Use udev for setting up wlan power management
              hash: 7826c8ba9a9b6a97021fbcd352f627518afa8d73
              body: >
                resin-init has a hardcoded command to disable power management

                on wlan0. This commit moves the logic to udev rule as there is

                no guarantee wlan0 is the only or default wlan adapter in the system.


                There seems to be no better way to identify a wlan device in udev

                than KERNEL=="wl*" which should match both net.ifnames=0 (wlanX)

                and net.ifnames=1 (wlpX).


                Fixes #1422
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Use udev for setting up wlan power management
                changelog-entry: Use udev for setting up wlan power management
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: Use --mount instead of --volume for bind mounts to the supervisor
                container.
              hash: 0fd442943d6b6c802df2f6e35d334ecde0f748e9
              body: >
                This makes sure the source path refers to an existing
                file/directory on

                the host.


                https://docs.docker.com/engine/reference/commandline/service_create/#differences-between---mount-and---volume


                This avoids situations where --volume implicitely creates a directory (see #1748)


                Fixes #1754
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Use --mount instead of --volume for bind mounts to the
                  supervisor container.
                changelog-entry: Use --mount instead of --volume for bind mounts to the
                  supervisor container.
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.53.0
          date: 2020-07-14T09:38:34.861Z
        - commits:
            - subject: Update balena-supervisor from v11.9.3 to v11.9.4
              hash: ac5bedaf68a8898d9102c1106d2cf374bbd00628
              body: |
                Update balena-supervisor from v11.9.3 to v11.9.4
              footer:
                Changelog-entry: Update balena-supervisor from v11.9.3 to v11.9.4
                changelog-entry: Update balena-supervisor from v11.9.3 to v11.9.4
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested:
                - commits:
                    - subject: "bug: Fix unhandled promise rejection"
                      hash: 898c7e71dae28aa046bdd3e075ecf0d6aa364142
                      body: >
                        When invoking iptables-restore it can fail. This wasn't
                        handled

                        and this makes sure that it fails gracefully.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.9.4
                  date: 2020-07-13T12:07:37.513Z
          version: meta-balena-2.52.7
          date: 2020-07-13T16:25:46.435Z
        - commits:
            - subject: Update to use api v6 and fix a quoting bug
              hash: 1e5bd5d984945a3e97d6b4bf64c5ae6a0e81b0b3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: meta-balena-2.52.6
          date: 2020-07-13T13:35:04.787Z
        - commits:
            - subject: Allow comments in iptables ruleset
              hash: a93ac5695c77cb36e6ec3ee1355b7b9da7b81d39
              body: >
                The latest v11.9.3 supervisor includes firewall configuration
                functionality

                that requires this module to be enabled on all platforms.
              footer:
                Connects-to: balena-io/balena-supervisor#1393
                connects-to: balena-io/balena-supervisor#1393
                Change-type: patch
                change-type: patch
                Changelog-entry: Allow comments in iptables ruleset
                changelog-entry: Allow comments in iptables ruleset
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.52.5
          date: 2020-07-10T16:11:02.635Z
        - commits:
            - subject: Update balena-supervisor from v11.4.10 to v11.9.3
              hash: 16fc81358477615b26b6ee6917dc2b5a36081a57
              body: |
                Update balena-supervisor from v11.4.10 to v11.9.3
              footer:
                Changelog-entry: Update balena-supervisor from v11.4.10 to v11.9.3
                changelog-entry: Update balena-supervisor from v11.4.10 to v11.9.3
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Fix bug where a promise was not resolved in db-format
                      hash: 270f9f854add8db84fadc0a96e127a6035128aef
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Convert deviceConfig module to a singleton
                      hash: 5337c0102cd9bdbaaa41812fb1b8c44796ae9898
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.9.3
                  date: 2020-07-08T11:07:16.427Z
                - commits:
                    - subject: "avahi: Control with HOST_DISCOVERABILITY"
                      hash: 03ca0ee9add9872b5577833971b43682ae6cc427
                      body: >
                        The host config variable HOST_DISCOVERABILITY can be set
                        to

                        true or false, controlling the state of the avahi service. This

                        determines if the device advertises it's presence over mDNS.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.9.2
                  date: 2020-07-06T12:04:46.333Z
                - commits:
                    - subject: "firewall: Add Host Firewall functionality"
                      hash: 28c5a44e714a3f155fbd528d0ec672dec1d96ef8
                      body: >
                        Controlled by BALENA_HOST_FIREWALL_MODE, the firewall
                        can

                        either be 'on' or 'off'.


                        - In the 'off' state, all traffic is allowed.

                        - In the 'on' state, only traffic for the core services provided
                          by Balena is allowed.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                  version: balena-supervisor-11.9.1
                  date: 2020-07-01T17:45:22.146Z
                - commits:
                    - subject: Added support for configuring FDT directive in extlinux.conf
                      hash: 59fc589eb23bdf8c79c677734d2792b93380c94c
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.9.0
                  date: 2020-06-23T19:58:27.412Z
                - commits:
                    - subject: "state: Report device MAC address to the API"
                      hash: 1b91ef3405d1d2013cbdd6381ed69256c6432d18
                      body: >
                        When reporting device information, send the MAC address
                        of any

                        interfaces on the system. Also expose in the Supervisor API at

                        the route GET /v1/device.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                  version: balena-supervisor-11.8.4
                  date: 2020-06-22T09:43:53.370Z
                - commits:
                    - subject: Update pinejs-client-request to 7.x
                      hash: c15f77434ba3b957dc55f5df207026eb2028bd57
                      body: |
                        Update pinejs-client-request from 5.2.0 to 7.0.0
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Empty commit to attempt republish
                              hash: 72c0214672a1e552cb8fa63f9a96aa47b5db19b1
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Switch from bluebird-lru-cache to lru-cache for caching
                              hash: e69b9cb202140de25f5b6cc9258cccb71854fd6f
                              body: ""
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Update target to es2018
                              hash: 1c2e8725305219f0c144cca583a1e8225d64c503
                              body: ""
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Remove bluebird dependency
                              hash: b066e578427c179c9cb7fca6dda2e2e17da01a46
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Convert to async/await
                              hash: 3ca7a939c2e25861cf3484b1ef31f7ccbec9369a
                              body: ""
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Update to pinejs-client-core 6.x
                              hash: 33f1f63efbb0a4a1c9fae0f45c4f2e00e59572f2
                              body: |
                                Update pinejs-client-core from 5.8.0 to 6.0.0
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Increase minimum es version to es2015
                                      hash: 52f3a97dc2b5aba07090a688fcd7afa2d2d789d8
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                    - subject: Convert to async/await
                                      hash: b6c6d1f1dc9e9b05e60964a87e1677b0b4cc74eb
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                    - subject: Remove now unnecessary PinejsClientCoreFactory
                                      hash: 35adea3c7c33a74920652ea547e8d649592e86fc
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                    - subject: Switch to using native promises
                                      hash: d87e4570be580dccb1e511068beaf79878e66d06
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                    - subject: Drop support for deprecated request overrides
                                      hash: 5aa89779bb06b9437382439b324f91d5fa9061b7
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                    - subject: Drop support for deprecated `query` method
                                      hash: 2a0d315b111832c0a15a4cc581cd3f3cb5c32cd7
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                    - subject: Drop support for deprecated string based requests
                                      hash: 493a2bc970923eb8d79e684e10d4ec433803a20c
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                    - subject: Use `;` for expand options instead of `&`
                                      hash: 62f0f4c406ce87b2ba6d4a7f74c88107ac3144cb
                                      body: ""
                                      footer:
                                        Change-type: major
                                        change-type: major
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.0.0
                                  date: 2020-06-04T12:58:07.304Z
                          version: pinejs-client-request-7.0.0
                          date: 2020-06-16T10:57:45.926Z
                        - commits:
                            - subject: Lazy load bluebird-lru-cache and lodash
                              hash: a2b6b74600b9ddecc98cb90a5d2d9ca28495b835
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-request-6.2.0
                          date: 2020-06-08T15:32:03.904Z
                        - commits:
                            - subject: Convert some lodash usage to native versions
                              hash: 93aaa1f518859bbe08a5746fbb1668c9fd446ae3
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-request-6.1.4
                          date: 2020-06-08T11:53:33.697Z
                        - commits:
                            - subject: Remove unused dependencies
                              hash: 58a13f0fbe9692be029812db19f22aac7bd6f0f9
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-request-6.1.3
                          date: 2020-06-04T15:00:55.621Z
                        - commits:
                            - subject: Update dependencies
                              hash: 0087b900328f1ba02699fc75664b0d23eb433e67
                              body: |
                                Update pinejs-client-core from 5.6.11 to 5.8.0
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Generate optional builds for es2015/es2018 as well as the default es5
                                      hash: 510682b0e2a9d2a338aa977bd4782ec60fc5b196
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.8.0
                                  date: 2020-05-29T13:12:21.476Z
                                - commits:
                                    - subject: Update dependencies
                                      hash: 8141a6dfe6edd4c7e432d85c3533e6e02a43e2ff
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.7.1
                                  date: 2020-05-25T16:57:46.154Z
                                - commits:
                                    - subject: Make transformGetResult a method , to ease overriding the get method
                                      hash: f267d4bfc006d1aabfb0ed1f79c9234ecb5c7d5f
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                        See: https://github.com/balena-io/balena-api/pull/2532
                                        see: https://github.com/balena-io/balena-api/pull/2532
                                      author: Thodoris Greasidis
                                  version: pinejs-client-js-5.7.0
                                  date: 2020-04-15T13:13:28.186Z
                          version: pinejs-client-request-6.1.2
                          date: 2020-06-02T15:55:01.003Z
                        - commits:
                            - subject: Add linting
                              hash: 988d58f708da1bd1a4389a1a2129fa5d30706065
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-request-6.1.1
                          date: 2020-03-19T21:47:11.959Z
                        - commits:
                            - subject: Move require-npm4-to-publish to dev dependencies
                              hash: 084a19f61c408643d9a9448c1d656bed7791fec5
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Update dependencies
                              hash: 1b06cd6c26b60a4d043ad1aaaf6e4ab9b822ace2
                              body: |
                                Update pinejs-client-core from 5.3.6 to 5.6.11
                                Update typed-error from 3.1.0 to 3.2.0
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: update deps and specify minimum engine requirements
                                      hash: 22f293afc187e67b88dab280951eb6e2bb504b24
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                        Signed-off-by: Will Boyce <will@balena.io>
                                        signed-off-by: Will Boyce <will@balena.io>
                                      author: Will Boyce
                                  version: typed-error-3.2.0
                                  date: 2019-11-20T09:52:39.017Z
                                - commits:
                                    - subject: "🐛: Fix missing `deprecated.getStringParams` function"
                                      hash: 53edb7e7485acd4310e9b04291894f6ab746285a
                                      body: >
                                        The function
                                        `deprecated.getStringParams` was used,
                                        but

                                        not defined.
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                        Signed-off-by: Andreas Fitzek <andreas@balena.io>
                                        signed-off-by: Andreas Fitzek <andreas@balena.io>
                                      author: Andreas Fitzek
                                  version: pinejs-client-js-5.6.11
                                  date: 2020-02-21T13:35:51.993Z
                                - commits:
                                    - subject: Update to resin-lint 3.x
                                      hash: f1b415154cc21b9880ad8ee1134ea9340220aba2
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.10
                                  date: 2020-02-14T15:37:12.741Z
                                - commits:
                                    - subject: "CircleCI: Remove deploy job as it's handled by balenaCI"
                                      hash: d6c9a485e0da5f6aa600597b6d076a8dce411df7
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.9
                                  date: 2020-02-14T15:27:02.200Z
                                - commits:
                                    - subject: Add the missing `method` on the post method
                                      hash: 2f649c3157a50277f6e168a64abb1593ac9d7a4f
                                      body: |
                                        Fixes a regression of v5.6.7.
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                        Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                        signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                      author: Thodoris Greasidis
                                  version: pinejs-client-js-5.6.8
                                  date: 2020-02-14T14:59:02.633Z
                                - commits:
                                    - subject: Deprecate request overrides
                                      hash: 84fa00ab60a98bbe56885ee5fabcccfc876a86d6
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                    - subject: Deprecate queries using a string url
                                      hash: 8cd9be6b0642ff5b1cba0596f827a74fd76bbff5
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                    - subject: Deprecate `query` in favor of `get`
                                      hash: ab77d10cad0a57914018b76c9755deddb3e078ef
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.7
                                  date: 2020-02-14T12:52:12.207Z
                                - commits:
                                    - subject: Allow resource/$count in $filter
                                      hash: 7eac38f1ed6a3bcdf1e6c4be5dde50aca953359e
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.6
                                  date: 2020-02-14T12:35:22.507Z
                                - commits:
                                    - subject: Remove `defaults` helper in favour of `??`
                                      hash: 806852bceb07a858572511609dc88ea0b748038e
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.5
                                  date: 2020-01-30T17:09:03.006Z
                                - commits:
                                    - subject: Avoid allocations when destroying a poll
                                      hash: 8f397a83803ae43d19331f4c32952384ba9e7fe6
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.4
                                  date: 2020-01-30T16:25:12.292Z
                                - commits:
                                    - subject: Improve `RawFilter` typing
                                      hash: 2006d4e7f0fecbb99357b82215da28978194db41
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.3
                                  date: 2020-01-30T12:59:22.535Z
                                - commits:
                                    - subject: Update dependencies
                                      hash: e7314acbdd029ece267a4568bf15cb5dc333eec1
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.2
                                  date: 2020-01-29T21:12:32.246Z
                                - commits:
                                    - subject: Switch most CODEOWNERS entries to a team
                                      hash: 3ef7e0db285ae54f96aee3f52319ac8d8c4d61e8
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.6.1
                                  date: 2020-01-22T16:38:22.045Z
                                - commits:
                                    - subject: Add 'upsert' method supporting natural keys, requires Pinejs ^10.19.1
                                      hash: c8ebfceec3ecc1cc57ee6942db35730c6d993192
                                      body: >
                                        Detects unique constrain errors by 409
                                        statusCodes.

                                        Because of this, the upsert() method is only

                                        supported when Pinejs ^10.19.0 is used.
                                      footer:
                                        Resolves: "#77"
                                        resolves: "#77"
                                        Change-type: minor
                                        change-type: minor
                                        Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                        signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                      author: Thodoris Greasidis
                                  version: pinejs-client-js-5.6.0
                                  date: 2019-07-12T20:46:17.091Z
                                - commits:
                                    - subject: Remove unnecessary `string` type that is handled by the `Params` type
                                      hash: 0ab1242860aa8b3ed4162a5ee25081c640297676
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.5.4
                                  date: 2019-06-18T14:46:38.983Z
                                - commits:
                                    - subject: Use an .npmrc to prevent creating a package-lock on each install
                                      hash: 993c4ae09c3ba50e1d48e4156e86a7c890e54749
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                        Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                        signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                      author: Thodoris Greasidis
                                  version: pinejs-client-js-5.5.3
                                  date: 2019-06-18T10:24:38.995Z
                                - commits:
                                    - subject: Add some type casting so that it compiles on TypeScript 3.5
                                      hash: 695c053ceab9b146a8b755f9b041eb03e70b5914
                                      body: ""
                                      footer:
                                        Resolves: "#79"
                                        resolves: "#79"
                                        Change-type: patch
                                        change-type: patch
                                        Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                        signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                      author: Thodoris Greasidis
                                  version: pinejs-client-js-5.5.2
                                  date: 2019-06-10T10:48:07.772Z
                                - commits:
                                    - subject: Fix downstream declaration creation errors due to `Dictionary`
                                      hash: a8a39edff8cc7e1d05fb9b67037718970e94296c
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.5.1
                                  date: 2019-05-15T13:32:13.920Z
                                - commits:
                                    - subject: Add a prepare method that prepares a query into a function
                                      hash: eb7eccca7d90c453710575ebdf3adb9ef56835a7
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.5.0
                                  date: 2019-05-15T11:51:46.450Z
                                - commits:
                                    - subject: Add CODEOWNERS
                                      hash: e01174008f812e0c24ec1036aa1f9ff0bc716e85
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                        Signed-off-by: Gergely Imreh <gergely@balena.io>
                                        signed-off-by: Gergely Imreh <gergely@balena.io>
                                      author: Gergely Imreh
                                  version: pinejs-client-js-5.4.1
                                  date: 2019-05-10T10:14:00.677Z
                                - commits:
                                    - subject: Add support for parameter aliases in resource ids
                                      hash: a4e6a640a3ced56bcd3ef7bf22770338e089a90d
                                      body: ""
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.4.0
                                  date: 2019-05-10T09:57:46.863Z
                                - commits:
                                    - subject: Deduplicate transformation of GET results
                                      hash: dd856e24072f652684adf63af97408ee0ba7389c
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.3.10
                                  date: 2019-05-10T09:44:09.422Z
                                - commits:
                                    - subject: Simplify how we expose types, which means `subscribe` is now exposed
                                      hash: f81e0cc59e75e0f9ffc71d9f122b9cfab9c05165
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.3.9
                                  date: 2019-05-10T08:57:16.276Z
                                - commits:
                                    - subject: Add automatic formatting via prettier
                                      hash: a345d32f295acfa8ed4e5b815c24e1e7fdb335f2
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.3.8
                                  date: 2019-05-09T17:38:43.260Z
                                - commits:
                                    - subject: Remove node 4 build, add node 12
                                      hash: 8d549277d80746feadbdd8a6bba37eb076270440
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                    - subject: Add .versionbot/CHANGELOG.yml for downstream changelogs
                                      hash: 067bedf65e86a902b7334ed6e5f117d6ac41afde
                                      body: ""
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-5.3.7
                                  date: 2019-05-08T15:41:50.201Z
                          version: pinejs-client-request-6.1.0
                          date: 2020-03-19T12:19:09.392Z
                        - commits:
                            - subject: Add CODEOWNERS
                              hash: efc40c853d4392b866eb3784839871fad086fccd
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-request-6.0.3
                          date: 2020-01-22T16:35:52.630Z
                        - commits:
                            - subject: Add node 12 tests
                              hash: 624b1efadfbb920d718bd2f54f99e8eef0e5c645
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Add upstream for pinejs-client-core
                              hash: 33dc1299939483534686f52e903bb27f8a08b543
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-request-6.0.2
                          date: 2019-05-08T15:57:24.879Z
                        - commits:
                            - subject: Update target to es2016, part of/fixing the typed-error bump
                              hash: 6025bf882f6f2675b321571f327f59a4908da539
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-request-6.0.1
                          date: 2019-04-23T20:43:52.266Z
                        - commits:
                            - subject: "typed-error: Update to v3.1.0"
                              hash: 82e50ac9992b3a157360eef5163f43a90fa9feea
                              body: |
                                Update typed error from 2.0.0 to 3.1.0
                              footer:
                                Change-type: major
                                change-type: major
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                          version: pinejs-client-request-6.0.0
                          date: 2019-04-17T15:08:00.745Z
                  version: balena-supervisor-11.8.3
                  date: 2020-06-18T12:26:43.171Z
                - commits:
                    - subject: Make service-manager module a singleton
                      hash: 0e8d92e08af5f18fce9aa9e3e1e7057c98dee1c3
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Make volume-manager module a singleton
                      hash: adaad786af161a7a3cdf61f2c63926e702fef790
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Make network-manager module a singleton
                      hash: 8fc97b9de89392bb9e6fd562e12d261ced3990cb
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Add supervisor upgrade document
                      hash: 989ec83a27621cab6c53dd026c2407dfe1b1b179
                      body: ""
                      footer:
                        Connects-to: https://github.com/balena-io/balena-io/issues/2157
                        connects-to: https://github.com/balena-io/balena-io/issues/2157
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Hugh Brown <hugh@balena.io>
                        signed-off-by: Hugh Brown <hugh@balena.io>
                      author: Hugh Brown
                  version: balena-supervisor-11.8.2
                  date: 2020-06-17T14:59:07.731Z
                - commits:
                    - subject: Update webpack dependencies
                      hash: e1fb8683f4687aa0844bf73780916db34e3ebd3d
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.8.1
                  date: 2020-06-16T12:08:37.495Z
                - commits:
                    - subject: Use API v6
                      hash: 1dccbaecd8a6cd8bf551e3b56131066e9de9ed35
                      body: ""
                      footer:
                        See: https://github.com/balena-io/open-balena/issues/80
                        see: https://github.com/balena-io/open-balena/issues/80
                        Change-type: minor
                        change-type: minor
                      author: Akis Kesoglou
                  version: balena-supervisor-11.8.0
                  date: 2020-06-16T09:16:47.483Z
                - commits:
                    - subject: Db-format module code fixups
                      hash: 695d91d4948aa5b89c602135ccc8fba8321fd8bd
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.7.3
                  date: 2020-06-15T09:55:57.277Z
                - commits:
                    - subject: Add label to expose gpu to container
                      hash: ae646a07ec6a6c96f7cb91f1d37898a94dbab47a
                      body: >
                        In the absence of an upstream implementation of the
                        DeviceRequest API introduced

                        as part of Docker API v1.40 we roll our own using a feature label.


                        As per my comment in the code, we fall back to the default behavior of

                        docker cli's `--gpu` and request single device with the `gpu` capabilty.

                        The only implementation at the moment is the NVIDIA driver; here:

                        https://github.com/balena-os/balena-engine/blob/master/daemon/nvidia_linux.go


                        Background on the composefile implementation:

                        https://github.com/compose-spec/compose-spec/issues/74

                        https://github.com/docker/compose/issues/6691
                      footer:
                        Change-type: patch
                        change-type: patch
                        Connects-to: https://github.com/balena-os/balena-jetson/pull/75
                        connects-to: https://github.com/balena-os/balena-jetson/pull/75
                        Signed-off-by: Robert Günzler <robertg@balena.io>
                        signed-off-by: Robert Günzler <robertg@balena.io>
                      author: Robert Günzler
                  version: balena-supervisor-11.7.2
                  date: 2020-06-11T12:11:35.793Z
                - commits:
                    - subject: Move database app processing out to its own module
                      hash: b31d5007fba001fcb71f5103447823f9a27bbfaa
                      body: >
                        This is part of the work to make the application-manager
                        module much

                        less monolithic, in preperation for system apps and more generally

                        multi-app.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Make target-state-cache a singleton
                      hash: c0e170c61f05a8fc01dc167276ccb041d6d2d846
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.7.1
                  date: 2020-06-11T10:57:36.941Z
                - commits:
                    - subject: Respect an initialDeviceName field in the config.json
                      hash: b5918f0d84cea641c7ab9aae58aff99454d10253
                      body: ""
                      footer:
                        Closes: "#909"
                        closes: "#909"
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.7.0
                  date: 2020-06-10T12:30:37.459Z
                - commits:
                    - subject: Make images module a singleton
                      hash: 2b3dc2fbcef63ae2024fe5fe41f30b0d56357943
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.6.6
                  date: 2020-06-10T10:32:38.006Z
                - commits:
                    - subject: "fix: API auth missing on state GET/PATCH"
                      hash: b89425c6079b74c709ef9872c6fc53726ffda6d3
                      body: >
                        When performing a state GET/PATCH the authentication
                        header was being

                        missed off.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss
                        signed-off-by: Rich Bayliss
                      author: Rich Bayliss
                  version: balena-supervisor-11.6.5
                  date: 2020-06-09T14:06:37.184Z
                - commits:
                    - subject: Refactored @ts-ignore to @ts-expect-error in test file
                      hash: ffe814e4479a962979e759dfec8618dbfb53008b
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.6.4
                  date: 2020-06-08T17:28:46.843Z
                - commits:
                    - subject: Make logger module a singleton
                      hash: 651e48b1bd8e9a9d356b63f8cb05aaeba622840d
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                    - subject: Fix exponential backoff for state polling
                      hash: e37b52dd689692eeca818907cf0d7e5876bec0b3
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.6.3
                  date: 2020-06-08T16:21:57.822Z
                - commits:
                    - subject: Make the event-tracker module a singleton
                      hash: 389e14ec6b63cf4a997f0d25f8bbe6a6a435dd5c
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.6.2
                  date: 2020-06-08T09:15:03.107Z
                - commits:
                    - subject: Convert all test files to TS and add .spec to all filenames
                      hash: 9fc2e86322249cfbc17db446bcd204f617b0a63e
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                    - subject: "fix: Pin alpine python version"
                      hash: 846545648bdc98392da7972558390f1ea26bfd24
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                  version: balena-supervisor-11.6.1
                  date: 2020-06-05T22:42:07.292Z
                - commits:
                    - subject: Isolate target state fetching to its own module which emits on update
                      hash: 17a5d8dd4918916c954990cfb9666754434ef527
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                  version: balena-supervisor-11.6.0
                  date: 2020-06-03T21:39:57.630Z
                - commits:
                    - subject: Make docker module a singleton
                      hash: aad20e2c2f9bf62dfb2e3092d898b100f911ecc5
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.5.3
                  date: 2020-06-02T16:59:27.552Z
                - commits:
                    - subject: Make the config module a singleton
                      hash: ff4a31a0e6269b823a04eeda2f433665617f583c
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Co-authored-by: Pagan Gazzard <page@balena.io>
                        co-authored-by: Pagan Gazzard <page@balena.io>
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.5.2
                  date: 2020-06-02T13:31:37.056Z
                - commits:
                    - subject: Remove unused dependencies and dedupe
                      hash: 6290993a79aa2231ac19bbe80a72af72cd8ae72e
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.5.1
                  date: 2020-06-01T08:52:49.304Z
                - commits:
                    - subject: Refactor device-state healthchecks to log reason for failure
                      hash: 5550a3a330b6a27addd940c185dc7d489cd89464
                      body: ""
                      footer:
                        Closes: "#1292"
                        closes: "#1292"
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.5.0
                  date: 2020-05-29T20:26:07.486Z
                - commits:
                    - subject: Update dependencies
                      hash: 1decd87c21de6c6b2baf7cb9a93141c8d097b874
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.4.17
                  date: 2020-05-29T18:26:52.490Z
                - commits:
                    - subject: Make the db module a singleton
                      hash: 1d7381327e3114c0d005316846429d26b01a3e4c
                      body: >
                        We were treating the database class as a singleton, but
                        still having to pass

                        around the db instance. Now we can simply require the db module and have

                        access to the database handle.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.4.16
                  date: 2020-05-29T14:03:57.770Z
                - commits:
                    - subject: Check for ApiError before using it as such
                      hash: 972b896c95daf1305468137aefe1e12ead0d59ee
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.4.15
                  date: 2020-05-26T13:47:47.339Z
                - commits:
                    - subject: check for 409 status code, rather than string matching uuid conflicts
                      hash: eaaa9c257e750295ab6d464a7e1d2578297df84f
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.4.14
                  date: 2020-05-21T19:01:36.060Z
                - commits:
                    - subject: Use safeStateClone to avoid call-stack exceeding errors
                      hash: 87278c0d8c56a9c05511db83499f7476efca0edd
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                  version: balena-supervisor-11.4.13
                  date: 2020-05-21T15:49:55.857Z
                - commits:
                    - subject: Improved handling of invalid appId in V2 state endpoint
                      hash: db7c27037cb3cc1e5f3ef8fbc676e0ee4a2ac0a1
                      body: ""
                      footer:
                        Closes: "#1294"
                        closes: "#1294"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                  version: balena-supervisor-11.4.12
                  date: 2020-05-19T14:58:36.939Z
                - commits:
                    - subject: Switch to balenaApi for the state patch as patching cannot be cached
                      hash: fb90042c3955e9a1a177076a711a12e226e0ab49
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-supervisor-11.4.11
                  date: 2020-05-18T18:20:33.615Z
          version: meta-balena-2.52.4
          date: 2020-07-09T16:05:22.280Z
        - commits:
            - subject: "systemd: Simplify zram swap unit dependencies to avoid ordering cycle"
              hash: 22a529014b649df8a9b4bf94fa9922d6d692e238
              body: >
                The default dependency:


                Before=swap.target


                Causes randomly appearing ordering cycles that leave the system in not

                functioning states.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
          version: meta-balena-2.52.3
          date: 2020-07-09T08:03:52.827Z
        - commits:
            - subject: "kernel-resin: Make USB_SERIAL and USB_SERIAL_GENERIC built-ins"
              hash: 32c3f173fa4b8dc69f5ce8dc404d36585ab94c5b
              body: >
                These variables are defined as a bool and not tristate so they
                cannot be

                configured as a module.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: "kernel-resin: Fix configuration warnings from newer kernels"
              hash: 819b7276aaa7ac4b4492fb9800ea074085c1ca82
              body: >
                Also, make the security section not checked by the builder as
                these

                configurations have disappeared from kernels > v4.8
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: "kernel-resin: Update balena kernel configuration for updated engine"
              hash: f57846a1246e8fff506c95ee22c3347d83a5ec2e
              body: >
                Also, move configuration that will not be present in newer
                kernels to

                RESIN_CONFIGS_DEP so the kernel check task does not complain when not

                present.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
          version: meta-balena-2.52.2
          date: 2020-07-06T09:57:46.257Z
        - commits:
            - subject: Fix up UUID variable when communicating with API
              hash: 270c13c678d6dd67b5163063c8e8d9148c9a22e0
              body: ""
              footer:
                HQ: https://github.com/balena-io/balena-io/issues/2227
                hq: https://github.com/balena-io/balena-io/issues/2227
                Changelog-entry: Fix up UUID variable when communicating with API
                changelog-entry: Fix up UUID variable when communicating with API
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
          version: meta-balena-2.52.1
          date: 2020-07-02T14:30:47.139Z
        - commits:
            - subject: Add compressed memory swap support
              hash: 157794a7ae5958b27152c642437c5c7fbe838364
              body: |
                Enable compressed swap using zram by default.

                Fixes #1908
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add compressed memory swap support
                changelog-entry: Add compressed memory swap support
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: "systemd-zram-swap: Add compressed memory swap support"
              hash: 4c5156543852a6c2d963bf33f4e4307a7cb303cb
              body: >
                This enables a compressed RAM swap of 25% of total system memory
                or 1GB,

                whichever smallest.


                Upstream Yocto has a zram implementation that's broken in warrior, and a

                new implementation introduced in Zeus that does not work in BalenaOS as

                we run two udevs, one in the initramfs and one in the main OS. The

                mkswap needs to happen in the initramfs udev otherwise the udev database

                is not updated with the swap device and the zram0 device is not detected

                by systemd.


                This implementation is simpler than the one upstream and common to all

                the supported Yocto versions. It uses a udev rule in the initramfs that

                creates the swap drive, and a swap unit in the main OS that enables it.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: "kernel-resin: Built-in zram configuration"
              hash: 2fcf092e08349bc66a2a90172668024e8a589d22
              body: >
                In preparation to using zram swap drives make this configuration
                built-in

                so it is available in the initramfs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
          version: meta-balena-2.52.0
          date: 2020-06-30T15:06:27.072Z
        - commits:
            - subject: "resin-ntp-config: merge 'burst' command with 'add server' line"
              hash: 034ff61a58f30a980514157412c0455b52ddf744
              body: >
                When the user supplies an additional NTP server source which is
                a

                pool URL the 'burst' command may fail. This occurs when the pool

                URL resolves to a different IP addresses for the 'add server' and

                'burst' commands.


                To avoid this issue we can combine the burst functionality into the

                'add server' command by using the 'iburst' option. Although this

                option is not documented by the chronyc man page it has been present

                since v1.25 released in 2011.


                This fix has been tested via the balenaOS (2.51.1+rev1) command line

                running on a RPi3.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: "#1903"
                connects-to: "#1903"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
          version: meta-balena-2.51.8
          date: 2020-06-30T11:03:07.814Z
        - commits:
            - subject: "resin-image: Install extra_uEnv.txt in boot partition"
              hash: e323d312f518d1ad50382a72182cb3bcb2afbd1a
              body: |
                Do so only for devices that use u-boot.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
          version: meta-balena-2.51.7
          date: 2020-06-25T11:34:26.632Z
        - commits:
            - subject: "initrdscripts: rootfs: Fix comparison to account for empty variable"
              hash: 63b3fac98b09f2a98ca44223f98cbc7c419197e3
              body: >
                Enclosing bootparam_root in between quotes makes the comparison
                work as

                expected with an empty argument.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
            - subject: Use UUID rather than ID when communicating with API
              hash: 9363bf9a0a634a5982b21870de08bc208d6e5f1f
              body: ""
              footer:
                Changelog-entry: Use UUID rather than ID when communicating with API
                changelog-entry: Use UUID rather than ID when communicating with API
                HQ: https://github.com/balena-io/balena-io/issues/2227
                hq: https://github.com/balena-io/balena-io/issues/2227
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
          version: meta-balena-2.51.6
          date: 2020-06-25T08:11:55.137Z
        - commits:
            - subject: Set chrony default servers as pools
              hash: 881e217ac1b1818237afb20312fd593259f44e2a
              body: >
                the `maxsources` directive is simply to maintain the current
                behavior of

                resolving four servers for synchronization. as noted in chrony's docs:


                > When a pool source is unreachable, marked as a falseticker, or has a distance larger than the limit set by the maxdistance directive, chronyd will try to replace the source with a newly resolved address from the pool.
              footer:
                Connects-to: "#1852"
                connects-to: "#1852"
                Change-type: patch
                change-type: patch
                Changelog-entry: Set chrony default servers as pools
                changelog-entry: Set chrony default servers as pools
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
          version: meta-balena-2.51.5
          date: 2020-06-18T14:02:47.372Z
        - commits:
            - subject: Generate nested changelogs for balena-engine
              hash: 16b4760bfe6958bacf67b00100ac5f8fc37fe6bd
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
          version: meta-balena-2.51.4
          date: 2020-06-15T15:27:55.173Z
        - commits:
            - subject: Revert allowing local resin-supervisor image updates
              hash: 1f689dbd57faf558dedf245462ed7c869a1aeb1a
              body: >
                The change this commit reverts allowed to update with a locally

                available image - but it also has the side effect of restarting the

                supervisor even if no update is required and that has unintentional

                consequences as https://github.com/balena-io/balena-supervisor/issues/1358


                This commit reverts 646e4ae809375f4abf35c55cd580e2c62a8812e2
              footer:
                Changelog-entry: Revert allowing local resin-supervisor image updates
                changelog-entry: Revert allowing local resin-supervisor image updates
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
          version: meta-balena-2.51.3
          date: 2020-06-10T10:22:46.347Z
  version: 2.53.9+rev1
  date: 2020-08-05T09:50:28.633Z
- commits:
    - subject: Update meta-balena from v2.48.0 to v2.51.2
      hash: be800d28bf5940b5c7d0e66a25f834ae31bcb6ec
      body: |
        Update the meta-balena submodule from 2.48.0 to 2.51.2
      footer:
        Changelog-entry: Update meta-balena from v2.48.0 to v2.51.2
        changelog-entry: Update meta-balena from v2.48.0 to v2.51.2
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update balena-yocto-scripts to v1.7.2
      hash: 3972dcc52e4f751da0431fed82b2114a032334a5
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.7.2
        changelog-entry: Update balena-yocto-scripts to v1.7.2
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.51.2+rev1
  date: 2020-06-09T08:08:56.343Z
- commits:
    - subject: Set private to false in .coffee files for the public device types
      hash: 34ea42d1cf8675a06dbef9ca72c272e621ce58b9
      body: ""
      footer:
        Changelog-entry: Set private to false in .coffee files for the public device types
        changelog-entry: Set private to false in .coffee files for the public device types
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.48.0+rev6
  date: 2020-05-12T08:02:17.446Z
- commits:
    - subject: Switch the BSP layer to master branch so we have kernel 5.4.18
      hash: f10a986eea7932097c1998e522da52a2bb97427b
      body: |
        We switch to this branch so that we have kernel version 5.4.18
      footer:
        Changelog-entry: Switch the BSP layer to master branch so we have kernel 5.4.18
        changelog-entry: Switch the BSP layer to master branch so we have kernel 5.4.18
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.48.0+rev5
  date: 2020-04-06T18:57:25.066Z
- commits:
    - subject: Update to warrior-21.0.3
      hash: 35f9c31fae74c463cff23d137e3bd383bc997d60
      body: |
        Amongst other things this fixes slow shutdown/reboot due to
        misconfiguration of the rngd systemd service.
      footer:
        Changelog-entry: Update to warrior-21.0.3
        changelog-entry: Update to warrior-21.0.3
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.48.0+rev4
  date: 2020-04-02T09:46:44.035Z
- commits:
    - subject: Add missing kernel module bluetooth dependency for NanoPi Neo Air
      hash: 7be1daa647b3b39197a7326984feaa0c8b1d06ee
      body: ""
      footer:
        Changelog-entry: Add missing kernel module bluetooth dependency for NanoPi Neo Air
        changelog-entry: Add missing kernel module bluetooth dependency for NanoPi Neo Air
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.48.0+rev3
  date: 2020-04-01T15:50:26.228Z
- commits:
    - subject: Enable bluetooth on NanoPi Neo Air
      hash: 82b17bc6bf1d36c675e14cc5be45b4b063f07d45
      body: |
        Also we delete since the changes there are already added by
        board-nanopiair-h3-camera-wifi-bluetooth-otg.patch
      footer:
        Changelog-entry: Enable bluetooth on NanoPi Neo Air
        changelog-entry: Enable bluetooth on NanoPi Neo Air
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.48.0+rev2
  date: 2020-04-01T11:26:57.056Z
- commits:
    - subject: Update balena-yocto-scripts to v1.5.6
      hash: c81973e54ab243681a112d5e407d8fbd63030703
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.5.6
        changelog-entry: Update balena-yocto-scripts to v1.5.6
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Update meta-balena from v2.46.1 to v2.48.0
      hash: d445a0e8fd019eda987f911e7dfe935d7e3548dd
      body: |
        Update the meta-balena submodule from 2.46.1 to 2.48.0
      footer:
        Changelog-entry: Update meta-balena from v2.46.1 to v2.48.0
        changelog-entry: Update meta-balena from v2.46.1 to v2.48.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.48.0+rev1
  date: 2020-03-27T15:50:06.334Z
- commits:
    - subject: Remove unnecessary override of IMAGE_ROOTFS_MAXSIZE
      hash: 2a951de1058546dc119b9ae8c64bdc9a61ed7a55
      body: |
        This is unnecessary since 2.47+

        See https://github.com/balena-os/meta-balena/pull/1813 for more detail
      footer:
        Changelog-entry: Remove unnecessary override of IMAGE_ROOTFS_MAXSIZE
        changelog-entry: Remove unnecessary override of IMAGE_ROOTFS_MAXSIZE
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.46.1+rev5
  date: 2020-03-27T15:04:49.413Z
- commits:
    - subject: Update meta-rust to include 1.36
      hash: afb93d116db0fb8eb05486acdef2e18ede2bad67
      body: ""
      footer:
        Changelog-entry: Update meta-rust to include 1.36
        changelog-entry: Update meta-rust to include 1.36
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.46.1+rev4
  date: 2020-03-10T13:51:23.727Z
- commits:
    - subject: Change the state to 'released' in the coffee file
      hash: c092d9dcc0559fb9fc90a7ce80e4cf3205a02cc7
      body: |
        Change the state field to 'released'
        instead of 'experimental' for all the
        non-community boards
      footer:
        Changelog-entry: Change the state to 'released' in the coffee file
        changelog-entry: Change the state to 'released' in the coffee file
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
  version: 2.46.1+rev3
  date: 2020-01-15T14:23:30.336Z
- commits:
    - subject: Add wifi kernel configs in linux-mainline_%bbappend
      hash: 9dd20d1c02da420891e6c45e0560b42616efb1c3
      body: |
        Add the wifi kernel config values to
        have the wlan0 interface created
      footer:
        Changelog-entry: Add wifi kernel configs in linux-mainline_%bbappend
        changelog-entry: Add wifi kernel configs in linux-mainline_%bbappend
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
  version: 2.46.1+rev2
  date: 2020-01-13T09:52:34.751Z
- commits:
    - subject: Update meta-balena from 2.45.1 to 2.46.1
      hash: 8c494f8aee1f3b5e9291248284650ced3e18d147
      body: |
        Update the meta-balena submodule from
        v2.45.1 to v2.46.1
      footer:
        Changelog-entry: Update meta-balena from 2.45.1 to 2.46.1
        changelog-entry: Update meta-balena from 2.45.1 to 2.46.1
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
  version: 2.46.1+rev1
  date: 2020-01-09T21:54:08.752Z
- commits:
    - subject: Add remaining Netflix patches
      hash: 73f0a8828e259476a030c2f3ae041894a089e32e
      body: >
        Add remaining patches for multiple TCP-based remote denial

        of service vulnerabilities identified by Netflix.

        Patch source:

        https://github.com/Netflix/security-bulletins/blob/master/advisories/third-party/2019-001.md
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add remaining Netflix patches
        changelog-entry: Add remaining Netflix patches
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
  version: 2.45.1+rev3
  date: 2020-01-08T10:22:55.237Z
- commits:
    - subject: Ensure license is present repo root
      hash: 4af3865e286243bf0ab42274d537c0f1fe70ec24
      body: |
        This is also present in the meta-balena-allwiner
        layer as COPYING.Apache-2.0
      footer:
        Changelog-entry: Ensure license is present repo root
        changelog-entry: Ensure license is present repo root
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.45.1+rev2
  date: 2019-12-17T15:53:57.539Z
- commits:
    - subject: Update meta-balena from v2.44.0 to v2.45.1
      hash: d7f2ceb4848cfc293a10e7d6cac89f6942abc4ee
      body: |
        Update meta-balena from 2.44.0 to 2.45.1
      footer:
        Changelog-entry: Update meta-balena from v2.44.0 to v2.45.1
        changelog-entry: Update meta-balena from v2.44.0 to v2.45.1
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: Fix for a race condition where occasionally the supervisor might not be
                able to come up during boot. Also can be caused by using
                io.balena.features.balena-socket and app container restart
                always policy. Affects meta-balena 2.44.0 and 2.45.0. To be
                fixed in 2.44.1 and 2.46.0
              hash: 7cf43d9f939b1d960cb677c48ca9f91b668d2dc3
              body: |
                Fixes #1748
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix for a race condition where occasionally the supervisor
                  might not be able to come up during boot. Also can be caused
                  by using io.balena.features.balena-socket and app container
                  restart always policy. Affects meta-balena 2.44.0 and 2.45.0.
                  To be fixed in 2.44.1 and 2.46.0
                changelog-entry: Fix for a race condition where occasionally the supervisor
                  might not be able to come up during boot. Also can be caused
                  by using io.balena.features.balena-socket and app container
                  restart always policy. Affects meta-balena 2.44.0 and 2.45.0.
                  To be fixed in 2.44.1 and 2.46.0
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Rename resin to balena where possible
              hash: 02a932405705ce28fca6137cfae16fab5bc952fb
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Add leading new line for PACKAGE_INSTALL variable
              hash: e79c470b3eaa8d6e763103fa20858fbed61ff292
              body: >
                Without the leading space, the last package name

                of the PACKAGE_INSTALL variable from other recipes,

                is concatenated with the one added in this recipe resulting

                in the following error

                opkg_prepare_url_for_install

                Couldn't find anything to satisfy

                'kernel-module-sdhci-pciinitramfs-module-console-null-workaround'
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add leading new line for PACKAGE_INSTALL variable
                changelog-entry: Add leading new line for PACKAGE_INSTALL variable
                Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
                signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
              author: Vicentiu Galanopulo
            - subject: Set `net.ipv4.ip_local_port_range` to recommended range (49152-65535)
              hash: 8ef6a5b56a2b7ba43081a0f30f99d6f736015533
              body: ""
              footer:
                Connects-to: "#1726"
                connects-to: "#1726"
                Change-type: patch
                change-type: patch
                Changelog-entry: Set `net.ipv4.ip_local_port_range` to recommended range
                  (49152-65535)
                changelog-entry: Set `net.ipv4.ip_local_port_range` to recommended range
                  (49152-65535)
                Signed-off-by: Will Boyce <will@balena.io>
                signed-off-by: Will Boyce <will@balena.io>
              author: Will Boyce
            - subject: No user impact, subtle fix in rollback version checks
              hash: 38717507b93962d199e07d9093382b8db4ec5d81
              body: >
                ESR releases have the VERSION string in /etc/os-release in a
                date

                format. 2019.10.0 etc.

                We added META_BALENA_VERSION in os-release from v2.38.0 via

                b0e0c77a26f3fad51e2923ab416fdd2af2a5a033


                Lets use META_BALENA_VERSION if available for our os version checks.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: No user impact, subtle fix in rollback version checks
                changelog-entry: No user impact, subtle fix in rollback version checks
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.45.1
          date: 2019-11-21T16:48:38.743Z
        - commits:
            - subject: Increase persistent journal size to 32M
              hash: ad77ca2402f41fec5b730d556006ef5e86bdacd5
              body: ""
              footer:
                Connects-to: "#1646"
                connects-to: "#1646"
                Change-type: patch
                change-type: patch
                Changelog-entry: Increase persistent journal size to 32M
                changelog-entry: Increase persistent journal size to 32M
                Signed-off-by: Will Boyce <will@balena.io>
                signed-off-by: Will Boyce <will@balena.io>
              author: Will Boyce
            - subject: Move persistent logs from state to data partition
              hash: f69ff379ffac39dffcc126ac374b50533dcdef31
              body: ""
              footer:
                Connects-to: "#1646"
                connects-to: "#1646"
                Change-type: minor
                change-type: minor
                Changelog-entry: Move persistent logs from state to data partition
                changelog-entry: Move persistent logs from state to data partition
                Signed-off-by: Will Boyce <will@balena.io>
                signed-off-by: Will Boyce <will@balena.io>
              author: Will Boyce
            - subject: Add wpa-supplicant recipe and update to v2.9
              hash: 139f76b73918e12aa8082896a7a017d2ad5df739
              body: >
                Fetched from
                http://cgit.openembedded.org/openembedded-core/commit/meta/recipes-connectivity/wpa-supplicant?id=95507898ad6a7b88c83ef376c1cb8b3b3a685c96
              footer:
                Connects-to: "#1711"
                connects-to: "#1711"
                Change-type: patch
                change-type: patch
                Changelog-entry: Add wpa-supplicant recipe and update to v2.9
                changelog-entry: Add wpa-supplicant recipe and update to v2.9
                Signed-off-by: Will Boyce <will@balena.io>
                signed-off-by: Will Boyce <will@balena.io>
              author: Will Boyce
            - subject: Improve robustness by making variou services restart if they stop for
                some reason
              hash: 074f42aeaf98d2ede68a29d7f7d97cd17dc61f15
              body: >
                The default behaviour is Restart=on-abort inherited from
                upstream.

                Lets make it Restart=always


                Fixes #1702
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Improve robustness by making variou services restart if they
                  stop for some reason
                changelog-entry: Improve robustness by making variou services restart if they
                  stop for some reason
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Build net/dummy as module
              hash: ffd5bd2183ca1ea4d3f62bae118b7269b8280002
              body: |
                Add dummy net driver support, which is used to
                check if a container is privileged during
                udev initialization.

                Building it as module ensures that dummy
                devices are not needlessly created during boot.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Build net/dummy as module
                changelog-entry: Build net/dummy as module
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
          version: meta-balena-2.45.0
          date: 2019-10-30T14:34:36.798Z
  version: 2.45.1+rev1
  date: 2019-12-17T08:32:08.895Z
- commits:
    - subject: Update balena-yocto-scripts to v1.5.2
      hash: 0b2e0ec97bb8bf02964f6445b4f945ce9ba0b778
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.5.2
        changelog-entry: Update balena-yocto-scripts to v1.5.2
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.44.0+rev3
  date: 2019-11-19T14:27:25.546Z
- commits:
    - subject: U-boot patches fixup
      hash: e32f34f65ba46888c6cd8cc0a22c6b87040e8cda
      body: |
        The eMMC patch has been removed because it applies
        from meta-sunxi.
        The resin-kconfig-integration patch has been removed
        and a re-worked version of it has been applied.
      footer:
        Changelog-entry: U-boot patches fixup
        changelog-entry: U-boot patches fixup
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
    - subject: Add configs in the kernel to enable configfs
      hash: 7954383391a8c6d3befc53ed6a1f483a69d8c73b
      body: |
        Customer requested i2c and UART enabled on the orange pi
        zero. The directory /sys/kernel/config/device-tree
        which is used to add overlays at runtime is not present
        in the file system.
        This patch enables configfs and generation of the needed
        directory.
      footer:
        Changelog-entry: Add configs in the kernel to enable configfs
        changelog-entry: Add configs in the kernel to enable configfs
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
  version: 2.44.0+rev2
  date: 2019-10-31T12:28:24.480Z
- commits:
    - subject: Rename re-worked patch to have it applied
      hash: bd839185ede9d71eb7cc439361fa3c6736a7a47b
      body: |
        A patch removed with SRC_URI_remove and re-worked was not
        applying (no output error, the behavior is as it doesn't
        exist), because the re-worked patch had the same name
        as the removed one.

        Remove 0001-nanopi_neo_air_defconfig-Enable-eMMC-support.patch.
        This patch exists in meta-sunxi and it applies over
        versions of u-boot.2018.09
      footer:
        Changelog-entry: Rename re-worked patch to have it applied
        changelog-entry: Rename re-worked patch to have it applied
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
    - subject: Update meta-balena from v2.41.1 to v2.44.0
      hash: 585566fa269acaa90610cef4ae0daf206bbbd83f
      body: |
        Update meta-balena from 2.41.1 to 2.44.0
      footer:
        Changelog-entry: Update meta-balena from v2.41.1 to v2.44.0
        changelog-entry: Update meta-balena from v2.41.1 to v2.44.0
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
      nested:
        - commits:
            - subject: Make uboot dev images autoboot delay build time configurable. Default
                is no delay
              hash: ff9e5c26ce7caa694725d7009943db0713655be6
              body: >
                Customers usually don't need this delay during u-boot. Also in
                some

                cases, hardware attached on the uart pins might pause uboot preventing

                customers from using dev images easily.


                But we do need this delay during our development work on bsps etc.


                Lets make this autoboot delay build time configurable


                Also make the BOOTDELAY -2 which is better than 0 as that completely

                prevents any char on serial from interrupting boot.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Make uboot dev images autoboot delay build time configurable.
                  Default is no delay
                changelog-entry: Make uboot dev images autoboot delay build time configurable.
                  Default is no delay
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Reduce systemd logging level from info to notice
              hash: 9e8f949c561b4e904f2e492e0267923b73782c4c
              body: |
                Reduces redundant logs.

                Fixes #1691
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Reduce systemd logging level from info to notice
                changelog-entry: Reduce systemd logging level from info to notice
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "resin-supervisor: Expose container ID via env variable"
              hash: 27d76cd9441ad427342f53b7e5b865129dd05557
              body: >
                The supervisor needs to know its container ID on the context of
                different

                engine objects cleanup tasks, so it can understand what objects are

                related to itself.


                Depends on gh-1679

                See also

                - balena-io/balena-supervisor#1038

                - balena-os/balena-engine#174

                - balena-os/balena-engine-cli#8
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Roman Mazur <roman@balena.io>
                signed-off-by: Roman Mazur <roman@balena.io>
              author: Roman Mazur
            - subject: "kernel-devsrc: Copy vdso.lds.S file in source archive if available"
              hash: 70bb9f53e5a50703050c45411c3a63906c17bf42
              body: >
                Necessary to avoid error:

                "No rule to make target 'arch/arm64/kernel/vdso/vdso.lds', needed

                by 'arch/arm64/kernel/vdso/vdso.so.dbg'"

                when doing "make  modules_prepare"
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "kernel-devsrc: Copy vdso.lds.S file in source archive if
                  available"
                changelog-entry: "kernel-devsrc: Copy vdso.lds.S file in source archive if
                  available"
                Signed-off-by: Sebastian Panceac <sebastian@balena.io>
                signed-off-by: Sebastian Panceac <sebastian@balena.io>
              author: Sebastian Panceac
            - subject: Disable PasswordAuthentication in sshd in production images as an extra
                precautionary measure.
              hash: 67bff0700e921a8adbceb4a3b77af2ed39415fa8
              body: >
                PasswordAuthentication defaults to yes. Make it no for
                production

                images.


                Fixes #1678


                Also some whitespace fixes.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Disable PasswordAuthentication in sshd in production images as
                  an extra precautionary measure.
                changelog-entry: Disable PasswordAuthentication in sshd in production images as
                  an extra precautionary measure.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-engine to 18.9.10
              hash: 9fa56fef4b2b34671951a09e241bb2623dd6d96c
              body: >
                Includes feature to populate container environment with
                container id

                variable and bug fix for tagging deltas on the fly.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-engine to 18.9.10
                changelog-entry: Update balena-engine to 18.9.10
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
            - subject: "hostapp-update-hooks: Filter out automount for inactive sysroot"
              hash: 894a3b1e2ae705efe9267bab226886c58ad646a7
              body: |
                'findmnt' returns both systemd-1 and the correct TARGET.
                No failure is currently observed because this two line output
                is filtered trough 'basename'.

                Use ext4 FSTYPE to filter out the automount with SOURCE
                "systemd-1" when determining the new parition label
                in the u-boot update hook, just like we do for grub.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
            - subject: Add support for hooks 2.0 enabling finer granularity during HostOS
                updates.
              hash: 0d33e5a82cab1fa58729d9a9ce7ea37be05cacc3
              body: |
                Add support for hooks 2.0
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add support for hooks 2.0 enabling finer granularity during
                  HostOS updates.
                changelog-entry: Add support for hooks 2.0 enabling finer granularity during
                  HostOS updates.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-supervisor to v10.3.7
              hash: 4562d35527c1b0087c7e55af30de8ab6eb1aa990
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v10.3.7
                changelog-entry: Update balena-supervisor to v10.3.7
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Add support for balena cloud SSH public keys
              hash: 76e774ff132d7cf23a729c3d587c9fd1354a969f
              body: >
                When we have an API endpoint and key, we can query the API to
                get the

                user public keys and use them to try to authenticate over SSH.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add support for balena cloud SSH public keys
                changelog-entry: Add support for balena cloud SSH public keys
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Map any user to root using libnss-ato
              hash: 55ba5767199205ee945a5e69152a28e023e35397
              body: >
                This module was included to be able to map any user to root.
                This

                is required by the balena-cloud backend.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Map any user to root using libnss-ato
                changelog-entry: Map any user to root using libnss-ato
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Add option to disable kernel headers from being built.
              hash: 1f5940898a654c770858f802ea978ddb986082f4
              body: >
                These can take quite a bit of build time. Add an option to
                disable

                the recipes from being built.


                Fixes #1659
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add option to disable kernel headers from being built.
                changelog-entry: Add option to disable kernel headers from being built.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.44.0
          date: 2019-10-03T06:28:45.031Z
        - commits:
            - subject: Update NetworkManager to 1.20.2
              hash: bcb6d85cc3b75d2f41a64fc9a6e0e15b428040f1
              body: |
                Fixes #1660
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update NetworkManager to 1.20.2
                changelog-entry: Update NetworkManager to 1.20.2
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Update ModemManager to 1.10.6
              hash: f6c82203c1a8f0613a900ce9d8ce749087fab99d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update ModemManager to 1.10.6
                changelog-entry: Update ModemManager to 1.10.6
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
          version: meta-balena-2.43.0
          date: 2019-09-13T15:33:28.973Z
        - commits:
            - subject: A small fix in initramfs when /dev/console is invalid due to whatever
                reason
              hash: b5574aeb86ea6b6763f1c25c4b53a45d3e207eb5
              body: >
                We would just check for the existence of console=null in kernel
                cmdline


                A better way would be to check the presence of a valid symlink for fd0,

                fd1 and fd2. And assign them to /dev/null if unavailable.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: A small fix in initramfs when /dev/console is invalid due to
                  whatever reason
                changelog-entry: A small fix in initramfs when /dev/console is invalid due to
                  whatever reason
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Add automated testing for external kernel module header tarballs
              hash: aef272d20b471308790bfa63426f73a3ce334884
              body: >
                We'd like to run a simple hello-world external module build test
                using

                the headers we have generated. This recipe does that in a docker

                container
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add automated testing for external kernel module header
                  tarballs
                changelog-entry: Add automated testing for external kernel module header
                  tarballs
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Make sure correct utsrelease.h is packaged
              hash: 5f9717081524d475009f5bf9277b30bf29c1c371
              body: >
                It was observed that on some machines (Variscite mx8m) the

                utsrelease.h header is regenerated with incomplete content when

                running "make prepare0" (utsrelease.h will not contain the short

                git revision although the kernel's abiversion includes it and

                as such the external modules built using this utsrelease.h header

                will fail to load because of this mismatch).
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Make sure correct utsrelease.h is packaged
                changelog-entry: Make sure correct utsrelease.h is packaged
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Fix a bug where application containers with new systemd versions were
                failing to start in cases. Switch to systemd cgroup driver in
                balenaEngine
              hash: a79f18a3e094721d1fc134afbae7a4773b697414
              body: >
                The default driver is cgroupfs. We switch to systemd so that
                there is

                one cgroup manager in our OS.


                Otherwise, systemd will have its own cgroup manager and cgroupfs will

                be another cgroup manager via balenaEngine daemon.


                Fixes #1645 which contains more information
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Fix a bug where application containers with new systemd
                  versions were failing to start in cases. Switch to systemd
                  cgroup driver in balenaEngine
                changelog-entry: Fix a bug where application containers with new systemd
                  versions were failing to start in cases. Switch to systemd
                  cgroup driver in balenaEngine
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.42.0
          date: 2019-09-13T08:06:05.129Z
  version: 2.44.0+rev1
  date: 2019-10-29T14:40:27.469Z
- commits:
    - subject: Add overlays for orange-pi-zero
      hash: e8b524b74d4eb5d68f9a037235ef8683126e1730
      body: >
        Update the RESIN_BOOT_PARTITION_FILES of resin-image.inc and
        KERNEL_DEVICETREE

        of linux-mainline_%.bbappend for the orange-pi-zero machine.
      footer:
        Changelog-entry: Add overlays for orange-pi-zero
        changelog-entry: Add overlays for orange-pi-zero
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
  version: 2.41.1+rev9
  date: 2019-10-24T18:04:03.282Z
- commits:
    - subject: Update balena-yocto-scripts to v1.4.0
      hash: 1a0a46bbaf58023ff1457bc0a5cdcc75bea76159
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.4.0
        changelog-entry: Update balena-yocto-scripts to v1.4.0
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.41.1+rev8
  date: 2019-10-21T18:53:57.639Z
- commits:
    - subject: Checkout to warrior-21.0.1 tag
      hash: 43735734e119924662378d434de0a1f84cca8e2a
      body: |
        The poky submodule was on the warrior branch
        but not on the latest warrior tag
      footer:
        Changelog-entry: Checkout to warrior-21.0.1 tag
        changelog-entry: Checkout to warrior-21.0.1 tag
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
  version: 2.41.1+rev7
  date: 2019-10-17T09:32:41.275Z
- commits:
    - subject: Remove unused patches and cleanup
      hash: 7d5f1dbda1bba54af7446d5f7c18c55ad8098734
      body: >
        Some patches were part of other linux-mainline

        kernel versions but are not anymore part of the

        current 4.19.76.


        Move 0001-Enable-uart3-for-NanoPi-Neo-Air-used-by-BT.patch

        in linux-mainline_4.19.76.bbappend to avoid error

        patching file arch/arm/boot/dts/sun8i-h3-nanopi-neo-air.dts

        Hunk #2 FAILED at 162.

        1 out of 2 hunks FAILED -- rejects in file arch/arm/boot/dts/sun8i-h3-nanopi-neo-air.dts


        Place all patches from Armbian in a separate directory and do all the Balena specific

        operations in linux-mainline_%.bbappend only.
      footer:
        Changelog-entry: Remove unused patches and cleanup
        changelog-entry: Remove unused patches and cleanup
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
  version: 2.41.1+rev6
  date: 2019-10-14T07:47:15.580Z
- commits:
    - subject: Remove linux-4.14 recipe
      hash: 72f50b158dd6c18620d08069088e3adafb649241
      body: |
        The linux-4.14 kernel is not built
        anymore by any of the supported Balena machines.
      footer:
        Changelog-entry: Remove linux-4.14 recipe
        changelog-entry: Remove linux-4.14 recipe
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
    - subject: Remove linux-mainline-4.17.3 recipe
      hash: 73dda90587f11bf9a65649fc03857d092f2c927e
      body: |
        The linux-mainline-4.17.3 kernel is not built
        anymore by any of the supported Balena machines.
      footer:
        Changelog-entry: Remove linux-mainline-4.17.3 recipe
        changelog-entry: Remove linux-mainline-4.17.3 recipe
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
  version: 2.41.1+rev5
  date: 2019-10-11T09:49:20.087Z
- commits:
    - subject: Update yocto versions in coffee files
      hash: addff7a145c49992aadcb678ab3bd8f35a9ecc3b
      body: |
        Update the yocto versions for all
        supported machines.
      footer:
        Changelog-entry: Update yocto versions in coffee files
        changelog-entry: Update yocto versions in coffee files
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
    - subject: Add orange-pi-lite svg icon
      hash: 96f2c8717325089bd278e15e6ec31400ded8187b
      body: |
        Jenkins build fails if no svg icon is found
      footer:
        Changelog-entry: Add orange-pi-lite svg icon
        changelog-entry: Add orange-pi-lite svg icon
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
    - subject: Update balena-allwiner config to using warrior
      hash: 0fc579c4583c0385d75b7bbe76a7630b39a8e586
      body: ""
      footer:
        Changelog-entry: Update balena-allwiner config to using warrior
        changelog-entry: Update balena-allwiner config to using warrior
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
    - subject: Update the poky submodule to warrior
      hash: 0d19af989db55e73eaf5fc7e4169a3acf50de342
      body: ""
      footer:
        Changelog-entry: Update the poky submodule to warrior
        changelog-entry: Update the poky submodule to warrior
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
  version: 2.41.1+rev4
  date: 2019-10-10T09:55:11.507Z
- commits:
    - subject: Update balena-yocto-scripts to v1.3.8
      hash: 4413dcf2d1b6a57a8d3a9d1d38baa5b2d615c196
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.3.8
        changelog-entry: Update balena-yocto-scripts to v1.3.8
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.41.1+rev3
  date: 2019-10-01T11:36:45.776Z
- commits:
    - subject: Update balena-yocto-scripts to v1.3.7
      hash: abde7b059859307c5c30b9680a2558a54319ab82
      body: ""
      footer:
        Changelog-entry: Update balena-yocto-scripts to v1.3.7
        changelog-entry: Update balena-yocto-scripts to v1.3.7
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.41.1+rev2
  date: 2019-09-13T16:13:12.151Z
- commits:
    - subject: Rename meta-resin to meta-balena in repository
      hash: a6654dc76da74bc55a6c2a8c06aada2cd8a221b6
      body: ""
      footer:
        Changelog-entry: Rename meta-resin to meta-balena in repository
        changelog-entry: Rename meta-resin to meta-balena in repository
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Change the poky submodule to our github mirror
      hash: 2301a06a1ca3f710d47c5c45dd6f6aa2d8c1e2a6
      body: |
        We do this change because we noticed frequent timeouts
        in different parts of our build infrastructure when pulling
        the poky repository from https://git.yoctoproject.org/git/poky
      footer:
        Changelog-entry: Change the poky submodule to our github mirror
        changelog-entry: Change the poky submodule to our github mirror
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update repo.yml to be able to trigger VersionBot with `meta-balena`
      hash: 9f6652db2ad57fb7af81dfc63f5b11e5a2380bc5
      body: ""
      footer:
        Changelog-entry: Update repo.yml to be able to trigger VersionBot with `meta-balena`
        changelog-entry: Update repo.yml to be able to trigger VersionBot with `meta-balena`
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update the balena-yocto-scripts submodule to v1.2.1
      hash: df89f1b51441f12b4d3c2bdb6e229bc6e96e0854
      body: ""
      footer:
        Changelog-entry: Update the balena-yocto-scripts submodule to v1.2.1
        changelog-entry: Update the balena-yocto-scripts submodule to v1.2.1
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update the meta-balena submodule from v2.33.0 to v2.41.1
      hash: 001323e134b470739dfd7d6727e6b826d03e4c2c
      body: |
        Update meta-balena from 2.33.0 to 2.41.1
      footer:
        Changelog-entry: Update the meta-balena submodule from v2.33.0 to v2.41.1
        changelog-entry: Update the meta-balena submodule from v2.33.0 to v2.41.1
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested:
        - commits:
            - subject: Update ModemManager to version 1.10.4
              hash: 6f300a3fc01521ceadd3f8a50c9157d070525dde
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update ModemManager to version 1.10.4
                changelog-entry: Update ModemManager to version 1.10.4
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Fix for some innocous systemd tmpfile warnings /var/run -> /run ones
              hash: 25bb6364dfff2a65d7f53f71a35ef74f24f7d7a9
              body: >
                Otherwise systemd complains:

                localhost systemd-tmpfiles[525]: [/etc/tmpfiles.d/balena-tmpfiles.conf:1] Line references path below legacy directory /var/run/, updating /var/run/docker.pid → /run/docker.pid; please update the tmpfiles.d/ drop-in file accordingly.

                localhost systemd-tmpfiles[525]: [/etc/tmpfiles.d/balena-tmpfiles.conf:2] Line references path below legacy directory /var/run/, updating /var/run/balena.pid → /run/balena.pid; please update the tmpfiles.d/ drop-in file accordingly.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix for some innocous systemd tmpfile warnings /var/run -> /run
                  ones
                changelog-entry: Fix for some innocous systemd tmpfile warnings /var/run -> /run
                  ones
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Fix for rollbacks where the inactive partition mount was unavailable
                when altboot triggered
              hash: 856a3d1ad8dbf3b7a87689bbedac23c9148b3d79
              body: >
                PR #1441 changed mnt-sysroot-inactive to an automount. But there
                is no

                way to easily add a udev dependency to the automount. As a result,

                when rollbacks tries to access the inactive partition, it fails.

                Let's add systemd-udev-settle.service to the rollback services.


                This will only delay the first boot after a HUP which is reasonable.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix for rollbacks where the inactive partition mount was
                  unavailable when altboot triggered
                changelog-entry: Fix for rollbacks where the inactive partition mount was
                  unavailable when altboot triggered
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "kernel-resin: Enable FTDI USB-serial convertors driver"
              hash: 40616a274cd7f055397b5acda0fdd6540e797410
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Sebastian Panceac <sebastian@balena.io>
                signed-off-by: Sebastian Panceac <sebastian@balena.io>
              author: Sebastian Panceac
          version: meta-balena-2.41.1
          date: 2019-09-03T13:27:47.892Z
        - commits:
            - subject: Fix a hang in initramfs for warrior production images
              hash: 4c44265a7dd13760a89c235068500bf6f315f651
              body: >
                When `console=null` is passed in the kernel cmdline for
                production

                images, the system doesn't boot. Traced to initramfs not starting any

                process such as udev with the right file descripters for 0,1,2


                Add workaround for that issue. This got exposed with a systemd bump.

                More details here https://github.com/systemd/systemd/issues/13332
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix a hang in initramfs for warrior production images
                changelog-entry: Fix a hang in initramfs for warrior production images
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-engine to 18.09.8
              hash: 9bcd0ffcc7d6efde45f2bc1eaeaafe1092374c40
              body: |
                Includes improvements and fixes to the journald logdriver
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update balena-engine to 18.09.8
                changelog-entry: Update balena-engine to 18.09.8
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
            - subject: Avoid overlayfs mounts in poky's volatile-binds
              hash: b7b6163d955a3bf76a1759b60ed82ccc5fcce6d0
              body: >
                Our root filesystem is overlayfs or aufs. When latter, the
                system

                crashes when reading a lower directory file. We avoid this by always

                falling back to copy and mount (as if overlayfs is not available).


                Fixes #1618
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Avoid overlayfs mounts in poky's volatile-binds
                changelog-entry: Avoid overlayfs mounts in poky's volatile-binds
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
          version: meta-balena-2.41.0
          date: 2019-08-22T14:25:04.139Z
        - commits:
            - subject: Update balena-supervisor to v10.2.2
              hash: 3afbe138f115fa15611cb823caa6664dbb093a8b
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v10.2.2
                changelog-entry: Update balena-supervisor to v10.2.2
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Workaround for a cornercase bug in PersistentLogging where journalctl
                filled the state partition. Vacuum the journal on boot.
              hash: 8284da08f245ed6da8308d558bb8dfcc66de9691
              body: >
                We have found a rare corner case bug where the journal bloats
                beyond

                its limit and fills the state partition. Triggering a vacuum on reboot

                helps a bit in case the device is restarted to recover its function.


                Fixes #1423
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Workaround for a cornercase bug in PersistentLogging where
                  journalctl filled the state partition. Vacuum the journal on
                  boot.
                changelog-entry: Workaround for a cornercase bug in PersistentLogging where
                  journalctl filled the state partition. Vacuum the journal on
                  boot.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.40.0
          date: 2019-08-14T09:40:49.562Z
        - commits:
            - subject: "usb-modeswitch-data: Switch Huawei E3372 12d1:1f01 to mbim mode"
              hash: bb672725f4460402af64ecb7d74d33526f5ed7c1
              body: |
                Customer reported Huawei E3372 not working
                anymore starting with balenaOS v2.32.
                The fix for this appears to be switching the modem with
                vid and pid 12d1:1f01 from the cdc_ether legacy mode to
                the faster mbim mode and setting mtu=1460 in the modem
                connection file.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
            - subject: Fix rollback altboots to prevent good reboots by supervisor triggering
                rollback.
              hash: 7e5843d6542d13d278d2a42da2f787ada8bfa229
              body: >
                After a HUP, until rollbacks clears its state, the supervisor(or
                user)

                can trigger good reboots. These reboots might be seen by the bootloader

                as bad reboots.


                To prevent this from happening, add a service that clears the bootcount

                upon good reboots. This only runs if the rollback services have not

                cleared their flag files in the state partition.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Fix rollback altboots to prevent good reboots by supervisor
                  triggering rollback.
                changelog-entry: Fix rollback altboots to prevent good reboots by supervisor
                  triggering rollback.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Devices using u-boot. Remove any BOOTDELAY for production images. Add a
                2 seconds delay for development images
              hash: f50952f6e91541f4c07ef14612a71174b9417124
              body: >
                We'd like to split dev and prod uboot config fragments. Dev
                images can

                have a 2 second u-boot delay to facilitate debugging. While prod images

                shouldn't really pause at this stage of the boot.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Devices using u-boot. Remove any BOOTDELAY for production
                  images. Add a 2 seconds delay for development images
                changelog-entry: Devices using u-boot. Remove any BOOTDELAY for production
                  images. Add a 2 seconds delay for development images
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all devices.
                Required for rollbacks to work
              hash: 7051a1bda83d53e08148eea953ee2653fd915743
              body: >
                We'd like to enable some config options for all devices via
                meta-balena


                The support is mainline since warrior. Lets copy it in meta-balena

                to get it in the previous layers as well.


                We need CMD_SETEXPR to be enabled for rollbacks to work. So enable it

                via the config fragment
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all
                  devices. Required for rollbacks to work
                changelog-entry: Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all
                  devices. Required for rollbacks to work
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Devices using u-boot. Enable rollback-altboot by handling bootcount via
                meta-balena.
              hash: aa0a389ea92a71123813f291833fea61f4965164
              body: >
                U-boot has its own bootcount framework. However, that will
                require

                handling in each device type. We will use u-boot shell commands

                env import -t, env export -t, fatload, fatwrite

                to read/write/increment bootcount in env_resin.h.


                This will allow us to scale to lots of devices.


                A flag os_bootcount_skip is left for devices that are unable to support

                fatwrite in u-boot (in some rare cases). This will allow a device to

                not support rollback-altboot and still function.


                This patch requires that CMD_SETEXPR be enabled in u-boot config

                options.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Devices using u-boot. Enable rollback-altboot by handling
                  bootcount via meta-balena.
                changelog-entry: Devices using u-boot. Enable rollback-altboot by handling
                  bootcount via meta-balena.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY to reset
                a device in case it drops into a u-boot shell
              hash: 1f7ead33c284f4dc8e2a3d78b2a922a9b778e05c
              body: >
                We'd like to enable some options in all boards header files via

                meta-balena. This patch adds a task to include config_resin.h into

                config_default.h (which is included in all board header files).

                We can then add a config option via meta-balena that will be enabled for

                all devices.


                This patch enables CONFIG_RESET_TO_RETRY. If for whatever strange reason

                (accidental fs issue in u-boot etc), this will trigger a u-boot reset

                command the device in 15 seconds.


                Note This requires that the device's u-boot supports the reset command

                which it probably should.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY
                  to reset a device in case it drops into a u-boot shell
                changelog-entry: Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY
                  to reset a device in case it drops into a u-boot shell
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Remove confusing networkmanager https connectivity warning
              hash: fbdf643988e4aea76507139b2fc59ef7ad0132af
              body: >
                Fixes #1597


                The warning doesn't apply for our use case and confuses customers
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Remove confusing networkmanager https connectivity warning
                changelog-entry: Remove confusing networkmanager https connectivity warning
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Increase fs.inotify.max_user_instances to 512
              hash: a4f6c8591af9793935a9981a0f0c25fb7b957312
              body: |
                This defaults to 128. BoB hit the limit. Increase to 512
                Fixes #1592
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Increase fs.inotify.max_user_instances to 512
                changelog-entry: Increase fs.inotify.max_user_instances to 512
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-supervisor to v10.0.3
              hash: ad9bdc7236600eb4399761643b772eadd95df662
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v10.0.3
                changelog-entry: Update balena-supervisor to v10.0.3
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Fix balena hello-world healthcheck
              hash: e0826741f9a829f2af34afbc9bc1f9920f8ae4e6
              body: >
                We load the hello-world image after starting the balena daemon.

                ExecStartPost should run after the daemon is initialized but chaining a

                15 second sleep for good measure.


                We load the hello-world image here so that devices out in the field and

                on prem devices don't need to pull from dockerhub which would require

                external internet connectivity.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix balena hello-world healthcheck
                changelog-entry: Fix balena hello-world healthcheck
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Add nf_table kernel modules
              hash: 9bca94f29b29098c7177231ee3a9251f1d48dd32
              body: |
                Fixes #1589
                Also, debian buster defaults to requiring nf_tables
                rootfs size impact ~+310K
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add nf_table kernel modules
                changelog-entry: Add nf_table kernel modules
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "hostapp-update-hooks: Use correct source for inactive sysroot"
              hash: f13c837cdc9b1a106ea711785178fc397035ada7
              body: |
                Use ext4 FSTYPE to filter out automount with SOURCE
                "systemd-1" when determining the new parition label
                in the grub update hook.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
            - subject: Add extra healthcheck to balena service. It will spin up a hello-world
                container as well
              hash: 15169084fe9355e6be997712a614e383a71555c9
              body: >
                Occasionally balena ps and balena info work but the balena
                daemon is

                unable to start a new container. This is usually when something in runc

                or containerd is not functioning correctly.


                Add a healthcheck to spin up a simple hello-world container as well.


                The trade-off here is that there will be a few extra writes to disk

                every healthcheck timeout. But there will be a benefit that if runc

                or containerd is in a bad state, the healthcheck will fail and systemd

                will restart the balena daemon to recover the application container


                Fixes #1391
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add extra healthcheck to balena service. It will spin up a
                  hello-world container as well
                changelog-entry: Add extra healthcheck to balena service. It will spin up a
                  hello-world container as well
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-supervisor to v9.18.8
              hash: 41af8ba6ef5b234b819aa0181b7e14e476f68c43
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v9.18.8
                changelog-entry: Update balena-supervisor to v9.18.8
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: "image-resin.bbclass: fixed a typo"
              hash: 64a4fc9a7cff18a6dced9f352317761ced7dc563
              body: |
                Fixing a typo in the image size sanity check to ensure the
                correct calculation of FAT overhead sectors.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kylemharding@gmail.com>
                signed-off-by: Kyle Harding <kylemharding@gmail.com>
              author: Kyle Harding
            - subject: "kernel-resin: Add support for CH340 family of usb-serial adapters"
              hash: 941aef5490cf4a120f74cb243c3fbbd8911bcc49
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "kernel-resin: Add support for CH340 family of usb-serial
                  adapters"
                changelog-entry: "kernel-resin: Add support for CH340 family of usb-serial
                  adapters"
                Signed-off-by: Sebastian Panceac <sebastian@balena.io>
                signed-off-by: Sebastian Panceac <sebastian@balena.io>
              author: Sebastian Panceac
            - subject: "resin-proxy-config: add missing reserved ip ranges to default noproxy"
              hash: 49ed2ea12d495defe033be6f2a9e155ff2fc7875
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Will Boyce <will@balena.io>
                signed-off-by: Will Boyce <will@balena.io>
              author: Will Boyce
            - subject: Reduce data partition size from 1G to 192M
              hash: 2270940edfd32a4dd3a3670aa1fb62eb2557f706
              body: >
                The data partition contains the supervisor which is only about
                61M on

                the pi3. We compress the data partition later on so don't notice these

                zeros. But lets reduce the size of the data partition to eat less

                space whenever an uncompressed image is used anywhere. e.g. when

                extracting the zip to dd or using balena-migrate etc.


                The partition expands on first boot to fill the rest of the disk

                anyways.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Reduce data partition size from 1G to 192M
                changelog-entry: Reduce data partition size from 1G to 192M
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.39.0
          date: 2019-07-31T10:56:32.370Z
        - commits:
            - subject: "resin-proxy-config: fix up incorrect bash subshell command"
              hash: 0c8de756c22f635b2ef499848b724f1350f555b0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
          version: meta-balena-2.38.3
          date: 2019-07-10T08:16:25.713Z
        - commits:
            - subject: Update to kernel-modules-headers v0.0.20 to fix missing target modpost
                binary on kernel 5.0.3
              hash: 13bea65dd8201e91b65121ffc2d7bce5d41eedab
              body: |
                This version fixes the missing target modpost binary
                on kernel version 5.0.3.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update to kernel-modules-headers v0.0.20 to fix missing target
                  modpost binary on kernel 5.0.3
                changelog-entry: Update to kernel-modules-headers v0.0.20 to fix missing target
                  modpost binary on kernel 5.0.3
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Update to kernel-modules-headers v0.0.19 to fix target objtool compile
                issue on kernel 5.0.3
              hash: 10846e50674185b7c3126e45ad42f3927c822415
              body: >
                This version fixes the use of wrong fixdep binary (the bug makes
                it use

                target fixdep binary instead of cross fixdep binary) used for compiling

                the target objtool binary on kernel version 5.0.3.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update to kernel-modules-headers v0.0.19 to fix target objtool
                  compile issue on kernel 5.0.3
                changelog-entry: Update to kernel-modules-headers v0.0.19 to fix target objtool
                  compile issue on kernel 5.0.3
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
          version: meta-balena-2.38.2
          date: 2019-06-27T12:37:01.764Z
        - commits:
            - subject: Add warrior to compatible layers for meta-balena-common
              hash: 0ba0bc35ceeb78e03baebf79b738885d532734fc
              body: |
                In addition we delete krogoth and morty from the supported list
                as we also removed the actual layers from the repository.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add warrior to compatible layers for meta-balena-common
                changelog-entry: Add warrior to compatible layers for meta-balena-common
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Fix image-resin.bbclass to be able to use deprecated layers
              hash: 9e8fed3a7170040d4ba887bfd8fc018b97de5d12
              body: >
                Fixes #1564


                This bbclass uses the common layer path advertised by BBLAYERS to find

                the paths to different resources in board repository. For example

                machine json - to get the slug and advertise it in os-release. After

                renaming the common layer (resin to balena) and because we support old

                references to the old common layer name (by including a dummy

                deprecation layer), we need to make sure this class can cope now with

                both cases.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix image-resin.bbclass to be able to use deprecated layers
                changelog-entry: Fix image-resin.bbclass to be able to use deprecated layers
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Fix kernel-devsrc on thud when kernel version < 4.10
              hash: c4cd6307ac3ae86a8d34b91d9dc82b6d3310db9b
              body: >
                Thud breaks when building against kernel version < 4.10. This is
                a known

                issue which is fixed in poky warrior[1]. This patch includes a

                workaround for thud.


                [1] http://lists.openembedded.org/pipermail/openembedded-core/2019-February/278695.html
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix kernel-devsrc on thud when kernel version < 4.10
                changelog-entry: Fix kernel-devsrc on thud when kernel version < 4.10
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
          version: meta-balena-2.38.1
          date: 2019-06-20T12:30:28.452Z
        - commits:
            - subject: Fix VERSION_ID os-release to be semver complient
              hash: fecb50757c10e392d46dec6fd24360f778a87a43
              body: >
                Poky, following os-release(5), sanitizes VERSION_ID accordingly
                but in

                doing so it produces a nonisemver compliant version. For example:

                    VERSION="2.37.0+rev1"
                    VERSION_ID="2.37.0-rev1"

                This patch reverts that to make sure rev is a build tag.


                Fixes #1560
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix VERSION_ID os-release to be semver complient
                changelog-entry: Fix VERSION_ID os-release to be semver complient
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Introduce META_BALENA_VERSION in os-release
              hash: b0e0c77a26f3fad51e2923ab416fdd2af2a5a033
              body: >
                Since #1550, os-release doesn't reference meta-balena distro
                version anymore. Restore

                that by providing this information in a new variable called META_BALENA_VERSION.


                Fixes #1558
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Introduce META_BALENA_VERSION in os-release
                changelog-entry: Introduce META_BALENA_VERSION in os-release
              author: Andrei Gherzan
            - subject: Fix a case where changes to u-boot were not regenerating the config
                file at build time and using stale values.
              hash: b40271867c3249566775cfb870a6176bc47d503f
              body: >
                Currently once config_resin.h is generated, a change in these
                variables

                doesn't regenerate the file. Add vardeps so that bitbake can regenerate

                config_resin.h in case these variables are changed.


                Fixes #1530
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix a case where changes to u-boot were not regenerating the
                  config file at build time and using stale values.
                changelog-entry: Fix a case where changes to u-boot were not regenerating the
                  config file at build time and using stale values.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Use all.rp_filter=2 as the default value in balenaOS
              hash: 2fe90f3316a9394db0a060ec976d23fa97d4f00a
              body: >
                This change backports a PR[1] that is already in systemd and
                will come

                included by default from the version in Yocto warrior.


                In summary, with this change we fix newer NM which stopped handling

                rp_filter when connected to multiple interfaces. See "device: disable

                rp_filter handling" commit from NM. Without this change, only the

                default route will me usable and binding to a specific interface will

                break connectivity if that interface is not also the default route for

                the target IP.


                [1]https://github.com/systemd/systemd/pull/10971/commits/6caa14f763c11630f28d587b3caa5f0e6dc96165
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Use all.rp_filter=2 as the default value in balenaOS
                changelog-entry: Use all.rp_filter=2 as the default value in balenaOS
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Persist bluetooth storage data over reboots
              hash: 3815e42f24167c0ce84a39cf0653434bacb0bd88
              body: >
                Currently, bluez's storage data is set to /var/lib/bluetooth
                which

                in turn is a tmpfs location. We want this location persistent so we can

                save paired devices over reboot. We do that by adding the corresponding

                bind mount to the state partition and setting bluez to depend on this

                mount unit.


                Fixes #1544
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Persist bluetooth storage data over reboots
                changelog-entry: Persist bluetooth storage data over reboots
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Drop support for morty and krogoth Yocto versions
              hash: 85c1eda1eeade2e5d5a1153d9c737225de0b3ee2
              body: >
                We have been deprecating these layers since v2.30.0. It's time
                to drop

                this support completely.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Drop support for morty and krogoth Yocto versions
                changelog-entry: Drop support for morty and krogoth Yocto versions
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Add Yocto Warrior support
              hash: b86ee8945ba71ccdae9d7d0d52b2822db39d4c6a
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add Yocto Warrior support
                changelog-entry: Add Yocto Warrior support
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Set both VERSION_ID and VERSION in os-release to host OS version
              hash: 40347f618b3b70ccc5f40e924990197ae9fa7e6b
              body: >
                VERSION and VERSION_ID had a slightly different semantics in
                balenaOS.

                VERSION was referring to the BalenaOS (host OS) version (which is coming from

                device repositories) while VERSION_ID was set to the DISTRO_VERSION.

                This brings confusion so we change it to adhere to

                https://www.freedesktop.org/software/systemd/man/os-release.html.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Set both VERSION_ID and VERSION in os-release to host OS
                  version
                changelog-entry: Set both VERSION_ID and VERSION in os-release to host OS
                  version
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Bump balena-engine to 18.9.6
              hash: 3af08fe6d30b5f0f8148c6820cda1cca3076bf00
              body: >
                In preparation for warrior. Bumps containerd which works with
                the newer

                systemd in warrior.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Bump balena-engine to 18.9.6
                changelog-entry: Bump balena-engine to 18.9.6
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Downgrade balena-supervisor to v9.15.7
              hash: c3616e19967e30726048018161fd4763d3d45773
              body: >
                This is done because a feature
                (RESIN_SUPERVISOR_MIXPANEL_REPORT) needs

                more work before releasing in production.
              footer:
                Changelog-entry: Downgrade balena-supervisor to v9.15.7
                changelog-entry: Downgrade balena-supervisor to v9.15.7
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Switch from dropbear to openSSH
              hash: ef33f21cdb7283c6f62590b1fe3d37c7fbd4df99
              body: >
                This is done for the "AuthorizedKeysCommand" in openSSH which in
                turn is

                used by the balena backend.


                Fixes #1388
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Switch from dropbear to openSSH
                changelog-entry: Switch from dropbear to openSSH
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Rename meta-resin-common to meta-balena-common
              hash: db96dfc3864399a5029fa8e78bc7fe518f3ae63a
              body: |
                Follow the resin to balena rename on the common yocto layer.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Rename meta-resin-common to meta-balena-common
                changelog-entry: Rename meta-resin-common to meta-balena-common
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Add wifi firmware for rtl8192su
              hash: 875bd033eb400b6338c7c70417fcd78586a184cf
              body: |
                Fixes #1511
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add wifi firmware for rtl8192su
                changelog-entry: Add wifi firmware for rtl8192su
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-balena-2.38.0
          date: 2019-06-14T15:11:59.348Z
        - commits:
            - subject: Update balena-supervisor to v9.15.8
              hash: 4fcdf63860d17612ef10ff9c721b9f58c8b8c023
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v9.15.8
                changelog-entry: Update balena-supervisor to v9.15.8
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: "kernel-modules-headers: Update to v0.0.18"
              hash: 9c1fb61a96351c112b98544117b90c4986445516
              body: >
                This update includes an arch64 fix (module.lds) and one for
                passing the

                correct LD flags.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: "os-config: Update to v1.1.1 to fix mDNS"
              hash: 8d44decba7a252bfb4399622898d18e28367c4fa
              body: >
                os-config has a dependency on reqwest which broke mdns on 9.6.
                The new

                os-config updated this version to one that restored this functionality.


                Partially fixes: #1531
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Fix busybox nslookup mdns lookups
              hash: 157a06ad295a1f03635f8291dfc4dfe3358caa9c
              body: >
                Since 1.29, busybox switched to an internal implementation of
                the

                resolver based on a feature config, NSLOOKUP_BIG. This is enabled by

                default and it's meant to be musl compatible. In BalenaOS we use glibc

                and we rely on it for being able to resolve names using NSS modules

                (libmdns).
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix busybox nslookup mdns lookups
                changelog-entry: Fix busybox nslookup mdns lookups
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Update balena-supervisor to v9.15.4
              hash: a6e1c40853e4bad20de9172f688eb074f8d24b86
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v9.15.4
                changelog-entry: Update balena-supervisor to v9.15.4
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Improve logging and version comparison in linux-firmware cleanup class
              hash: 6500c7f020133833b820f9152c22b8e45794542c
              body: >
                This adds an easier to debug logging that shows both removed and
                kept

                firmwares. For example:

                 Cleaning iwlwifi firmware version 8000C to minimum API version 34.
                   Removing iwlwifi-8000C-13.ucode.
                   Removing iwlwifi-8000C-22.ucode.
                   Removing iwlwifi-8000C-21.ucode.
                   Removing iwlwifi-8000C-31.ucode.
                   Removing iwlwifi-8000C-16.ucode.
                   Removing iwlwifi-8000C-27.ucode.
                   Leaving iwlwifi-8000C-34.ucode in place.
                   Leaving iwlwifi-8000C-36.ucode in place.

                Also, this commit improves the version comparison which was comparing

                strings and not integers. Now we try integer comparison and fallback to

                string when parse fails.


                Finally, the task's vardeps expands varflags to correctly retrigger on

                change.


                Fixes #1527
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Improve logging and version comparison in linux-firmware
                  cleanup class
                changelog-entry: Improve logging and version comparison in linux-firmware
                  cleanup class
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Sync ModemManager recipe with upstream
              hash: e0be8f152c88a5635b5d18249c5f882caf9e31c5
              body: >
                We also pushed the latest update we did in BalenaOS to upstream:

                http://lists.openembedded.org/pipermail/openembedded-devel/2019-May/199743.html
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Sync ModemManager recipe with upstream
                changelog-entry: Sync ModemManager recipe with upstream
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Update NetworkManager to 1.18.0
              hash: 808f6f1790357b4f282a15cbb72c603ee77f63d3
              body: >
                Fixes #1492


                Pushed to upstream as well:

                http://lists.openembedded.org/pipermail/openembedded-devel/2019-May/199742.html
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update NetworkManager to 1.18.0
                changelog-entry: Update NetworkManager to 1.18.0
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
          version: meta-balena-2.37.0
          date: 2019-05-29T14:57:13.320Z
        - commits:
            - subject: Cleanup old versions of iwlwifi firmware files in Yocto Thud
              hash: 65122b0689d75d49b338595ec6813b1acad59223
              body: >
                This is done so we can save considerable amount of space on the
                root

                partition.


                See #810
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto Thud
                changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto Thud
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
          version: meta-balena-2.36.0
          date: 2019-05-20T13:07:11.168Z
        - commits:
            - subject: Update kernel-module-headers to version v0.0.16
              hash: 410311755dec70ba4040fcfbcb5ace59884b4644
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update kernel-module-headers to version v0.0.16
                changelog-entry: Update kernel-module-headers to version v0.0.16
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Add uboot support for unified kernel cmdline arguments
              hash: 35046288e2878f85e4bc33a0cb993e32d4d5aa9a
              body: >
                This adds set_os_cmdline which defines os_cmdline so that BSPs
                can

                import it in their bootargs and pass it to kernel accordingly. Also, as

                part of os_cmdline, there is an argument added when the booted image is

                a flasher. This can be used in the OS for various flasher specific

                checks.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add uboot support for unified kernel cmdline arguments
                changelog-entry: Add uboot support for unified kernel cmdline arguments
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Switch flasher detection in initramfs to flasher boot parameter
              hash: 93e3c7286c52c6f91bf4252338955f6d7fd97fc2
              body: |
                Fixes #1488
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Switch flasher detection in initramfs to flasher boot parameter
                changelog-entry: Switch flasher detection in initramfs to flasher boot parameter
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Update balena-supervisor to v9.15.0
              hash: b99419662683f44c09f4369424f450b90f9d0a5a
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v9.15.0
                changelog-entry: Update balena-supervisor to v9.15.0
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Improve boot speed by only mounting the inactive partition when needed
              hash: 28fc12ef94bc8e9a083bc5b1e8052fdb685453c2
              body: >
                The inactive partition is only needed for HUP or rollbacks. This
                commit

                changes the mnt-sysroot-inactive.service unit to an automount so that

                the partition is only mounted when used. This improves boot time.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Improve boot speed by only mounting the inactive partition when
                  needed
                changelog-entry: Improve boot speed by only mounting the inactive partition when
                  needed
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Fix openssl dependency of balena-unique-key
              hash: 2159c397b0560d03441806573e14bfbcf52a7e7b
              body: >
                Since yocto thud, and more specifically since poky switched to

                openssl 1.1 line, the openssl binary is provided by 'openssl-bin'. On

                that version, 'openssl' doesn't provide this binary making the uuid

                generation script fail.


                This patch makes 'openssl-bin' the default dependency but does that in a

                way that older yocto versions can overwrite it back to the old provider

                (openssl package).
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix openssl dependency of balena-unique-key
                changelog-entry: Fix openssl dependency of balena-unique-key
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Do not spawn getty in production images
              hash: 93b3298cbb343f3ebf3a03725f6f0298974bed8f
              body: |
                This code was deleted by commit
                9a8f1f1b744248964d4d1b2eb2c8dd732a753980 by mistake so let's
                add it back.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Do not spawn getty in production images
                changelog-entry: Do not spawn getty in production images
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
          version: meta-balena-2.35.0
          date: 2019-05-18T22:39:09.735Z
        - commits:
            - subject: Update balena-supervisor to v9.14.10
              hash: 70b9acb15806f0a276f80ab18e9f7ad4aa02d83b
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v9.14.10
                changelog-entry: Update balena-supervisor to v9.14.10
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: meta-balena-2.34.1
          date: 2019-05-14T10:20:59.175Z
        - commits:
            - subject: Add support to update a connectivity section in NetworkManager via
                config.json
              hash: 2585af4a34abcd6ced3dcd0c70913ef1cdfe019d
              body: >
                We'd like connectivity checking so that Network Manager can
                update

                route metrics for devices that have multiple network interfaces.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add support to update a connectivity section in NetworkManager
                  via config.json
                changelog-entry: Add support to update a connectivity section in NetworkManager
                  via config.json
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "systemd: Fix journald configuration file"
              hash: b1cc7829758969112aae599ea0b986624596b8c6
              body: >
                9a8f1f1b744248964d4d1b2eb2c8dd732a753980 switched to a config
                file

                fragment but when doing so the section was missed. This patch fixes

                that.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Add --max-download-attempts=10 to balenaEngine service to improve
                performance on shaky networks
              hash: c699d5c13cea6a525c9d6a54152c781bd3885ecc
              body: |
                This should improve performance on flaky connections.

                Fixes #1493
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add --max-download-attempts=10 to balenaEngine service to
                  improve performance on shaky networks
                changelog-entry: Add --max-download-attempts=10 to balenaEngine service to
                  improve performance on shaky networks
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-engine to 18.09.5
              hash: 0894326a372e14056fede8c7acda67fa83e39284
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update balena-engine to 18.09.5
                changelog-entry: Update balena-engine to 18.09.5
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Log initramfs messages to kernel dmesg to capture fsck, partition
                expand etc. command output
              hash: 580a6fb37f5c077d3c80957db02d7cfd3376fdc5
              body: >
                We run some operations in the initramfs. fsck, expand partitions
                etc.

                Any error messages or warnings printed here are invisible in production

                images. This line from debian initramfs-tools configures the initramfs

                shell to log all output in /dev/kmsg so the dmesg shows the output of

                initramfs commands as well.

                Fixes #1459
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Log initramfs messages to kernel dmesg to capture fsck,
                  partition expand etc. command output
                changelog-entry: Log initramfs messages to kernel dmesg to capture fsck,
                  partition expand etc. command output
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "kernel-resin: Add FAT fs specific configs to RESIN_CONFIGS"
              hash: a09550d9633eaba9b55ce2c98d9a43a5b52dfe6f
              body: |
                Add FAT fs specific configs, necessary to mount the
                boot partition
              footer:
                Change-type: minor
                change-type: minor
                Changlog-entry: Add FAT fs specific configs to RESIN_CONFIGS
                changlog-entry: Add FAT fs specific configs to RESIN_CONFIGS
                Signed-off-by: Sebastian Panceac <sebastian@balena.io>
                signed-off-by: Sebastian Panceac <sebastian@balena.io>
              author: Sebastian Panceac
            - subject: Update balena-supervisor to v9.14.9
              hash: 167164b41957981b67c90dd78a19073a2b231878
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v9.14.9
                changelog-entry: Update balena-supervisor to v9.14.9
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Introduce meta-balena yocto thud support
              hash: b2fea323b337bd6868f3f41b70f8bdb688b11bb8
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Introduce meta-balena yocto thud support
                changelog-entry: Introduce meta-balena yocto thud support
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Update os-config to 1.1.0
              hash: 0ff476e2724525b96e3d72fc00d22423af2d6cb4
              body: >
                This version includes rust 1.33 support which we use in balenaOS.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update os-config to 1.1.0
                changelog-entry: Update os-config to 1.1.0
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
          version: meta-balena-2.34.0
          date: 2019-05-10T10:24:10.994Z
  version: 2.41.1+rev1
  date: 2019-09-10T13:50:05.740Z
- commits:
    - subject: Update rust to 1.33
      hash: 1d223bb64d3668d9fcec6be2438d46acdabadc27
      body: >
        This is needed so that os-config from meta-balena can be updated to
        1.1.0.
      footer:
        Changelog-entry: Update rust to 1.33
        changelog-entry: Update rust to 1.33
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update meta-resin from v2.32.0 to v2.33.0
      hash: f76405d1ead7802069c769e9f6c9ff50f537ad73
      body: |
        Update meta-resin from 2.32.0 to 2.33.0
      footer:
        Changelog-entry: Update meta-resin from v2.32.0 to v2.33.0
        changelog-entry: Update meta-resin from v2.32.0 to v2.33.0
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
      nested:
        - commits:
            - subject: Fixes for sysroot symlinks creation
              hash: b7a6412e6368d3d562ff1ca2fb06be92a24a8548
              body: >
                When we set the udev rule we use IMPORT{program} to know what
                symlinks

                to create in the sysroot directory. The problem is that we don't use

                absolute paths and from the documentation udev uses /usr/lib/udev as the

                default path while we install the invoked script in /lib/udev.


                ```
                  Execute an external program specified as the assigned value. If no
                  absolute path is given, the program is expected to live in
                  /usr/lib/udev; otherwise, the absolute path must be specified.
                ```


                This PR changes the udev rule to use an absolute path for the

                resin_update_state_probe script. Also it fixes some typos in the script

                itself.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fixes for sysroot symlinks creation
                changelog-entry: Fixes for sysroot symlinks creation
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: "libmbim: Refresh patches after last update to avoid build warnings"
              hash: 3b3bfcd8c74070797b55ab2a6e7079cc320581a6
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: "modemmanager: Refresh patches after last update to avoid build
                warnings"
              hash: 83ccf2a4a131b8a116ab90e6272734ac67d73781
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Make security flags inclusion yocto version specific
              hash: 9571c572e4abcd1ea5951fa408b1543bc40db8c9
              body: >
                Since thud, poky distro file on which balena OS is based,
                already

                includes security_flags.inc. Because of this change, this version throws

                a build warning similar to:


                WARNING Duplicate inclusion for /build/../layers/poky/meta/conf/distro/include/security_flags.inc

                in /build/../layers/meta-resin/meta-balena-thud/conf/distro/include/balena-os-yocto-version.inc


                This happens because again, we import `poky` and `security_flags` but

                since thud, poky includes security_flags by default. In order to avoid

                this warning we import it (security_flags) now using an .inc file at the

                level of the yocto version meta-balena layer. There is as well a small

                additional wrinkle here. We switch the include statement from `require`

                to `include` so new layers (like thud) don't have to carry this hack in

                the future.


                This commit prepares meta-balena for thud support.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Make security flags inclusion yocto version specific
                changelog-entry: Make security flags inclusion yocto version specific
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: "systemd: Make directory warning patch yocto version specific"
              hash: 7bedeb98520b6b1bc995b4484f6b61d347a0befe
              body: >
                We used to have this patch applied for all the supported yocto
                versions.

                Since thud, this patch is included by default so this change backports

                it on all the rest of the supported mate-balena yocto version specific

                layers.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Replace wireless tools by iw
              hash: 81839342bebec4ca915f091607bb3977dc02d675
              body: >
                From yocto thud, wireless-tools recipe was removed and the iw
                can be

                used as a replacement. We switch as well in preparation for thud

                support.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Replace wireless tools by iw
                changelog-entry: Replace wireless tools by iw
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: "systemd: Use a conf.d file for journald configuration"
              hash: 9a8f1f1b744248964d4d1b2eb2c8dd732a753980
              body: >
                Since yocto thud systemd main configuration files are part of
                another

                recipe - systemd-conf. See poky commit:

                28c2f0dfe3ae06d87772b2a88fcace5a03e09143


                This commit prepares meta-balena for thud support.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Set go verison to 1.10.8 to match balena-engine requirements
              hash: 1f92a80e4a768bdff4646ccd31cc5c815a114be6
              body: >
                The reason for including this version is that balena-engine
                requires

                newer go compiler and also we want to unify it across our supported

                yocto versions to avoid eventual possible runtime issues.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Set go verison to 1.10.8 to match balena-engine requirements
                changelog-entry: Set go verison to 1.10.8 to match balena-engine requirements
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Update balena-engine to 18.09.3
              hash: 53ce14708251cda410f2e870b6ec9342e7e4e1e4
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                CHangelog-entry: Update balena-engine to 18.09.3
                changelog-entry: Update balena-engine to 18.09.3
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Update balena-supervisor to v9.14.6
              hash: 0ec51a88d9389b9f71a4bb4b2e33fda9464cde8c
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v9.14.6
                changelog-entry: Update balena-supervisor to v9.14.6
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: "resin-u-boot: make devtool-compatible"
              hash: fb727b680fbfad8db39c2b491e49f1568c111436
              body: >
                devtool moves the files from the WORKDIR into
                ${S}/oe-local-files which makes

                copying of env_resin.h fail if the u-boot source is being modified using

                devtool. Since devtool also alters FILESPATH to include said oe-local-files

                directory, we can iterate over those paths instead of relying on WORKDIR.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Sven Schwermer <sven.schwermer@disruptive-technologies.com>
                signed-off-by: Sven Schwermer <sven.schwermer@disruptive-technologies.com>
              author: Sven Schwermer
            - subject: "docker-disk: Disable unnecessary docker pid check"
              hash: d7583f3373de1188240e65a8e30def281657e0d0
              body: >
                By checking for a pid you are prevented from building Balena
                inside

                of a privileged container with a bind mount on /var/run/docker.sock


                The "Test docker execute permission" stanza is adequate for testing

                if docker is operational.
              footer:
                Change-type: minor
                change-type: minor
                Changlog-entry: Disable unnecessary docker pid check
                changlog-entry: Disable unnecessary docker pid check
                Signed-off-by: Armin Schlegel <armin.schlegel@gmx.de>
                signed-off-by: Armin Schlegel <armin.schlegel@gmx.de>
              author: Armin Schlegel
            - subject: Update libmbim to version 1.18.0
              hash: 677159770b7cfa0eb0a6611094ea7673f67883d3
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update libmbim to version 1.18.0
                changelog-entry: Update libmbim to version 1.18.0
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
            - subject: Update libqmi to version 1.22.2
              hash: 8047b6b9ec42ef4aab9798e516e4ded54a62a252
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update libqmi to version 1.22.2
                changelog-entry: Update libqmi to version 1.22.2
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
            - subject: Update to ModemManager v1.10.0
              hash: 774b270a7f963740b4c209efc6c66085a7d7c906
              body: |
                Fixes #1457
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update to ModemManager v1.10.0
                changelog-entry: Update to ModemManager v1.10.0
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
            - subject: Add a OS_KERNEL_CMDLINE parameter that allows BSPs to easily add extra
                kernel cmdline args to production images
              hash: 4b607b32495737f6f83f12e891188ab008b0de47
              body: >
                balenaOS comes in two flavours, production/development.
                production

                images have various options passed to the kernel cmdline.

                Currently some devices BSPs have those options passed and some dont.

                It'll be hard to keep the common options consistent.

                e.g. consoleblank=0 is passed for some devices and not for others.


                We'd like the extra options we pass to be in one place. All BSPs can

                then append this variable in their respective recipe/bootloader config

                etc.


                Fixes #1464
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add a OS_KERNEL_CMDLINE parameter that allows BSPs to easily
                  add extra kernel cmdline args to production images
                changelog-entry: Add a OS_KERNEL_CMDLINE parameter that allows BSPs to easily
                  add extra kernel cmdline args to production images
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-resin-2.33.0
          date: 2019-05-02T13:26:16.845Z
  version: 2.33.0+rev1
  date: 2019-05-05T09:24:41.004Z
- commits:
    - subject: "nanopi-air-bt: Load BT firmware according to chip revision"
      hash: 6b338fffb57b26e4b2788900b22e96795f89d7e3
      body: |
        NanoPi Neo Air commes with tho different BT/WiFi chip versions:
        AP6212 or AP6212A.
        This commit loads a different BT firmware based on the chip
        revisions of this board.
      footer:
        Changelog-entry: "nanopi-air-bt: Load BT firmware according to chip revision"
        changelog-entry: "nanopi-air-bt: Load BT firmware according to chip revision"
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
  version: 2.31.5+rev2
  date: 2019-03-25T10:56:23.879Z
- commits:
    - subject: Update meta-resin from v2.27.0 to v2.31.5
      hash: 6ac1533c1ac48379040ebc6e924846c2bbd8ca1b
      body: |
        Update meta-resin from 2.27.0 to 2.31.5
      footer:
        Changelog-entry: Update meta-resin from v2.27.0 to v2.31.5
        changelog-entry: Update meta-resin from v2.27.0 to v2.31.5
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Sebastian Panceac
      nested:
        - commits:
            - subject: Update resin-supervisor to v9.11.3
              hash: 7ad04ea5594fc1cf5f378b9cab3c75b2ee6f0e6e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update resin-supervisor to v9.11.3
                changelog-entry: Update resin-supervisor to v9.11.3
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
          version: meta-resin-2.31.5
          date: 2019-03-21T14:43:57.016Z
        - commits:
            - subject: "resin-supervisor: Recreate on start if config has changed"
              hash: 20032211302d25300c09310e169cafa01375e35e
              body: >
                Fix the ordering of the conditional check when starting the
                supervisor container;

                only check that the values being passed into the environment match the ones held

                in the config IF the container already exists.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
          version: meta-resin-2.31.4
          date: 2019-03-20T23:25:52.136Z
        - commits:
            - subject: Update resin-supervisor to v9.11.2
              hash: abb864096b5b473893aa7011a685ed8df97a28ee
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update resin-supervisor to v9.11.2
                changelog-entry: Update resin-supervisor to v9.11.2
                Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
                signed-off-by: Pablo Carranza Velez <pablo@balena.io>
              author: Pablo Carranza Velez
          version: meta-resin-2.31.3
          date: 2019-03-20T20:18:02.522Z
        - commits:
            - subject: Update resin-supervisor to v9.11.1
              hash: 0993710382367b865ce81113dbe5566e5814da10
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update resin-supervisor to v9.11.1
                changelog-entry: Update resin-supervisor to v9.11.1
                Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
                signed-off-by: Pablo Carranza Velez <pablo@balena.io>
              author: Pablo Carranza Velez
          version: meta-resin-2.31.2
          date: 2019-03-19T21:33:42.542Z
        - commits:
            - subject: Update resin-supervisor to v9.11.0
              hash: 8b1380bce8a664ef228b054c2b065521acbb48aa
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update resin-supervisor to v9.11.0
                changelog-entry: Update resin-supervisor to v9.11.0
                Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
                signed-off-by: Pablo Carranza Velez <pablo@balena.io>
              author: Pablo Carranza Velez
          version: meta-resin-2.31.1
          date: 2019-03-18T19:21:24.218Z
        - commits:
            - subject: "README:md: Document dnsServers behaviour"
              hash: ad441b8367d65fe780beef35b20f8d4898bdd339
              body: >
                Taken from fa3de6987e3bc82ab6d85038c637f1871e5269cb commit
                message
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexis Svinartchouk <alexis@balena.io>
                signed-off-by: Alexis Svinartchouk <alexis@balena.io>
              author: Alexis Svinartchouk
            - subject: Update resin-supervisor to v9.9.0
              hash: 133dde58bde7c4d54ad157374bb3e7062a599e31
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update resin-supervisor to v9.9.0
                changelog-entry: Update resin-supervisor to v9.9.0
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Cleanup old versions of iwlwifi firmware files in Yocto sumo
              hash: 5db4441e50b2d47cd7658845c12508b50808d5ee
              body: >
                This is done so we can save considerable amount of space on the
                root

                partition.


                See #810
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto sumo
                changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto sumo
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Remove polkit dependency in balenaOS
              hash: 4fddf1a54ac13ed4acd3f65096afccf6a5f7a5ef
              body: |
                Fixes #1404
                See #810
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Remove polkit dependency in balenaOS
                changelog-entry: Remove polkit dependency in balenaOS
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Remove support for XFS file system
              hash: bbf5675973da6adf8fa8f8b671606fbffaef834e
              body: |
                This is done so we can save space on the root file system.

                See #810
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Remove support for XFS file system
                changelog-entry: Remove support for XFS file system
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: "resin-init: update resin.io reference to balenaOS"
              hash: 593fcb558b1afe3892560fdd7e0c315c9459466f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
          version: meta-resin-2.31.0
          date: 2019-03-08T14:31:27.986Z
        - commits:
            - subject: "resin-supervisor: Recreate on start if config has changed"
              hash: 3ce04f93b1894f86be5d838bcc24335aaa161233
              body: >
                When starting the supervisor container, check that the values
                being

                passed into the environment match the ones held in the config.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
            - subject: Generate the temporary kernel-devsrc compressed archive in WORKDIR
                instead of B
              hash: ed5fe09c9dfb4f5dd07bae691b277b9d2f38f718
              body: >
                It is best to not create anything in ${B} even if just temporary
                because

                it alters the directory in ways which can break other parts of the build

                system. For example, if there is a leftover kernel_source.tar.gz in B,

                then the current kernel-devsrc will create a hardlink of this file in

                the kernel source tree and then the command:

                tar -czf ${B}/kernel_source.tar.gz -C "$kerneldir/../" .


                will fail like:

                tar: ./kernel/kernel_source.tar.gz: file changed as we read it
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Generate the temporary kernel-devsrc compressed archive in
                  WORKDIR instead of B
                changelog-entry: Generate the temporary kernel-devsrc compressed archive in
                  WORKDIR instead of B
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: "balena-engine: Update to include fix for signal SIGRTMIN+3"
              hash: 0e19efb71526097cad4037336f7a410782189fa0
              body: |
                See https://github.com/opencontainers/runc/issues/1766.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Reduce sleeps while trying to mount partition to speed up boot
              hash: 73b69ae792330741603e0a4fc7878b2ec9ed0462
              body: >
                There is no need to wait 1 second if a label hasn't appeared.
                Other

                services depend on these partitions to be mounted. Reduce sleep to 0.1

                second.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Reduce sleeps while trying to mount partition to speed up boot
                changelog-entry: Reduce sleeps while trying to mount partition to speed up boot
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "resin-expand: Reduce sleep duration to speed up boot"
              hash: 6c69d676d36ed6a94ca094037515dd5ee4a5697a
              body: >
                There is no need to sleep for 1 second if a label isn't visible.

                Other services depend on the partitons mounted. Reduce sleep to 0.1

                second.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "initrdscripts: Reduce sleep to speed up boot"
              hash: 4a6cb8ae75e275de389dc3ef9dfbd52c3bdd72f1
              body: >
                There is no need to sleep for 1 second if the label hasn't been
                found.

                There is nothing else running on the device in the initramfs.

                Check every 0.05 seconds.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Make balena-host daemon socket activated to reduce baseline cpu/memory
                usage
              hash: 0d0cb22118e08d710640697561853a1227b64b92
              body: >
                Fixes #1405


                We'd like the balena-host daemon to be socket activated so that it does

                not consume any cpu/memory resource until used.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Make balena-host daemon socket activated to reduce baseline
                  cpu/memory usage
                changelog-entry: Make balena-host daemon socket activated to reduce baseline
                  cpu/memory usage
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update resin-supervisor to v9.8.6
              hash: 3124067996edded74e52cf9b87ec5dc9ee95c730
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update resin-supervisor to v9.8.6
                changelog-entry: Update resin-supervisor to v9.8.6
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Add support for aufs 4.18.11+, 4.19, 4.20 variants and update 4.14,
                4.14.56+, 4.15, 4.16, 4.17, 4.18
              hash: 9c8b60cf92aa7a25f424532956439b518ec96201
              body: |
                We add support for 4.18.11+, 4.19, 4.19.17+, 4.20, 4.20.4+.
                Also, update 4.14, 4.14.56+, 4.15, 4.16, 4.17, 4.18.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add support for aufs 4.18.11+, 4.19, 4.20 variants and update
                  4.14, 4.14.56+, 4.15, 4.16, 4.17, 4.18
                changelog-entry: Add support for aufs 4.18.11+, 4.19, 4.20 variants and update
                  4.14, 4.14.56+, 4.15, 4.16, 4.17, 4.18
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: "balena-engine: Bump to include runc patch"
              hash: f56f08136e9c855637ff28880fb593dba53d452b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Improve kernel-module-headers for v4.18+ kernels
              hash: 0931b97b76ef2d04697468f027b53247803b51d4
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Improve kernel-module-headers for v4.18+ kernels
                changelog-entry: Improve kernel-module-headers for v4.18+ kernels
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-supervisor to v9.8.3
              hash: 76a72c58095d0d1b45a552f62b75bb5ec18813c6
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update balena-supervisor to v9.8.3
                changelog-entry: Update balena-supervisor to v9.8.3
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Ask chrony to quickly take measurements from custom NTP servers when
                they are added
              hash: 8cb1664a2650b1a60849efaf009b205e8e796816
              body: >
                By default, chrony will slowly and gracefully take measurements
                from

                the new ntp server. The burst 4/10 command will make chrony take 4 good

                measurements within 2 seconds each. It will try up to 10 times.

                Fixes #1385
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Ask chrony to quickly take measurements from custom NTP servers
                  when they are added
                changelog-entry: Ask chrony to quickly take measurements from custom NTP servers
                  when they are added
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Disable in-tree rtl8192cu driver
              hash: 95a5c13ee40cc958b142b00e19a4349d66a8b808
              body: |
                We will only have the out of tree module which allegedly
                is more stable:
                https://github.com/raspberrypi/linux/issues/1866

                The configs for disabling it were added but apparently
                they were never applied.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Disable in-tree rtl8192cu driver
                changelog-entry: Disable in-tree rtl8192cu driver
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Prevent rollbacks from running if the previous OS is before v2.30.0
              hash: fee00ba8b841d3e8634960c37c3e96c994c18567
              body: >
                v2.30.0 is a more mature version for rollbacks. Prevent
                rollbacks

                from running on OS
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Prevent rollbacks from running if the previous OS is before
                  v2.30.0
                changelog-entry: Prevent rollbacks from running if the previous OS is before
                  v2.30.0
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Change rollbacks to accept hex partition numbers for jetsons
              hash: 11b540777b76163493564407c9bdd7be98215f02
              body: >
                The partition numbers are hex and not integers. This is obvious
                when

                using the jetson family of devices as their partition numbering starts

                at 0xc.


                - Change integer comparisons to string comparisons.

                - Convert current_part_idx to hex for a valid string comparison
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Change rollbacks to accept hex partition numbers for jetsons
                changelog-entry: Change rollbacks to accept hex partition numbers for jetsons
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Convert partition numbers to hex in u-boot hook. Shouldn't affect any
                device.
              hash: 6c646e5c275f881c255e49d206a15d6fbbba3276
              body: >
                From u-boot docs:

                "Almost all U-Boot commands expect numbers to be entered in hexadecimal

                input format"


                We only hit this in the jetson family as the boot partition there is

                0xc. Add a simple conversion to hex. This should not affect any devices

                that use <9 partition numbers. And allow us to use the same hook

                from meta-balena accross all devices. Currently the jetson family has

                its own custom hook with this one-liner.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Convert partition numbers to hex in u-boot hook. Shouldn't
                  affect any device.
                changelog-entry: Convert partition numbers to hex in u-boot hook. Shouldn't
                  affect any device.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Reduce default reboot/poweroff timeouts from 30 minutes to 10 minutes
              hash: 59c923777e6145288df5b6e77ca33a21323b68e3
              body: >
                The default timeout for poweroff/reboot targets is 30 minutes.
                That is

                too long. Reduce it to 10 minutes.


                We might start hitting this when the supervisor starts rebooting devices

                more gracefully after https://github.com/balena-io/balena-supervisor/issues/861

                is resolved.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Reduce default reboot/poweroff timeouts from 30 minutes to 10
                  minutes
                changelog-entry: Reduce default reboot/poweroff timeouts from 30 minutes to 10
                  minutes
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Configure systemd tmpfiles to ignore supervisor tmp directories
              hash: ebb0a930c7c8f8ec348858009a0ff3fd0c58b70b
              body: >
                There are tmp directories supervisor assumes nobody touches in
                which

                things like update lock files are stored. This patch configures systemd

                tmpfiles to ignore these tmp paths.


                Fixes #1377
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Configure systemd tmpfiles to ignore supervisor tmp directories
                changelog-entry: Configure systemd tmpfiles to ignore supervisor tmp directories
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Fixed "Can't have overlapping partitions." error in flasher
              hash: 299e2c7974c408a0a2ff762bc263f266c69d5a98
              body: |
                Fixed typo that caused flashing process to block
                on some corrupted eMMCs due to parted command failure.

                Flashing process hanged during boot with this log:
                - Error: Can't have overlapping partitions.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fixed "Can't have overlapping partitions." error in flasher
                changelog-entry: Fixed "Can't have overlapping partitions." error in flasher
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
            - subject: Define default DNS servers behaviour with and without google DNS
              hash: fa3de6987e3bc82ab6d85038c637f1871e5269cb
              body: >
                This implements a default logic for `dnsServers` attribute in

                `config.json` as it follows:


                * when dnsServers is not defined, or empty, the default value of it will

                be considered google DNS (8.8.8.8)

                * when dnsServers is "null", the system will not alter dnsServers to the

                default server as stated above

                * when dnsServers is defined and not "null" it will be considered as

                such without any additional servers servers


                Fixes ##1348
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Define default DNS servers behaviour with and without google
                  DNS
                changelog-entry: Define default DNS servers behaviour with and without google
                  DNS
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Update balena-supervisor to v9.4.2
              hash: 4d66971c840b6142c7e22c5538b5c34356b9f880
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update balena-supervisor to v9.4.2
                changelog-entry: Update balena-supervisor to v9.4.2
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Fix for some warnings
              hash: 1d92f8c3bcc21a7c0b21b12f65f1051616f04b78
              body: >
                From
                http://cgit.openembedded.org/openembedded-core/commit/meta/recipes-kernel/linux/kernel-devsrc.bb?h=thud&id=fd74848c3c06901a77057ca03f7c01aff08ee34a
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix for some warnings
                changelog-entry: Fix for some warnings
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Fix tini filename after balena-engine rename
              hash: 47980f05d3fa7c8a46b297431e0398b2da03e22e
              body: >
                Since balena-engine rename, the daemon is looking for

                `balena-engine-init` when running containers with `--init`. Fix the tini

                filename to comply with this.


                Fixes #1368
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix tini filename after balena-engine rename
                changelog-entry: Fix tini filename after balena-engine rename
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Fix nm dispatcher hook when there are no custom ntp servers in
                config.json
              hash: 0b75ee48cee005d78e08d8c68722cc2374567123
              body: >
                If there are no custom ntp servers, the added_server_file
                doesn't exist

                Add a check and avoid running the script if the file does not exist


                Fixes #1362
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix nm dispatcher hook when there are no custom ntp servers in
                  config.json
                changelog-entry: Fix nm dispatcher hook when there are no custom ntp servers in
                  config.json
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Improve persistent logging systemd service dependencies
              hash: 0ce1d8576b7e33083784cb3123d2ad2c53091513
              body: >
                We need the state partition and boot partition ready before we
                try

                to run the persistent logging service.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Improve persistent logging systemd service dependencies
                changelog-entry: Improve persistent logging systemd service dependencies
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-supervisor to v9.3.0
              hash: dc5ed342a39c32d2efa00197e4ce7578e8de20f9
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update balena-supervisor to v9.3.0
                changelog-entry: Update balena-supervisor to v9.3.0
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Use the new revision for balena source code
              hash: a52207c03253fcc0cc219a4e1a100b46ea44e226
              body: |
                The 17.12-resin branch was modified and the old revision is not
                there anymore.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Use the new revision for balena source code
                changelog-entry: Use the new revision for balena source code
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Add a workaround for a bug where the chronyc online command in network
                manager hook would get stuck and eat cpu cycles
              hash: 6fe830882bf8ee62dc6db09b5a8a6f099d64fe41
              body: >
                We have noticed devices in support that show high cpu usage
                because

                the process chronyc online seems to be eating up 50% cpu.


                This is probably fixed upstream https://github.com/mlichvar/chrony/commit/6863e43269fe27ce2744eb643295f31c00ec176d#diff-50898f0cb35139d87132f4732a029213


                Add a timeout in any case as its a lower risk option
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add a workaround for a bug where the chronyc online command in
                  network manager hook would get stuck and eat cpu cycles
                changelog-entry: Add a workaround for a bug where the chronyc online command in
                  network manager hook would get stuck and eat cpu cycles
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Fix img to rootfs dependency when img is invalidated
              hash: 3050840935541c14ded2f9a6a1517d73dfc5ec18
              body: >
                There can be cases where a image type gets invalidated (due to a

                variable change or so) and the dependency of it not. For example the img

                type can get invalidated while the hostapp ext3 type doesn't. The img

                generatiton script consumes/uses the rootfs generated by the hostapp

                type but, it references the artifact based on IMAGE_NAME variable which

                includes a time stamp. See bitbake.conf:


                IMAGE_NAME = "${IMAGE_BASENAME}-${MACHINE}-${DATETIME}"


                When that happens, the new timestamp will change and img will fail to

                find the old artifact of hostapp. Change this behaviour by using the

                symlink reference IMAGE_LINK_NAME which doesn't include a timestamp.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix img to rootfs dependency when img is invalidated
                changelog-entry: Fix img to rootfs dependency when img is invalidated
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Have boot partition type configurable as FAT32
              hash: a582d10ca72ff0d865783252b87160f03b2045bb
              body: >
                When BALENA_BOOT_FAT32 is 1, it will instruct the raw image
                generator to

                create the filesystem using 32 as file allocation tables type and, as

                well, create the boot partition as fat32 type.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Have boot partition type configurable as FAT32
                changelog-entry: Have boot partition type configurable as FAT32
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Deprecate morty and krogoth
              hash: 9d311fd13ad2af4b17a7a9a512e2f667e4ff9f58
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Deprecate morty and krogoth
                changelog-entry: Deprecate morty and krogoth
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Deploy kernel source as a build artifact as well for external module
                compilation
              hash: bfc7a67cb6b6f38617bb810f2b5c1e051ebf6a4a
              body: >
                We want to build the kernel-devsrc recipe so that we can package
                the

                kernel source tarball. This tarball will allow users to use the source

                package and compile or cross compile kernel modules
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Deploy kernel source as a build artifact as well for external
                  module compilation
                changelog-entry: Deploy kernel source as a build artifact as well for external
                  module compilation
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "kernel-devsrc: Tarball up the kernel source and deploy it."
              hash: 4da9fdc90001f64f2bd8852cd4cf8a8de3b02cbb
              body: >
                The kernel-devsrc recipe only builds a package by default. We'd
                like

                to tarball the source and share it.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "kernel-modules-headers: Use the build directory for artifacts"
              hash: 3e09d127d86729a94cd9a600a6f4f7568b4d6315
              body: |
                Otherwise the module header tarball appears in the kernel source
                directory and is tarballed again by the kernel-devsrc recipe
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "docs: Add documentation on nested changelogs"
              hash: d02c8f877914b8173af4f4fd051d4e5626a2aeae
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Giovanni Garufi <giovanni@balena.io>
                signed-off-by: Giovanni Garufi <giovanni@balena.io>
              author: Giovanni Garufi
            - subject: "VersionBot: update upstream name and url"
              hash: 203ddc055b3ea63bfa953a8917fdcd2a4961c012
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Giovanni Garufi <giovanni@balena.io>
                signed-off-by: Giovanni Garufi <giovanni@balena.io>
              author: Giovanni Garufi
          version: meta-resin-2.30.0
          date: 2019-02-28T16:10:14.839Z
        - commits:
            - subject: OS will default apps.json to an empty json file
              hash: c935fcfd72dfefa5188d90edc48cd1b01dbadec2
              body: >
                Currently, because we bind mount apps.json unconditionally, when
                this

                file doesn't exist, balena engine will create a directory on the data

                filesystem. This breaks when we add an apps.json file after the

                supervisor container was already created.


                Fixes #1325
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: OS will default apps.json to an empty json file
                changelog-entry: OS will default apps.json to an empty json file
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Update balena-engine to include low entropy fixes
              hash: 32726b55b9e4b0a33e6357bfbe4b0169bcf253a7
              body: |
                This includes changes which target fixing hanging on low entropy
                situation.

                Fixes #1208
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-engine to include low entropy fixes
                changelog-entry: Update balena-engine to include low entropy fixes
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Move an NM patch to the right place to reduce a warning
              hash: f823ee173d52519113bb9513972aa9eaf3816355
              body: >
                We get a warning that the file was not found when other versions
                of NM

                are parsed.


                Warning networkmanager_1.10.6.bb: Unable to get checksum for

                networkmanager SRC_URI entry balena-client-id.patch: file could not

                be found
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Move an NM patch to the right place to reduce a warning
                changelog-entry: Move an NM patch to the right place to reduce a warning
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-supervisor to v9.0.1
              hash: 73a8bf6d0b45b052f05403ad6bf84504be2d918d
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update balena-supervisor to v9.0.1
                changelog-entry: Update balena-supervisor to v9.0.1
                Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
                signed-off-by: Pablo Carranza Velez <pablo@balena.io>
              author: Pablo Carranza Velez
            - subject: Fix cases where RESIN_BOOT_PARTITION_FILES includes invalid entries
              hash: c10653eb0b17e3997fb77182cf62b9cdc143f25c
              body: |
                Fixes #1330
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix cases where RESIN_BOOT_PARTITION_FILES includes invalid
                  entries
                changelog-entry: Fix cases where RESIN_BOOT_PARTITION_FILES includes invalid
                  entries
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Enable some common linux kernel serial device drivers
              hash: 1fa8c951327d1356410152f944003f98a9b68112
              body: |
                Fixes #1327
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Enable some common linux kernel serial device drivers
                changelog-entry: Enable some common linux kernel serial device drivers
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Configure NetworkManager to only ignore our vpn interface but manage
                other tun devices
              hash: 2a5415c4a9a1b9c1e3da8a340be4ba307174c42d
              body: >
                Under the current configuration we instruct NetworkManager
                through its

                configuration to completely ignore all the tun devices. This was

                enforced as an extra precation as we run an openvpn client which

                connects to the balena-cloud backend. This client creates, on the host,

                the interface `resin-tun` currently (rename pending). We want to loosen

                up this restriction to only unmanage this specific device - `resin-tun`

                - so that users can take advantage of NetworkManager managing other tun

                devices.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Configure NetworkManager to only ignore our vpn interface but
                  manage other tun devices
                changelog-entry: Configure NetworkManager to only ignore our vpn interface but
                  manage other tun devices
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: "networkmanager: Add pppd to FILES"
              hash: b05bc683b6517318a3ebef56010d671ae07804c1
              body: >
                Without this, we get a QA error


                ERROR networkmanager-1.14.4-r0 do_package QA Issue networkmanager

                Files/directories were installed but not shipped in any package
                  ... nm-pppd-plugin.so
                Please set FILES such that these items are packaged. Alternatively

                if they are unneeded, avoid installing them or delete them within do_install.

                networkmanager 1 installed and not shipped files. [installed-vs-shipped]
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "networkmanager: Add balena-client-id.patch in bbappend"
              hash: 35c4822bbff164a4a4f3a769f0d1fabbda61f33b
              body: |
                Move this in bbappend. The 1.12 recipe was bumped to 1.14.
                We'd like to keep our edits in bbappend
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Bump network manager from v1.12.2 to v1.14.4
              hash: 0b8be376090d9bff4f41a362e4bcc250e0c664e9
              body: >
                Update recipe from upstream meta-openembedded

                http://cgit.openembedded.org/meta-openembedded/commit/meta-networking/recipes-connectivity/networkmanager?id=331b717b862e3599b99942acb64c1d6b03806042


                Difference in size ~ +400K
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Bump network manager from v1.12.2 to v1.14.4
                changelog-entry: Bump network manager from v1.12.2 to v1.14.4
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update balena-supervisor to v8.7.0
              hash: ff552b96370e06a357db69d57cbbad5db08433db
              body: ""
              footer:
                Changelog-entry: Update balena-supervisor to v8.7.0
                changelog-entry: Update balena-supervisor to v8.7.0
                Change-type: minor
                change-type: minor
                Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
                signed-off-by: Pablo Carranza Velez <pablo@balena.io>
              author: Pablo Carranza Velez
            - subject: Fix test cases for kernel module header compilation
              hash: 53793e1e591f2e0d4534c38fcb0585ace2d0d181
              body: >
                For some reason, using xargs -I a produced spurious difficult to
                trace

                errors. Rework test case using a loop. Do the arch check using Yoctos

                QA framework that runs on all packages. Otherwise, we'd have to manually

                map various compatible arches e.g. aarch64 - arm8, 80386 - x86


                bberror does not exit the do_compile task. Add exit 1 to make sure that

                if an error is found, the task is marked as failed. Otherwise the

                error becomes a heisenbug as bitbake proceeds after do_compile.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix test cases for kernel module header compilation
                changelog-entry: Fix test cases for kernel module header compilation
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Add chrony v3.2 recipe in various layers to keep minimum chrony version
                on devices above v3.2
              hash: 898ce1a6c0a18c91478f704f4014ec2fcd1fedce
              body: >
                We added an option in chrony.conf (hwtimestamp) via
                meta-resin-common.

                That option is supported in newer versions of chrony.


                Add chrony 3.2 recipe from meta-openembedded sumo

                http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add chrony v3.2 recipe in various layers to keep minimum chrony
                  version on devices above v3.2
                changelog-entry: Add chrony v3.2 recipe in various layers to keep minimum chrony
                  version on devices above v3.2
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "chrony/pyro: Add v3.2 recipe"
              hash: c3fbd6fe368ae1ca2472f15414d319f802e2989c
              body: >
                We added an option in chrony.conf (hwtimestamp) via
                meta-resin-common.

                That option is supported in newer versions of chrony.


                Add chrony 3.2 recipe from meta-openembedded sumo

                http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "chrony/morty: Add v3.2 recipe"
              hash: 75f44470da8e5bf99bdf4cd4ea45cbb798909604
              body: >
                We added an option in chrony.conf (hwtimestamp) via
                meta-resin-common.

                That option is supported in newer versions of chrony.


                Add chrony 3.2 recipe from meta-openembedded sumo

                http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "chrony/krogoth: Bump recipe version to v3.2"
              hash: 59ac08ea58e59e2d61cc53cadea1b835eb5b4e31
              body: >
                We added an option in chrony.conf (hwtimestamp) via
                meta-resin-common.

                That option is supported in newer versions of chrony.


                Add chrony 3.2 recipe from meta-openembedded sumo

                http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update resin-supervisor to v8.6.8
              hash: a9cf9b06e9775612f2397c7abaca507428558722
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update resin-supervisor to v8.6.8
                changelog-entry: Update resin-supervisor to v8.6.8
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
          version: meta-resin-2.29.0
          date: 2018-12-19T06:20:13.246Z
        - commits:
            - subject: Update os-config to 1.0.0
              hash: e9a428ae474c9a9e4573ae1071978b19e332f0b8
              body: >
                The main feature this brings is support for custom certificates
                base64

                encoded in config.json.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update os-config to 1.0.0
                changelog-entry: Update os-config to 1.0.0
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
            - subject: Update libqmi to version 1.20.2
              hash: 19bb5410ac28a89db7193490001ea358bbb37912
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update libqmi to version 1.20.2
                changelog-entry: Update libqmi to version 1.20.2
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Update libmbim to version 1.16.2
              hash: 7e8d7520288c916f694fe6cdf1d43fa0d0a275e3
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update libmbim to version 1.16.2
                changelog-entry: Update libmbim to version 1.16.2
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: "kernel-modules-headers: Add basic sanity test"
              hash: 51ff1d707273a27369e91b6cf99257633f0b9e21
              body: >
                Test if the ELFs inside the kernel module header tarball are the

                correct architecture and don't have the sysroot as the interpreter
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Fix kernel module header generation
              hash: 706829bc46c593048909686a67faef064adf6232
              body: >
                63baa421 introduced a bug where the tools in the header tarballs
                were

                compiled with the incorrect HOSTCC parameter. As a result the tools

                inside the tarball were compiled for x86-64 instead of the native

                device architecture. And they had the incorrect ld interpreter path

                as well.


                Update to v0.0.12 to fix that.

                This release also adds objtool support needed by the intel nuc image.


                Fixes #1302

                Fixes #1303
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Fix kernel module header generation
                changelog-entry: Fix kernel module header generation
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "image-resin.bbclass: Fix config.json pretty format"
              hash: 889d989a3d9059825d7d346fbf0e728be9869994
              body: |
                Fixes #1300
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Allow supervisor update on unmanaged devices
              hash: b8705936f0a081a2f33f3fb590a90e4805547e9d
              body: >
                When the device hasn't joined a backend, there is no API key
                available

                and the update supervisor tool currently just bails out. This blocks

                switching the supervisor version on an unmanaged device.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Allow supervisor update on unmanaged devices
                changelog-entry: Allow supervisor update on unmanaged devices
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Update resin-supervisor to v8.6.3
              hash: 1f0a1b16102847412e0165ff01125a4d50ab4c81
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update resin-supervisor to v8.6.3
                changelog-entry: Update resin-supervisor to v8.6.3
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: meta-resin-2.28.0
          date: 2018-12-05T15:21:33.157Z
    - subject: Enable UART3 in Nanopi Neo Air device tree for bluetooth
      hash: 5a6e8eb2f416a647718ca3c8faa9c02177c563de
      body: ""
      footer:
        Changelog-entry: Enable UART3 in Nanopi Neo Air device tree for bluetooth
        changelog-entry: Enable UART3 in Nanopi Neo Air device tree for bluetooth
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
  version: 2.31.5+rev1
  date: 2019-03-22T13:58:29.821Z
- commits:
    - subject: Add xradio firmware for XR819 Chipset
      hash: 5fd7b1467e3588a87fb78518c6fef5b1b3703cc5
      body: ""
      footer:
        Changelog-entry: Add xradio firmware for XR819 Chipset
        changelog-entry: Add xradio firmware for XR819 Chipset
      author: Michel Wohlert
    - subject: Add xradio out-of-tree kernel module
      hash: ad124c7a9e39a98862b33ef152019e4e0366528d
      body: ""
      footer:
        Changelog-entry: Add xradio out-of-tree kernel module
        changelog-entry: Add xradio out-of-tree kernel module
      author: Michel Wohlert
  version: 2.27.0+rev5
  date: 2019-03-22T09:32:01.155Z
- commits:
    - subject: Mark orange-pi-zero as community in the .coffee file
      hash: 4b49b3d03d907bf544689aa30fc3378d0cc9c478
      body: ""
      footer:
        Changelog-entry: Mark orange-pi-zero as community in the .coffee file
        changelog-entry: Mark orange-pi-zero as community in the .coffee file
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Mark orange-pi-one as community in the .coffee file
      hash: 33328a014e59d9e4600ccb99a64def416f82bb8a
      body: ""
      footer:
        Changelog-entry: Mark orange-pi-one as community in the .coffee file
        changelog-entry: Mark orange-pi-one as community in the .coffee file
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.27.0+rev4
  date: 2019-03-07T15:38:40.851Z
- commits:
    - subject: add support for Orange Pi One device
      hash: e0a46306ead28ad834b81f61163f583442618eca
      body: |
        This adds the possibility to build balenaOS for the Orange Pi One
        device.
      footer:
        Changelog-entry: add support for Orange Pi One device
        changelog-entry: add support for Orange Pi One device
        Signed-off-by: Stephen Sorriaux <stephen.sorriaux@gmail.com>
        signed-off-by: Stephen Sorriaux <stephen.sorriaux@gmail.com>
      author: Stephen
    - subject: add support for Orange Pi One device
      hash: 0dc7d45f11735f71c6f256078608ff2621956b43
      body: |
        This adds the possibility to build balenaOS for the Orange Pi One
        device.
      footer:
        Changelog-entry: add support for Orange Pi One device
        changelog-entry: add support for Orange Pi One device
        Signed-off-by: Stephen Sorriaux <stephen.sorriaux@gmail.com>
        signed-off-by: Stephen Sorriaux <stephen.sorriaux@gmail.com>
      author: Stephen
  version: 2.27.0+rev3
  date: 2019-02-25T13:49:22.842Z
- commits:
    - subject: Add support for XR819 Wifi on Orange Pi Zero board
      hash: 086c0520bbb0167454d34f113168210bb84c13cb
      body: >
        Only add xradio and xradio firmware for the Orange Pi Zero, since no
        other device uses this chipset.
      footer:
        Changelog-entry: Add support for XR819 Wifi on Orange Pi Zero board
        changelog-entry: Add support for XR819 Wifi on Orange Pi Zero board
      author: Michel Wohlert
    - subject: Add support for Orange Pi Zero
      hash: 4c58be8dfa8e2286c66f591491b84fe60c6cd57d
      body: >
        This adds the possibility to build balenaOS for the Orange Pi Zero
        device.
      footer:
        Changelog-entry: Add support for Orange Pi Zero
        changelog-entry: Add support for Orange Pi Zero
      author: Michel Wohlert
  version: 2.27.0+rev2
  date: 2019-02-18T12:06:03.903Z
- commits:
    - subject: Update the meta-resin submodule from v2.26.0 to v2.27.0
      hash: 9b6121bb7bd45b89c27a4dc142fbc3f7b054d0c8
      body: |
        Update meta-resin from 2.26.0 to 2.27.0
      footer:
        Changelog-entry: Update the meta-resin submodule from v2.26.0 to v2.27.0
        changelog-entry: Update the meta-resin submodule from v2.26.0 to v2.27.0
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested:
        - commits:
            - subject: Expose randomMacAddressScan config.json knob
              hash: 69d2340ccf5691085bebeb92478475cd3278bbb9
              body: >
                For now only allow `wifi.scan-rand-mac-address` configurable
                from

                config.json using `randomMacAddressScan` as the json key.


                config.json snippet example:


                "os": {
                  "network" : {
                    "wifi": {
                      "randomMacAddressScan": false
                    }
                  }
                }


                We include a set of tests for this tool which are ran at build time.


                Fixes #1294
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Expose randomMacAddressScan config.json knob
                changelog-entry: Expose randomMacAddressScan config.json knob
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Move modemmanager udev rules in /lib/udev/rules.d
              hash: 1d7f81ee8b8ca5fd73417598ac8b15d8f99b28ed
              body: >
                The path where the udev rules are currently installed (etc) will
                be

                shadowned at runtime because the etc udev rules path is bindmounted for

                use with custom configuration from `config.json`.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Move modemmanager udev rules in /lib/udev/rules.d
                changelog-entry: Move modemmanager udev rules in /lib/udev/rules.d
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Fix modemmanager bbappend files
              hash: 304b7079ec0261a4467cd384b83b456348af6a0c
              body: >
                The bbappend uses a local `resin-files` directory for additional
                file

                entries but some of these files ended up in `files`. This works well if

                the recipe used is the one in the same directory as the `files`

                subdirectory will be used by default. The problem shows when the recipe

                is not in the same directoy as bitbake will not be able to find needed

                bbappended files.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Fix modemmanager bbappend files
                changelog-entry: Fix modemmanager bbappend files
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: "dnsmasq: Define 8.8.8.8 as a fallback nameserver"
              hash: 8ae0b2aef3ac2816c2a336b2dcc5d6f6a9c726c0
              body: |
                Fixes #1293
              footer:
                Change-type: minor
                change-type: minor
                Changel-log-entry: Restore 8.8.8.8 as fallback DNS server
                changel-log-entry: Restore 8.8.8.8 as fallback DNS server
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Increase timeout for filesystem label
              hash: 9184e01e4f42b95df53f440b4638a8acd9877a9c
              body: >
                The label is actually a udev symlink, but we're keeping

                this naming to be consistent across the file.


                The error seen is that the balena-host service wasn't

                able to start because of a mnt-sysroot-active.service dependency:

                resin-partition-mounter[440]: ERROR: Timeout while waiting

                for filesystem label to appear


                By increasing this timeout, the filesystem symlink should

                already exist, at the time the mnt-sysroot-active service is

                looking for this dependency.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Increase timeout for filesystem label
                changelog-entry: Increase timeout for filesystem label
                Signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
                signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
              author: Vicentiu Galanopulo
            - subject: Add support for Huawei ME936 modem in MBIM mode
              hash: 5e214c0faa2d8a06e23553d6523523b3ad15d8bd
              body: >
                Add udev rule and helper script to switch this modem to MBIM mode
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add support for Huawei ME936 modem in MBIM mode
                changelog-entry: Add support for Huawei ME936 modem in MBIM mode
                Signed-off-by: Florin Sarbu <florin@resin.io>
                signed-off-by: Florin Sarbu <florin@resin.io>
              author: Florin Sarbu
            - subject: Backport systemd sd-shutdown improvements for sumo versions
              hash: 2643ef9959734c794880fecb36284db35e0565df
              body: |
                OS 2.26.0+rev1 reports the following at reboot:
                systemd-shutdown[1]: Failed to wait for process: Protocol error
                systemd-shutdown[1]: Failed to wait for process: Protocol error

                As per systemd/systemd#8155 (comment), systemd/systemd#8429
                needs to be backported.

                We currently backport these patches for sumo only
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Backport systemd sd-shutdown improvements for sumo versions
                changelog-entry: Backport systemd sd-shutdown improvements for sumo versions
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Include avahi d-bus introspection files in rootfs
              hash: d98f0d47369135f1c88429aac58b73aced3d4f6c
              body: >
                Poky removes the dbus introspection description documents for
                avahi.

                See:

                http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=59a08907eafffde664079b9a2068f47131dd3f5d


                dbus-native node module requires this data to be available to allow

                access to interfaces.


                Fixes #1140
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Include avahi d-bus introspection files in rootfs
                changelog-entry: Include avahi d-bus introspection files in rootfs
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Fix custom udev rules when rule is removed from config.json
              hash: dbf42dd1ddcbb45be0320d8d4b4bd93c9522ec34
              body: >
                Fixes #1271

                When os.udevRules is completely removed from config.json, any previous

                rules are left there. Remove them.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix custom udev rules when rule is removed from config.json
                changelog-entry: Fix custom udev rules when rule is removed from config.json
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "resin-mounts: Add NetworkManager conf.d bind mounts"
              hash: a94a3b3490319a3e6a5de373a773348eada532ba
              body: |
                This bind mount is used for passing custom config options to
                NetworkManager via config.json
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Add support to pass custom configuration to NetworkManager
              hash: 8370f01078b6971f2b6c2707f679a3cc581702d2
              body: >
                This allows extra config fragments to be passed to
                NetworkManager

                via config.json
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add support to pass custom configuration to NetworkManager
                changelog-entry: Add support to pass custom configuration to NetworkManager
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "README.md: Add info about SSH and Avahi services"
              hash: 778785283d372689af654c42b3c42cfc02ecdcfb
              body: |
                Fixes #1274
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Avoid xtables lock in resin-proxy-config
              hash: f2bed69f1825e270be695ada997bc10120a2bae8
              body: >
                There are other components setting up iptables rules - for
                example

                balena. In order to avoid a lock race, run iptables commands with a 10

                seconds wait flag.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Avoid xtables lock in resin-proxy-config
                changelog-entry: Avoid xtables lock in resin-proxy-config
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Migrate the supervisor to balena repositories
              hash: 0905256113d58ce4644e975144d71b20f532a35d
              body: |
                This has changed from "resin" to "balena" due to the rename
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Migrate the supervisor to balena repositories
                changelog-entry: Migrate the supervisor to balena repositories
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Update balena-supervisor to v8.3.5
              hash: d0ec760020b7778ac9116dde803393a1f444228f
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update balena-supervisor to v8.3.5
                changelog-entry: Update balena-supervisor to v8.3.5
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Update supported modems list
              hash: 9c966ff98f7bd1e9478a6f49164118c6b0b8a0d8
              body: |
                We remove SIM7100E in favour of SIM7600E and
                also add Huawei ME909s-120.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update supported modems list
                changelog-entry: Update supported modems list
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
          version: meta-resin-2.27.0
          date: 2018-11-23T14:49:56.671Z
    - subject: Switch from resin-yocto-scripts to balena-yocto-scripts
      hash: dc3cd570d48833fd23e725ae0ba3c45cba1c812d
      body: ""
      footer:
        Changelog-entry: Switch from resin-yocto-scripts to balena-yocto-scripts
        changelog-entry: Switch from resin-yocto-scripts to balena-yocto-scripts
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.27.0+rev1
  date: 2018-12-05T13:46:51.322Z
- commits:
    - subject: Specify deps for kernel config task needed for newer (4.16+) kernels
      hash: 92bc21430aba99e7743946e75c153aeff28f4974
      body: |
        We are using newer (4.16+) kernel. For these kernels, we need
        to specify additional dependencies for the configme task.

        This change can be removed when we update poky to a newer version
        that includes 81e8a52e8e40e47c34f900db5d73e69ffc25f5d0.

        This change fixes the error we get on the Nanopi NEO Air kernel when
        our do kernel_resin_reconfigure task will recreate the .config with the
        incorrect kernel config options.
      footer:
        Changelog-entry: Specify deps for kernel config task needed for newer (4.16+) kernels
        changelog-entry: Specify deps for kernel config task needed for newer (4.16+) kernels
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Add icon for NanoPi NEO Air
      hash: 5c39351e2e9a7a7c27bb2494cc9525b746c0f7f2
      body: ""
      footer:
        Changelog-entry: Add icon for NanoPi NEO Air
        changelog-entry: Add icon for NanoPi NEO Air
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Add icon for Orange Pi Plus2
      hash: 4ce451bcee49479a98d179c459d713dbeff22b7a
      body: ""
      footer:
        Changelog-entry: Add icon for Orange Pi Plus2
        changelog-entry: Add icon for Orange Pi Plus2
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.26.0+rev2
  date: 2018-11-12T13:31:17.132Z
- commits:
    - subject: Update the meta-resin submodule from v2.19.0 to v2.26.0
      hash: d7a56e88032ca52e48d5c8f317a236e3f29bcbf7
      body: |
        Update meta-resin from 2.19.0 to 2.26.0
      footer:
        Changelog-entry: Update the meta-resin submodule from v2.19.0 to v2.26.0
        changelog-entry: Update the meta-resin submodule from v2.19.0 to v2.26.0
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested:
        - commits:
            - subject: Rename resin-unique-key to balena-unique-key
              hash: da871aeb64dffcb84c2fad75b299f661cab40c3d
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Rename resin-unique-key to balena-unique-key
                changelog-entry: Rename resin-unique-key to balena-unique-key
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Don't let resin-unique-key rewrite config.json
              hash: 58685dd3accb19b159adc933d3b203c615675343
              body: |
                Fixes #1262
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Don't let resin-unique-key rewrite config.json
                changelog-entry: Don't let resin-unique-key rewrite config.json
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
          version: meta-resin-2.26.0
          date: 2018-11-05T15:22:47.685Z
        - commits:
            - subject: Generate ssh host key at first boot (not at first connection)
              hash: aea0382c5e6c26933767a931f3a0df45e3cde233
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Generate ssh host key at first boot (not at first connection)
                changelog-entry: Generate ssh host key at first boot (not at first connection)
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Fix extraneous space in kernel-resin.bbclass config
              hash: bf3124d468dfce8e9b4909965dfea05752835b33
              body: |
                This extra space leads to kernel config check error
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Fix extraneous space in kernel-resin.bbclass config
                changelog-entry: Fix extraneous space in kernel-resin.bbclass config
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Drop obsolete eval from kernel-resin's do_kernel_resin_reconfigure
              hash: 1b882e69d125c4cd84a8ebd8298eb294d52d5574
              body: >
                This is not needed as bitbake already expands
                KERNEL_CONFIG_COMMAND

                See Poky commit 95909bc788bef1baabead94231dffb3b7f59fb00 for details
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Drop obsolete eval from kernel-resin's
                  do_kernel_resin_reconfigure
                changelog-entry: Drop obsolete eval from kernel-resin's
                  do_kernel_resin_reconfigure
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
            - subject: Add SyslogIdentifier for balena and resin-supervisor healthdog services
              hash: 23fadcc59cc2b353b68264220e35fa1c06b97444
              body: ""
              footer:
                Changelog-entry: Add SyslogIdentifier for balena and resin-supervisor healthdog
                  services
                changelog-entry: Add SyslogIdentifier for balena and resin-supervisor healthdog
                  services
                Change-type: minor
                change-type: minor
                Signed-off-by: Matthew McGinn <mamcgi@gmail.com>
                signed-off-by: Matthew McGinn <mamcgi@gmail.com>
              author: Matthew McGinn
          version: meta-resin-2.25.0
          date: 2018-11-02T15:58:49.876Z
        - commits:
            - subject: Update resin-supervisor to v8.0.0
              hash: 01511f5902e83f80e93a37b5e5cffd59654e5c04
              body: ""
              footer:
                Changelog-entry: Update resin-supervisor to v8.0.0
                changelog-entry: Update resin-supervisor to v8.0.0
                Change-type: patch
                change-type: patch
                Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
                signed-off-by: Pablo Carranza Velez <pablo@balena.io>
              author: Pablo Carranza Velez
          version: meta-resin-2.24.1
          date: 2018-11-01T16:25:19.386Z
        - commits:
            - subject: "resin-info: Small tweak for balenaCloud product"
              hash: 74f795dc2251266622f44f0a32162adfbbc432e3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrei Gherzan <andrei@resin.io>
                signed-off-by: Andrei Gherzan <andrei@resin.io>
              author: Andrei Gherzan
            - subject: Update resin-supervisor to v7.25.8
              hash: 4806e3340d75cb76437311bd44a93e40360f90ed
              body: ""
              footer:
                Changelog-entry: Update resin-supervisor to v7.25.8
                changelog-entry: Update resin-supervisor to v7.25.8
                Change-type: patch
                change-type: patch
                Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
                signed-off-by: Pablo Carranza Velez <pablo@balena.io>
              author: Pablo Carranza Velez
            - subject: Rename resinOS to balenaOS
              hash: d2a7e648b2ccefe46f67fb02c0f382c958aad5e5
              body: >
                As part of resin rename to balena, we rename the distro file
                including

                the OS name which is part of the distro name. This ends up in the

                dashboard as part of the OS version.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Rename resinOS to balenaOS
                changelog-entry: Rename resinOS to balenaOS
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
          version: meta-resin-2.24.0
          date: 2018-10-24T01:06:11.405Z
        - commits:
            - subject: Update resin-supervisor to v7.25.5
              hash: 21d97fc5d73e2a97760b9328d099ea8b7daaee39
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update resin-supervisor to v7.25.5
                changelog-entry: Update resin-supervisor to v7.25.5
                Signed-off-by: Cameron Diver <cameron@resin.io>
                signed-off-by: Cameron Diver <cameron@resin.io>
              author: Cameron Diver
            - subject: "recipes-containers: Increase healthcheck timeout to 180s"
              hash: fb966719844dfd045a03440242a412d641c7b791
              body: |
                The original 60s might be slow for some devices where balena
                is busy with a task and the hardware is slow for various
                reasons (ie. Pi1/Zero). In those cases even if the device
                is functioning correctly, the healthcheck will assess the
                device as unhealthy and restart balena and/or the supervisor.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Gergely Imreh <gergely@balena.io>
                signed-off-by: Gergely Imreh <gergely@balena.io>
              author: Gergely Imreh
            - subject: ".gitignore: add node_modules and package-lock files"
              hash: becc602a39ec9c788e4f1765ec696f2f71ceb321
              body: >
                These files are generated by the CI when running the automatic

                versioning. Since this is not a node project both can be simply ignored.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Giovanni Garufi <giovanni@resin.io>
                signed-off-by: Giovanni Garufi <giovanni@resin.io>
              author: Giovanni Garufi
          version: meta-resin-2.23.0
          date: 2018-10-22T22:10:11.913Z
        - commits:
            - subject: Update resin-supervisor to v7.25.3
              hash: dd4966235420be328f6280fa170d17f5570dbfa2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update resin-supervisor to v7.25.3
                changelog-entry: Update resin-supervisor to v7.25.3
                Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
                signed-off-by: Pablo Carranza Velez <pablo@balena.io>
              author: Pablo Carranza Velez
          version: meta-resin-2.22.1
          date: 2018-10-20T04:01:35.497Z
        - commits:
            - subject: Update resin-supervisor to v7.25.2
              hash: 999d0e07e426d175168da46557855f4dee724ee2
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update resin-supervisor to v7.25.2
                changelog-entry: Update resin-supervisor to v7.25.2
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Include a CONTRIBUTING.md file
              hash: a38f167752e68db524f55bb5bec97d8a03692283
              body: |
                Fixes #422
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Include a CONTRIBUTING.md file
                changelog-entry: Include a CONTRIBUTING.md file
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Update to ModemManager v1.8.2
              hash: cd6386ffedbe4e4c4959b0f2941826c324029cb1
              body: |
                Fixes #1209
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update to ModemManager v1.8.2
                changelog-entry: Update to ModemManager v1.8.2
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
            - subject: Updates on contributing-device-support.md
              hash: 75ee54d48a40476e6de5076ffc238cb6fad25041
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Updates on contributing-device-support.md
                changelog-entry: Updates on contributing-device-support.md
                Signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
                signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
              author: Vicentiu Galanopulo
          version: meta-resin-2.22.0
          date: 2018-10-19T18:42:10.962Z
        - commits:
            - subject: Improve systemd service ordering in rollbacks
              hash: 1d729dec436d0cb2eeb8a6799a8b978aceba8f8d
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Improve systemd service ordering in rollbacks
                changelog-entry: Improve systemd service ordering in rollbacks
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update resin-supervisor to v7.24.1
              hash: e5a882a75ca49828cabcba227c4972d9e4d753d9
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update resin-supervisor to v7.24.1
                changelog-entry: Update resin-supervisor to v7.24.1
                Signed-off-by: Andrei Gherzan <andrei@balena.io>
                signed-off-by: Andrei Gherzan <andrei@balena.io>
              author: Andrei Gherzan
          version: meta-resin-2.21.0
          date: 2018-10-18T17:23:01.640Z
        - commits:
            - subject: Avoid expander on flasher based on root kernel argument
              hash: c155f8edfa543d29c7efafe2fb6c80d633b82dc1
              body: >
                The current implementation checks for the existance of the
                `flash-boot`

                label. This breaks when after flashing the flashing device is left

                plugged. Change this with a check based on the root kernel argument.


                Fixes #1210
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Avoid expander on flasher based on root kernel argument
                changelog-entry: Avoid expander on flasher based on root kernel argument
                Signed-off-by: Andrei Gherzan <andrei@resin.io>
                signed-off-by: Andrei Gherzan <andrei@resin.io>
              author: Andrei Gherzan
            - subject: "resin-vars: Implement custom ssh keys service"
              hash: 6d2e43d4693208c8df9436ea1f96c844b4faeb75
              body: >
                This patch adds support for translating SSH public keys from
                config.json

                to an authorize_keys file. We use `authorize_keys_local` file as the

                destination file of this translation so we can differentiate in between keys

                brought locally from config.json and keys brought from the balena backend

                through os-config an avoid racing issues with this tool (os-config). The final

                `authorize_keys` file will be merged at every ssh connection in the dropbear

                service.


                These SSH custom public keys in config.json are assumed to be provided

                as an array in `.os.sshKeys`. Example:

                {
                  [...]
                  "os": {
                    "sshKeys": [
                      "ssh-rsa ABCDEFGHIJKLMNOPQRSTUVWXYZ",
                      "ssh-rsa 0123456789"
                    ]
                  },
                  [...]
                }


                Fixes #608
              footer:
                Change-type: minor
                change-type: minor
                Change-log-entry: Add support for custom SSH public keys in config.json
                change-log-entry: Add support for custom SSH public keys in config.json
                Signed-off-by: Andrei Gherzan <andrei@resin.io>
                signed-off-by: Andrei Gherzan <andrei@resin.io>
              author: Andrei Gherzan
            - subject: Fix redsocks interface creation when no proxy configured
              hash: 4d278e425a5624863ff62771c8db9b4c9bcf6821
              body: |
                When we have no redsocks configuration don't create the redsocks
                interface.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix redsocks interface creation when no proxy configured
                changelog-entry: Fix redsocks interface creation when no proxy configured
                Signed-off-by: Andrei Gherzan <andrei@resin.io>
                signed-off-by: Andrei Gherzan <andrei@resin.io>
              author: Andrei Gherzan
            - subject: Replace NM's DHCP request option "Client indentifier" with udhcpc style
                option
              hash: 99b4e423003442a67f1fb45b1f4ae8d201c73b99
              body: |
                This patch replaces the "Client identifier" option from
                DHCP packets sent by NM to resemble the way udhcpc does it.

                The reason is that the Cisco RV325 router with fw older than
                v1.2.1.14 doesn't reply to DHCP requests or discovery packages
                if the "Client identifier" option is formatted in NM's style.

                Even though this is a bug in the router's fw, we are going to
                fix it here because we encountered clients that couldn't get
                an IP address on these routers and we want to avoid that
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Replace NM's DHCP request option "Client indentifier" with
                  udhcpc style option
                changelog-entry: Replace NM's DHCP request option "Client indentifier" with
                  udhcpc style option
                Signed-off-by: Sebastian Panceac <sebastian@balena.io>
                signed-off-by: Sebastian Panceac <sebastian@balena.io>
              author: Sebastian Panceac
            - subject: Fix for rollbacks in case of old balenaOS version
              hash: 814c39fb750104f1aef748a083a3384e5a594d9c
              body: >
                In some cases, the previous rootfs hooks are not functional
                (which can

                be the case when the hooks don't exist in older versions of balenaOS).


                With this patch, rollbacks will be stopped and a reboot will happen

                preventing further attempts by rollback-health to keep retrying and

                rolling back
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Fix for rollbacks in case of old balenaOS version
                changelog-entry: Fix for rollbacks in case of old balenaOS version
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update resin-supervisor to v7.21.4
              hash: 4c1f5c7cdaf889b67098832b36ccd0cc39c58b0e
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update resin-supervisor to v7.21.4
                changelog-entry: Update resin-supervisor to v7.21.4
                Signed-off-by: Cameron Diver <cameron@resin.io>
                signed-off-by: Cameron Diver <cameron@resin.io>
              author: Cameron Diver
            - subject: Warn if rules are found in /etc/udev/rules.d
              hash: f228de23f388859d7cf3847fc608863bab2c6857
              body: >
                The /etc/udev/rules.d folder is now used by os-udevrules. We
                warn if

                there are rules in /etc/udev/rules.d installed by recipes in other

                layers


                This warning will become an error in a few releases.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Warn if rules are found in /etc/udev/rules.d
                changelog-entry: Warn if rules are found in /etc/udev/rules.d
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Add support to load custom udev rules from config.json
              hash: f127232b8c7009c954f8467c32776c5fceee8c12
              body: >
                os-udevrules will parse config.json for any udev rules and copy
                the

                rules in /etc/udev/rules.d/key.rules


                udev rules can be passed via config.json in the following format

                  "settings": {
                    "udevrules": {
                      "60": "single line. Remember to escape the double quotes",
                      "99": "multi line \n2nd line"
                   }
                 }

                The above snippet will appear as /etc/udev/rules.d/60.rules

                and /etc/udev/rules.d/99.rules


                The first time rules are added/modified, these rules will be added and

                udevd will be asked to reload rules and re-trigger.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add support to load custom udev rules from config.json
                changelog-entry: Add support to load custom udev rules from config.json
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
              author: Zubair Lutfullah Kakakhel
            - subject: "aufs-util: Package auplink separately"
              hash: f8d0ae01bae540dcf52ebbbdc6315c86f7efa684
              body: >
                From the aufs-util package only the auplink binary is needed and
                that

                dependency is from balena. So we package auplink in a separate package

                and just install that package into the rootfs.
              footer:
                Change-type: minor
                change-type: minor
                Chanelog-entry: Only add auplink binary into the rootfs to decrease rootfs size
                chanelog-entry: Only add auplink binary into the rootfs to decrease rootfs size
                Signed-off-by: Florin Sarbu <florin@resin.io>
                signed-off-by: Florin Sarbu <florin@resin.io>
              author: Florin Sarbu
            - subject: Enable kernel config dependencies for MBIM and QMI
              hash: fd7c661209532296b8e6f7ce74328ffbc5ab8053
              body: >
                MBIM and QMI support needs USB_NET_DRIVERS and USB_USBNET
                enabled.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Enable kernel config dependencies for MBIM and QMI
                changelog-entry: Enable kernel config dependencies for MBIM and QMI
                Signed-off-by: Florin Sarbu <florin@resin.io>
                signed-off-by: Florin Sarbu <florin@resin.io>
              author: Florin Sarbu
            - subject: Set UPX to use LZMA compression by default
              hash: 69bc7e1c6c8382d69b57b662518909c4f7824644
              body: >
                In my testing lzma offers at least 30-40% better compression and
                it is

                introduced from v3.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Set UPX to use LZMA compression by default
                changelog-entry: Set UPX to use LZMA compression by default
                Signed-off-by: Andrei Gherzan <andrei@resin.io>
                signed-off-by: Andrei Gherzan <andrei@resin.io>
              author: Andrei Gherzan
            - subject: Downgrade UPX to 3.94 for ARM
              hash: 23423b875f2d892ce136c9a3e2f56692592c873d
              body: >
                3.95 introduced a data/instruction cache inconsistency bug:

                https://github.com/upx/upx/issues/225. As this only afects this version,

                we downgrade it for the affected architecture.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Downgrade UPX to 3.94 for ARM
                changelog-entry: Downgrade UPX to 3.94 for ARM
                Signed-off-by: Andrei Gherzan <andrei@resin.io>
                signed-off-by: Andrei Gherzan <andrei@resin.io>
              author: Andrei Gherzan
            - subject: Balena update for rollbacks. mobynit can now mount rootfs from sysroot.
              hash: 008608db1b67dd9de0445ef6e1920bb0302f618e
              body: >
                This patch bumps the balena version in meta-resin.


                The update in balena adds support to pass an argument to mobynit which

                allows mobynit to mount a rootfs from a custom path.


                The command ./mobynit -sysroot /mnt/sysroot/inactive will mount the

                rootfs partition from /mnt/sysroot/inactive and return the destination

                path in stdout.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Balena update for rollbacks. mobynit can now mount rootfs from
                  sysroot.
                changelog-entry: Balena update for rollbacks. mobynit can now mount rootfs from
                  sysroot.
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Fix proxy when using containers over bridge network
              hash: 3df6e1906e1138a8cd10d15ac3008685b90f75f8
              body: >
                Before multicontainer support in resin, the user container was
                running

                over the host's network stack which means that all the packets were

                treated as locally emitted ones. In this case, the communication was

                redirected as per the OUTPUT iptable rule only.

                In the "multicontainer world" the user containers run on top of bridge

                network which makes the host act as a socksifying router. In this case,

                the packets won't go through the OUTPUT chain and the redirection to

                redsocks needs to happen at PREROUTING chain.

                This change adds a redirect rule at PREROUTING for TCP packets to

                redsocks to redirect packets from the containers to redsocks too.


                As well, this adds support for redirecting DNS UDP packets to redsocks.

                This is implemented as iptables rules which are only added if the

                redsocks configuration has a `dnsu2t` section.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Fix proxy when using containers over bridge network
                changelog-entry: Fix proxy when using containers over bridge network
                Signed-off-by: Andrei Gherzan <andrei@resin.io>
                signed-off-by: Andrei Gherzan <andrei@resin.io>
              author: Andrei Gherzan
            - subject: Add support for aufs 4.9.9+, 4.9.94+, 4.18
              hash: bc91ca07f0a44aaffb68720fc10f3e524491d92d
              body: >
                Also, update 4.9, 4.10, 4.11.7+, 4.12, 4.13, 4.14, 4.14.56+,
                4.15,

                4.16, 4.17.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add support for aufs 4.9.9+, 4.9.94+, 4.18
                changelog-entry: Add support for aufs 4.9.9+, 4.9.94+, 4.18
                Signed-off-by: Florin Sarbu <florin@resin.io>
                signed-off-by: Florin Sarbu <florin@resin.io>
              author: Florin Sarbu
            - subject: Add rollback-altboot service before balena service
              hash: 9c35e9c8b418b9253d53df48b783babc9d116006
              body: >
                We would like resin-altboot service to run before balena starts

                resin-altboot checks if the boot configuration is set to run

                resinOS from rootA(B) but we are actually running rootB(A) due to

                something.


                If rollback-altboot triggers, it will run hooks to refresh boot files

                and reboot. There is no point starting balena in such a device state

                as that will only slow down the hooks from running.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add rollback-altboot service before balena service
                changelog-entry: Add rollback-altboot service before balena service
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Add Automated Rollback recipe
              hash: fdfc451d1a8a95b1c9b9ee2d0fc8f736c094251b
              body: >
                This recipe adds a few systemd services and scripts that handle

                automated OS rollback functionality.


                The rollback-altboot.service checks if we are running in altboot mode

                i.e. resinOS_uEnv.txt says we should boot resin_root_part=3. But we are

                actually running resinOS from resin_root_part=2. This can happen if

                a reboot happened without clearing upgrade_available in resinOS_uEnv

                txt file. A kernel panic happened etc.


                The rollback-altboot script runs hostapp-update hooks to change the

                bootfiles.


                The rollback-health.service runs rollback-health which checks if vpn is

                online and balena is healthy after a hostapp-update.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add Automated Rollback recipe
                changelog-entry: Add Automated Rollback recipe
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Add Automated Rollback support in u-boot env_resin.h
              hash: c6145d1f535098ef46f44d44d061b04fd7174f77
              body: >
                This patch adds a simple check in env_resin.h.


                If bootcount is found to be greater than bootlimit, switch the

                partitions. Both bootcount and bootlimit are standard u-boot env

                variables.


                To enable rollback in devices, devices have to do the following in

                their u-boot


                Enable CONFIG_CMD_SETEXPR, CONFIG_BOOTCOUNT_LIMIT and depending on the

                device, save the bootcount in some persistant location whether that

                is an area in the SoC or an ext partition etc.


                If you are using the CONFIG_BOOTCOUNT_EXT driver, use only the boot

                partition and use the filename "bootcount.env"


                E.g. for rpi3

                CONFIG_CMD_SETEXPR=y

                CONFIG_BOOTCOUNT_LIMIT=y

                CONFIG_SYS_BOOTCOUNT_ADDR=0x02300000

                CONFIG_BOOTCOUNT_EXT=y

                CONFIG_SYS_BOOTCOUNT_EXT_DEVPART=0:1

                CONFIG_SYS_BOOTCOUNT_EXT_NAME="bootcount.env"
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add Automated Rollback support in u-boot env_resin.h
                changelog-entry: Add Automated Rollback support in u-boot env_resin.h
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Add a hook to support Automated Rollbacks
              hash: b93b655e9cad7ad439a603ddedc9a965a909c037
              body: |
                This hook leaves breadcrumbs for the rollback-altboot and
                rollback-health service after a HUP.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add a hook to support Automated Rollbacks
                changelog-entry: Add a hook to support Automated Rollbacks
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update HUP grub hook to support Automated Rollbacks
              hash: 620d7a4466dd2aea0c3c5e4ffc95ac22e7f7651c
              body: >
                Devices that support automated os rollbacks will have two extra

                variables upgrade_available and resin_root_part in their grub.cfg

                files.


                Check for the presense of those variables and update them if they

                exist.


                Otherwise stick to the previous way of updating grub.cfg


                For devices using grub 2.0, devices will have to mirror the pattern

                that exists in u-boot.

                i.e.
                 Add a variable upgrade_available to grub.cfg (HUP hooks update this)
                 Add a variable bootcount to grubenv that increments if
                 upgrade_available is set
                 Add logic in grub.cfg to boot the alternate rootB/A if bootcount
                 reaches 2.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update HUP grub hook to support Automated Rollbacks
                changelog-entry: Update HUP grub hook to support Automated Rollbacks
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Update HUP u-boot hook to support Automated Rollbacks
              hash: 76e103304264d88178b4948c020acf1f27246f85
              body: >
                u-boot uses an upgrade_avaiable flag to update bootcount to
                reduce

                writes to sd card.


                If upgrade_available=0, u-boot won't bother updating the bootcount

                variable. During HUP, we'll set upgrade_available=1 so that u-boot

                starts counting.


                It'll be the job of the new OS and the rollback services to set

                upgrade_available=0


                For some devices, u-boot will save the bootcount in the boot partition

                in /mnt/boot/bootcount.env. Remove that counter when running hooks
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update HUP u-boot hook to support Automated Rollbacks
                changelog-entry: Update HUP u-boot hook to support Automated Rollbacks
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Move kernel-image-initramfs from resin-image recipe to
                packagegroup-resin.inc
              hash: bfa0cc20d3bb1b6a26d87507b196b54ab6d672aa
              body: >
                We add the package here as this file is included in the flasher
                image

                recipe as well
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Move kernel-image-initramfs from resin-image recipe to
                  packagegroup-resin.inc
                changelog-entry: Move kernel-image-initramfs from resin-image recipe to
                  packagegroup-resin.inc
                Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
              author: Zubair Lutfullah Kakakhel
            - subject: Have 99-resin-grub hostapp-update-hook decide which grub to use
              hash: ec0c373a8fa9dfd7ae989615646c76a4ab87f531
              body: >
                We move the decision of using either grub legacy or grub EFI
                from the

                board specific layer to here so that all boards can benefit from these

                changes.


                Additionally, we make it so that this hostapp-update-hook also deletes

                the unnecessary grub.cfg file.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Have 99-resin-grub hostapp-update-hook decide which grub to use
                changelog-entry: Have 99-resin-grub hostapp-update-hook decide which grub to use
                Signed-off-by: Florin Sarbu <florin@resin.io>
                signed-off-by: Florin Sarbu <florin@resin.io>
              author: Florin Sarbu
          version: meta-resin-2.20.0
          date: 2018-10-18T08:16:00.360Z
        - commits:
            - subject: Update Balena to fix tty console hanging in some cases
              hash: 06ae0837d2823587858437d5eb41b8fc5be8e7c6
              body: |
                https://github.com/resin-os/balena/pull/101
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update Balena to fix tty console hanging in some cases
                changelog-entry: Update Balena to fix tty console hanging in some cases
                Signed-off-by: Petros Angelatos <petrosagg@gmail.com>
                signed-off-by: Petros Angelatos <petrosagg@gmail.com>
              author: Petros Angelatos
            - subject: Pin down cargo deps (using Cargo.lock) to versions known working with
                rust 1.24.1 (for sumo)
              hash: ef3e76f2d343e8cd367214b4b5ce52b3b97be262
              body: >
                With Sumo 19.0.1, when building cargo 0.25.0 we get:

                | error[E0425]: cannot find function `read_to_string` in module `fs`

                |   --> /yocto/resin-board/build/tmp/work/x86_64-linux/cargo-native/

                0.25.0-r0/cargo_home/registry/src/github.com-1ecc6299db9ec823/

                libssh2-sys-0.2.11/build.rs:99:26

                let config = fs::read_to_string("libssh2/src/libssh2_config_cmake.h.in")

                ^^^^^^^^^^^^^^ did you mean `read_string`?


                This is just one example of a package that fails like this. There are

                multiple packages in the cargo source tree that fail with this error.


                The cargo bbclass does a:

                cargo build -v --target x86_64-linux --release


                This has the following effect:

                NOTE:- cargo build -v --target x86_64-linux --release.

                Updating registry `https://github.com/rust-lang/crates.io-index`


                Updating the registry will result in using the versions pinned upstream.

                In our case, it will be using newer versions of packages that require a

                newer rust version (read_to_string was added in rust 1.26.0). But at the

                same time, the meta-rust layer which we use has an older rust version.

                (currently meta-rust on sumo branch has rust at version 1.24.1)


                The fix for such a case would be to use a Cargo.lock file which pins

                the packages to versions which are known to work with rust 1.24.1,

                the version we use in sumo.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Pin down cargo deps (using Cargo.lock) to versions known
                  working with rust 1.24.1 (for sumo)
                changelog-entry: Pin down cargo deps (using Cargo.lock) to versions known
                  working with rust 1.24.1 (for sumo)
                Signed-off-by: Florin Sarbu <florin@resin.io>
                signed-off-by: Florin Sarbu <florin@resin.io>
              author: Florin Sarbu
            - subject: Remove duplicate packaging of bcm43143
              hash: cef8864000507af337a52e47722274921ccb5982
              body: >
                Yocto Sumo 19.0.1 already packages this firmware separately so
                let's

                remove the duplication we do here.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Remove duplicate packaging of bcm43143
                changelog-entry: Remove duplicate packaging of bcm43143
                Signed-off-by: Florin Sarbu <florin@resin.io>
                signed-off-by: Florin Sarbu <florin@resin.io>
              author: Florin Sarbu
            - subject: Set ModemManager to ignore Inca Roads Serial Device
              hash: 107ab6747db748201742bf495a1c0f41fb28f1fe
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Set ModemManager to ignore Inca Roads Serial Device
                changelog-entry: Set ModemManager to ignore Inca Roads Serial Device
                Signed-off-by: Petros Angelatos <petrosagg@gmail.com>
                signed-off-by: Petros Angelatos <petrosagg@gmail.com>
              author: Petros Angelatos
            - subject: Add support for aufs 4.14.56+
              hash: 28746ab0d4d14c0def56382b1c1747c009362107
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add support for aufs 4.14.56+
                changelog-entry: Add support for aufs 4.14.56+
                Signed-off-by: Florin Sarbu <florin@resin.io>
                signed-off-by: Florin Sarbu <florin@resin.io>
              author: Florin Sarbu
            - subject: Update resin-supervisor to v7.19.7
              hash: 9e595a0cab47b044d445d8aeab23e27a6cff58cc
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update resin-supervisor to v7.19.7
                changelog-entry: Update resin-supervisor to v7.19.7
                Signed-off-by: Cameron Diver <cameron@resin.io>
                signed-off-by: Cameron Diver <cameron@resin.io>
              author: Cameron Diver
          version: meta-resin-2.19.0
          date: 2018-09-23T15:05:11.877Z
    - subject: Update contribution commit guidelines
      hash: 2600de48473d71799a9e7b3ba0b42cbf829887de
      body: ""
      footer:
        Changelog-Entry: Update contribution commit guidelines
        changelog-entry: Update contribution commit guidelines
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Include the RTL8189ES / RTL8189ETV driver only for the Orange Pi Plus2
        board
      hash: 87940da53857935e1a2fce250eb68eee61c7f9df
      body: |
        From the list of supported boards, only the Orange Pi Plus2 board has
        this WiFi chipset so let's not include it for all.
      footer:
        Changelog-entry: Include the RTL8189ES / RTL8189ETV driver only for the Orange
          Pi Plus2 board
        changelog-entry: Include the RTL8189ES / RTL8189ETV driver only for the Orange
          Pi Plus2 board
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update the resin-yocto-scripts to master HEAD
      hash: 39872f6e2327f68873865561ad8ee0df37192947
      body: ""
      footer:
        Changelog-entry: Update the resin-yocto-scripts to master HEAD
        changelog-entry: Update the resin-yocto-scripts to master HEAD
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.26.0+rev1
  date: 2018-11-12T10:17:08.122Z
- commits:
    - subject: Update the meta-resin submodule from v2.14.3 to v2.19.0
      hash: 4cd258fe9042b9d28e815e361c9756ece1fe56df
      body: |
        Update meta-resin from 2.14.3 to 2.19.0
      footer:
        Changelog-entry: Update the meta-resin submodule from v2.14.3 to v2.19.0
        changelog-entry: Update the meta-resin submodule from v2.14.3 to v2.19.0
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
      nested:
        - commits:
            - subject: Update Balena to fix tty console hanging in some cases
              hash: 06ae0837d2823587858437d5eb41b8fc5be8e7c6
              body: |
                https://github.com/resin-os/balena/pull/101
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update Balena to fix tty console hanging in some cases
                changelog-entry: Update Balena to fix tty console hanging in some cases
                Signed-off-by: Petros Angelatos <petrosagg@gmail.com>
                signed-off-by: Petros Angelatos <petrosagg@gmail.com>
              author: Petros Angelatos
            - subject: Pin down cargo deps (using Cargo.lock) to versions known working with
                rust 1.24.1 (for sumo)
              hash: ef3e76f2d343e8cd367214b4b5ce52b3b97be262
              body: >
                With Sumo 19.0.1, when building cargo 0.25.0 we get:

                | error[E0425]: cannot find function `read_to_string` in module `fs`

                |   --> /yocto/resin-board/build/tmp/work/x86_64-linux/cargo-native/

                0.25.0-r0/cargo_home/registry/src/github.com-1ecc6299db9ec823/

                libssh2-sys-0.2.11/build.rs:99:26

                let config = fs::read_to_string("libssh2/src/libssh2_config_cmake.h.in")

                ^^^^^^^^^^^^^^ did you mean `read_string`?


                This is just one example of a package that fails like this. There are

                multiple packages in the cargo source tree that fail with this error.


                The cargo bbclass does a:

                cargo build -v --target x86_64-linux --release


                This has the following effect:

                NOTE:- cargo build -v --target x86_64-linux --release.

                Updating registry `https://github.com/rust-lang/crates.io-index`


                Updating the registry will result in using the versions pinned upstream.

                In our case, it will be using newer versions of packages that require a

                newer rust version (read_to_string was added in rust 1.26.0). But at the

                same time, the meta-rust layer which we use has an older rust version.

                (currently meta-rust on sumo branch has rust at version 1.24.1)


                The fix for such a case would be to use a Cargo.lock file which pins

                the packages to versions which are known to work with rust 1.24.1,

                the version we use in sumo.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Pin down cargo deps (using Cargo.lock) to versions known
                  working with rust 1.24.1 (for sumo)
                changelog-entry: Pin down cargo deps (using Cargo.lock) to versions known
                  working with rust 1.24.1 (for sumo)
                Signed-off-by: Florin Sarbu <florin@resin.io>
                signed-off-by: Florin Sarbu <florin@resin.io>
              author: Florin Sarbu
            - subject: Remove duplicate packaging of bcm43143
              hash: cef8864000507af337a52e47722274921ccb5982
              body: >
                Yocto Sumo 19.0.1 already packages this firmware separately so
                let's

                remove the duplication we do here.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Remove duplicate packaging of bcm43143
                changelog-entry: Remove duplicate packaging of bcm43143
                Signed-off-by: Florin Sarbu <florin@resin.io>
                signed-off-by: Florin Sarbu <florin@resin.io>
              author: Florin Sarbu
            - subject: Set ModemManager to ignore Inca Roads Serial Device
              hash: 107ab6747db748201742bf495a1c0f41fb28f1fe
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Set ModemManager to ignore Inca Roads Serial Device
                changelog-entry: Set ModemManager to ignore Inca Roads Serial Device
                Signed-off-by: Petros Angelatos <petrosagg@gmail.com>
                signed-off-by: Petros Angelatos <petrosagg@gmail.com>
              author: Petros Angelatos
            - subject: Add support for aufs 4.14.56+
              hash: 28746ab0d4d14c0def56382b1c1747c009362107
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add support for aufs 4.14.56+
                changelog-entry: Add support for aufs 4.14.56+
                Signed-off-by: Florin Sarbu <florin@resin.io>
                signed-off-by: Florin Sarbu <florin@resin.io>
              author: Florin Sarbu
            - subject: Update resin-supervisor to v7.19.7
              hash: 9e595a0cab47b044d445d8aeab23e27a6cff58cc
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update resin-supervisor to v7.19.7
                changelog-entry: Update resin-supervisor to v7.19.7
                Signed-off-by: Cameron Diver <cameron@resin.io>
                signed-off-by: Cameron Diver <cameron@resin.io>
              author: Cameron Diver
          version: meta-resin-2.19.0
          date: 2018-09-23T15:05:11.877Z
        - commits:
            - subject: Add a parsable representation of the changelog
              hash: f6c58c1e4da805e5e53da0af08128b7fb4adb87e
              body: >
                This file allows other components to uniquely parse the
                information that

                is contained in the changelog. It will be automatically managed by

                versionist by appending the new commits on top. This is needed to

                provide nested-changelogs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Giovanni Garufi <giovanni@resin.io>
                signed-off-by: Giovanni Garufi <giovanni@resin.io>
                Changelog-entry: Add a parsable representation of the changelog
                changelog-entry: Add a parsable representation of the changelog
              author: Giovanni Garufi
          version: meta-resin-2.18.1
          date: 2018-09-14T12:50:23.575Z
        - version: meta-resin-v2.18.0
          date: 2018-09-12T00:00:00.000Z
          commits:
            - subject: Update grub hooks to prepare to load kernel from root [Zubair Lutfullah
                Kakakhel]
            - subject: Update resin-supervisor to v7.19.4 [Cameron Diver]
            - subject: "Kernel-resin.bbclass: Enable CONFIG_IP_NF_TARGET_LOG as a module [John
                (Jack) Brown]"
            - subject: "Balena: Update to current HEAD of 17.12-resin [Andrei Gherzan]"
            - subject: Compress os-config with UPX on arm64 too [Andrei Gherzan]
            - subject: Update upx to 3.95 [Andrei Gherzan]
            - subject: Add support to skip flasher detection in env_resin.h [Zubair Lutfullah
                Kakakhel]
            - subject: Add the kernel to the rootfs [Zubair Lutfullah Kakakhel]
            - subject: Rework resin-supervisor systemd dependency on balena [Florin Sarbu]
            - subject: Enhanced security options for dropbear - sumo [Andrei Gherzan]
            - subject: Enhanced security options for dropbear - rocko [Andrei Gherzan]
            - subject: Enhanced security options for dropbear - pyro [Andrei Gherzan]
            - subject: Enhanced security options for dropbear - morty [Andrei Gherzan]
            - subject: Enhanced security options for dropbear - krogoth [Andrei Gherzan]
        - commits:
            - subject: "Resin-proxy-config: The no_proxy file fails to parse when missing EOL
                [Rich Bayliss]"
          date: 2018-09-03T00:00:00.000Z
          version: meta-resin-2.17.0
        - commits:
            - subject: "Os-config: UPX is broken on aarch64 [Theodor Gherzan]"
            - subject: Allow flasher types to pin preloaded devices [Theodor Gherzan]
            - subject: Disable PIE for go [Zubair Lutfullah Kakakhel]
            - subject: Disable PIE for balena [Zubair Lutfullah Kakakhel]
          date: 2018-08-31T00:00:00.000Z
          version: meta-resin-2.16.0
        - commits:
            - subject: Bump balena version to latest 17.12-resin [Zubair Lutfullah Kakakhel]
            - subject: Update NetworkManager to 1.12.2 [Andrei Gherzan]
            - subject: Avoid os-config-devicekey / uuid service race [Andrei Gherzan]
            - subject: Move the rw copy of config.json out of /tmp for flasher [Andrei
                Gherzan]
            - subject: Fix dashboard feedback on fast flashing devices [Andrei Gherzan]
            - subject: Fix ucl dependency in upx [Andrei Gherzan]
            - subject: Update kernel-modules-headers to v0.0.11 [Andrei Gherzan]
          date: 2018-08-28T00:00:00.000Z
          version: meta-resin-2.15.0
        - commits:
            - subject: Update resin supervisor to v7.16.6 [Cameron Diver]
          date: 2018-08-13T00:00:00.000Z
          version: meta-resin-2.14.3
    - subject: Update the meta-sunxi submodule to latest sumo
      hash: 568484ce19051d8301dd4edf92ced920365d964f
      body: |
        This update adds eMMC support in u-boot and kernel
      footer:
        Changelog-entry: Update the meta-sunxi submodule to latest sumo
        changelog-entry: Update the meta-sunxi submodule to latest sumo
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Do not package missing armbian dtbs for the Nanopi Neo Air
      hash: ea90d9dcbae7bfffa42f2287bb33060e6a95bd0b
      body: |
        We switched the Nanopi Neo Air to the mainline kernel and this kernel
        does not yet have these additional dtbs that the armbian kernel has.
      footer:
        Changelog-entry: Do not package missing armbian dtbs for the Nanopi Neo Air
        changelog-entry: Do not package missing armbian dtbs for the Nanopi Neo Air
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
  version: 2.19.0+rev1
  date: 2018-10-09T12:22:10.796Z
- commits:
    - subject: Add a parsable representation of the changelog
      hash: dd5f2da3d206c5ff56e51f7169af9a65d18b24a1
      body: |
        This file allows other components to uniquely parse the information that
        is contained in the changelog. It will be automatically managed by
        versionist by appending the new commits on top. This is needed to
        provide nested-changelogs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Giovanni Garufi <giovanni@resin.io>
        signed-off-by: Giovanni Garufi <giovanni@resin.io>
        Changelog-entry: Add a parsable representation of the changelog
        changelog-entry: Add a parsable representation of the changelog
      author: Giovanni Garufi
  version: 2.14.3+rev4
  date: 2018-09-25T16:17:03.382Z
- version: 2.14.3+rev3
  date: 2018-09-25T22:00:00.000Z
  commits:
    - subject: Update the poky submodule to sumo-19.0.1 [Florin Sarbu]
- version: 2.14.3+rev2
  date: 2018-09-09T22:00:00.000Z
  commits:
    - subject: Add new style docs links for NanoPi Neo Air [Florin Sarbu]
    - subject: Use nanopi-neo-air.conf machine definition from the BSP layer [Florin
        Sarbu]
    - subject: Set PREFERRED_VERSION linux-mainline to 4.17.3 for bananapi-m1-plus
        [Florin Sarbu]
    - subject: Clean-up swap, conf-notes.txt and obsolete kernel recipes [Florin Sarbu]
    - subject: Add LAYERSERIES_COMPAT to yocto in layer.conf [Florin Sarbu]
    - subject: Add versionist support [Giovanni Garufi]
- version: 2.14.3+rev1
  date: 2018-08-13T22:00:00.000Z
  commits:
    - subject: Update the meta-resin submodule to version v2.14.3 [Florin]
    - subject: Switch to Yocto Sumo 19.0.0 [Florin]
- version: 2.14.0+rev3
  date: 2018-07-26T22:00:00.000Z
  commits:
    - subject: "linux-mainline: Enable CONFIG_USB_SERIAL_OPTION necessary for modems
        functionality [Sebastian]"
- version: 2.14.0+rev2
  date: 2018-07-25T22:00:00.000Z
  commits:
    - subject: "linux-mainline: Enable drivers for CP210x usb-serial converters
        [Sebastian]"
    - subject: "linux-mainline: Enable drivers for Huawei modems [Sebastian]"
    - subject: Update the resin-yocto-scripts submodule to
        8312741e13604a9d166370349061876afb22c0fa [Sebastian]
- version: 2.14.0+rev1
  date: 2018-07-17T22:00:00.000Z
  commits:
    - subject: Update the meta-resin submodule to version v2.14.0 [Florin]
- version: 2.13.6+rev1
  date: 2018-07-12T22:00:00.000Z
  commits:
    - subject: Update the meta-resin submodule to version v2.13.6 [Sebastian]
    - subject: 'linux-mainline: Revert "random: fix crng_ready() test" patch
        [Sebastian]'
    - subject: "coffeescript: Add instructions for flashing OrangePi Plus2 [Thodoris]"
- version: 2.13.5+rev1
  date: 2018-07-08T22:00:00.000Z
  commits:
    - subject: Update the meta-resin submodule to version v2.13.5 [Sebastian]
    - subject: Update the resin-yocto-scripts submodule to
        59ccd8558435ff6424827fb36ccb43b14650f4d4 [Sebastian]
- version: 2.13.3+rev1
  date: 2018-07-03T22:00:00.000Z
  commits:
    - subject: Update meta-resin submodule to version 2.13.3 [Sebastian]
    - subject: "linux-mainline: Update kernel to 4.17.3 version for OrangePi Plus2
        [Sebastian]"
    - subject: "linux-mainline: Activate USB_SERIAL_PL2303 kernel module for
        OrangePi-Plus2 [Sebastian]"
    - subject: "linux-mainline: Enable i2c0 in OrangePi-Plus2 device tree [Sebastian]"
- version: 2.12.7+rev3
  date: 2018-05-22T22:00:00.000Z
  commits:
    - subject: "packagegroup-resin-connectivity: Add necessary firmware for WiFi
        [Sebastian]"
- version: 2.12.7+rev2
  date: 2018-05-15T22:00:00.000Z
  commits:
    - subject: "hostapp-update-hooks: Fix bootloader update hook [Sebastian]"
- version: 2.12.7+rev1
  date: 2018-05-10T22:00:00.000Z
  commits:
    - subject: Update the meta-resin submodule to version v2.12.7 [Sebastian]
    - subject: Add support for the OrangePi Plus2 device [Sebastian]
- version: 2.12.6+rev1
  date: 2018-05-01T22:00:00.000Z
  commits:
    - subject: Update the meta-resin submodule to version v2.12.6 [Florin]
- version: 2.12.5+rev4
  date: 2018-04-12T22:00:00.000Z
  commits:
    - subject: Use correct deploy artifact name in coffescript [Sebastian]
    - subject: Use native python as u-boot tool [Sebastian]
    - subject: Update resin-yocto-scripts to f7718efbbf53369aaacb7eb54e707ee8a5d4fc4b
        [Sebastian]
- version: 2.12.5+rev3
  date: 2018-03-29T22:00:00.000Z
  commits:
    - subject: Remove oe-meta-go layer from .gitmodules [Sebastian]
- version: 2.12.5+rev2
  date: 2018-03-29T22:00:00.000Z
  commits:
    - subject: Update resin-yocto-scripts to 9cecb1ca4d9d4713dd337148b7d04a17afdba772
        [Sebastian]
- version: 2.12.5+rev1
  date: 2018-03-25T22:00:00.000Z
  commits:
    - subject: Update meta-resin submodule to version v2.12.5 [Sebastian]
    - subject: Update resin-yocto-scripts to 51b8849e2a02d0d4e729bff24909d9746e0bf4c3
        [Sebastian]
- version: 2.12.3+rev1
  date: 2018-03-20T23:00:00.000Z
  commits:
    - subject: Add support for BananaPi-M1+ boards [Sebastian]
